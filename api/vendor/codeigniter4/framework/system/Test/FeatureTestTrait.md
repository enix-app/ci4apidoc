


 



<table>
<tr>
<td style="width:100%"><em>framework/system/Test/FeatureTestTrait.php</em></td>
<td><a href="../../../../../../api/index.md">index</a></td>
<td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/FeatureTestCase.md">prev</a></td>
<td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Filters/CITestStreamFilter.md">next</a></td>
</tr>
</table>







# CodeIgniter\Test 
<table style="text-align:left">
<tr><th>namespace</th><td>CodeIgniter\Test</td></tr>
</table>

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
CodeIgniter
</td></tr>
</table>

<table>
<tr><td>
An open source application development framework for PHP

This content is released under the MIT License (MIT)

Copyright (c) 2014-2019 British Columbia Institute of Technology
Copyright (c) 2019-2020 CodeIgniter Foundation

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
</td></tr>
</table>

</details>



<table style="text-align:left">
<tr style="vertical-align:top;">
<th>package</th>
<td>CodeIgniter
</td>
</tr>
<tr style="vertical-align:top;">
<th>author</th>
<td>CodeIgniter Dev Team
</td>
</tr>
<tr style="vertical-align:top;">
<th>copyright</th>
<td>2019-2020 CodeIgniter Foundation
</td>
</tr>
<tr style="vertical-align:top;">
<th>license</th>
<td><a href="https://opensource.org/licenses/MIT">https://opensource.org/licenses/MIT</a>	MIT License
</td>
</tr>
<tr style="vertical-align:top;">
<th>link</th>
<td><a href="https://codeigniter.com">https://codeigniter.com</a>

</td>
</tr>
<tr style="vertical-align:top;">
<th>filesource</th>
<td>framework/system/Test/FeatureTestTrait.php
</td>
</tr>
</table>

 

<details>
<summary style="margin-bottom:12px;"><strong>Members</strong></summary>
<table>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/CIDatabaseTestCase.md">CodeIgniter\Test\CIDatabaseTestCase</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/CIUnitTestCase.md">CodeIgniter\Test\CIUnitTestCase</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/ControllerResponse.md">CodeIgniter\Test\ControllerResponse</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/ControllerTester.md">CodeIgniter\Test\ControllerTester</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/DOMParser.md">CodeIgniter\Test\DOMParser</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Fabricator.md">CodeIgniter\Test\Fabricator</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/FeatureResponse.md">CodeIgniter\Test\FeatureResponse</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/FeatureTestCase.md">CodeIgniter\Test\FeatureTestCase</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/FeatureTestTrait.md">CodeIgniter\Test\FeatureTestTrait</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Filters/CITestStreamFilter.md">CodeIgniter\Test\Filters\CITestStreamFilter</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Interfaces/FabricatorModel.md">CodeIgniter\Test\Interfaces\FabricatorModel</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockAppConfig.md">CodeIgniter\Test\Mock\MockAppConfig</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockAutoload.md">CodeIgniter\Test\Mock\MockAutoload</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockBuilder.md">CodeIgniter\Test\Mock\MockBuilder</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockCLIConfig.md">CodeIgniter\Test\Mock\MockCLIConfig</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockCURLRequest.md">CodeIgniter\Test\Mock\MockCURLRequest</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockCache.md">CodeIgniter\Test\Mock\MockCache</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockCodeIgniter.md">CodeIgniter\Test\Mock\MockCodeIgniter</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockConnection.md">CodeIgniter\Test\Mock\MockConnection</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockEmail.md">CodeIgniter\Test\Mock\MockEmail</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockEvents.md">CodeIgniter\Test\Mock\MockEvents</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockFileLogger.md">CodeIgniter\Test\Mock\MockFileLogger</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockIncomingRequest.md">CodeIgniter\Test\Mock\MockIncomingRequest</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockLanguage.md">CodeIgniter\Test\Mock\MockLanguage</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockLogger.md">CodeIgniter\Test\Mock\MockLogger</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockQuery.md">CodeIgniter\Test\Mock\MockQuery</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockResourceController.md">CodeIgniter\Test\Mock\MockResourceController</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockResourcePresenter.md">CodeIgniter\Test\Mock\MockResourcePresenter</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockResponse.md">CodeIgniter\Test\Mock\MockResponse</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockResult.md">CodeIgniter\Test\Mock\MockResult</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockSecurity.md">CodeIgniter\Test\Mock\MockSecurity</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockServices.md">CodeIgniter\Test\Mock\MockServices</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockSession.md">CodeIgniter\Test\Mock\MockSession</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockTable.md">CodeIgniter\Test\Mock\MockTable</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/ReflectionHelper.md">CodeIgniter\Test\ReflectionHelper</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/TestLogger.md">CodeIgniter\Test\TestLogger</a></td></tr>
</table>
</details>



 
 ## Uses

<table style="text-align:left;">
<tr>
<td>
<a href="../../../../../../api/vendor/codeigniter4/framework/system/Events/Events.md"><strong>CodeIgniter\Events\Events</strong></a>
</td>
<td>Events</td>
</tr>
<tr>
<td>
<a href="../../../../../../api/vendor/codeigniter4/framework/system/HTTP/IncomingRequest.md"><strong>CodeIgniter\HTTP\IncomingRequest</strong></a>
</td>
<td>IncomingRequest</td>
</tr>
<tr>
<td>
<a href="../../../../../../api/vendor/codeigniter4/framework/system/HTTP/Request.md"><strong>CodeIgniter\HTTP\Request</strong></a>
</td>
<td>Request</td>
</tr>
<tr>
<td>
<a href="../../../../../../api/vendor/codeigniter4/framework/system/HTTP/URI.md"><strong>CodeIgniter\HTTP\URI</strong></a>
</td>
<td>URI</td>
</tr>
<tr>
<td>
<a href="../../../../../../api/vendor/codeigniter4/framework/system/HTTP/UserAgent.md"><strong>CodeIgniter\HTTP\UserAgent</strong></a>
</td>
<td>UserAgent</td>
</tr>
<tr>
<td>
<strong>Config\App</strong>
</td>
<td>App</td>
</tr>
<tr>
<td>
<strong>Config\Services</strong>
</td>
<td>Services</td>
</tr>
</table>



 
## CodeIgniter\Test\FeatureTestTrait

<table style="text-align:left">
<tr><th>Trait</th><td>FeatureTestTrait</td></tr>
<tr><th>Fully Qualified Name</th><td>CodeIgniter\Test\FeatureTestTrait</td></tr>
</table>


<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Trait FeatureTestTrait
</td></tr>
</table>

<table>
<tr><td>
Provides additional utilities for doing full HTTP testing
against your application in trait format.
</td></tr>
</table>

</details>



<table style="text-align:left">
<tr style="vertical-align:top;">
<th>package</th>
<td>CodeIgniter\Test
</td>
</tr>
</table>



### Summary


<table style="text-align:left;">
<tr>
<th>Name</th>
<th>Element</th>
<th>Modifier</th>
<th>Description</th>
</tr>


<tr>
<th><a href="#withRoutes"><strong>withRoutes</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>Sets a RouteCollection that will override
the application&#039;s route collection.</td>
</tr>
<tr>
<th><a href="#withSession"><strong>withSession</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Sets any values that should exist during this session.</td>
</tr>
<tr>
<th><a href="#withHeaders"><strong>withHeaders</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Set request&#039;s headers</td>
</tr>
<tr>
<th><a href="#skipEvents"><strong>skipEvents</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Don&#039;t run any events while running this test.</td>
</tr>
<tr>
<th><a href="#call"><strong>call</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Calls a single URI, executes it, and returns a FeatureResponse
instance that can be used to run many assertions against.</td>
</tr>
<tr>
<th><a href="#get"><strong>get</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Performs a GET request.</td>
</tr>
<tr>
<th><a href="#post"><strong>post</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Performs a POST request.</td>
</tr>
<tr>
<th><a href="#put"><strong>put</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Performs a PUT request</td>
</tr>
<tr>
<th><a href="#patch"><strong>patch</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Performss a PATCH request</td>
</tr>
<tr>
<th><a href="#delete"><strong>delete</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Performs a DELETE request.</td>
</tr>
<tr>
<th><a href="#options"><strong>options</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Performs an OPTIONS request.</td>
</tr>
<tr>
<th><a href="#setupRequest"><strong>setupRequest</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>Setup a Request object to use so that CodeIgniter
won&#039;t try to auto-populate some of the items.</td>
</tr>
<tr>
<th><a href="#setupHeaders"><strong>setupHeaders</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>Setup the custom request&#039;s headers</td>
</tr>
<tr>
<th><a href="#populateGlobals"><strong>populateGlobals</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>Populates the data of our Request with &quot;global&quot; data
relevant to the request, like $_POST data.</td>
</tr>

</table>






### Methods


<hr>

#### withRoutes()

```php
protected function withRoutes(array $routes = null)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Sets a RouteCollection that will override
the application's route collection.
</td></tr>
</table>

<table>
<tr><td>
Example routes:
[
   ['get', 'home', 'Home::index']
]
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$routes</code></td>
<td><em>array
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>$this
</td>
</tr>
</table>





<details>
<summary><small>Source: 17 lines (73 - 89)</small></summary>

```php
protected function withRoutes(array $routes = null)
{
	$collection = Services::routes();

	if ($routes)
	{
		$collection->resetRoutes();
		foreach ($routes as $route)
		{
			$collection->{$route[0]}($route[1], $route[2]);
		}
	}

	$this->routes = $collection;

	return $this;
}
```

</details>


<hr>

#### withSession()

```php
public function withSession(array $values = null)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Sets any values that should exist during this session.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$</code></td>
<td><em>array<br>null
</em></td>
<td>false</td>
<td>Array of values, or null to use the current $_SESSION</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>$this
</td>
</tr>
</table>





<details>
<summary><small>Source: 6 lines (98 - 103)</small></summary>

```php
public function withSession(array $values = null)
{
	$this->session = is_null($values) ? $_SESSION : $values;

	return $this;
}
```

</details>


<hr>

#### withHeaders()

```php
public function withHeaders(array $headers = array())
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Set request's headers
</td></tr>
</table>

<table>
<tr><td>
Example of use
withHeaders([
 'Authorization' => 'Token'
])
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$</code></td>
<td><em>array
</em></td>
<td>false</td>
<td>Array of headers</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>$this
</td>
</tr>
</table>





<details>
<summary><small>Source: 6 lines (117 - 122)</small></summary>

```php
public function withHeaders(array $headers = [])
{
	$this->headers = $headers;

	return $this;
}
```

</details>


<hr>

#### skipEvents()

```php
public function skipEvents()
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Don't run any events while running this test.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>





<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>$this
</td>
</tr>
</table>





<details>
<summary><small>Source: 6 lines (129 - 134)</small></summary>

```php
public function skipEvents()
{
	Events::simulate(true);

	return $this;
}
```

</details>


<hr>

#### call()

```php
public function call(string $method, string $path, array $params = null)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Calls a single URI, executes it, and returns a FeatureResponse
instance that can be used to run many assertions against.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$method</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$path</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>3.</td>
<td><code>$params</code></td>
<td><em>array<br>null
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\CodeIgniter\Test\FeatureResponse
</td>
</tr>
</table>


<table>
<tr>
<th style="vertical-align:top;">throw</th>
<td>\CodeIgniter\Router\Exceptions\RedirectException
</td>
</tr>
<tr>
<th style="vertical-align:top;">throw</th>
<td>\Exception
</td>
</tr>
</table>



<details>
<summary><small>Source: 59 lines (148 - 206)</small></summary>

```php
public function call(string $method, string $path, array $params = null)
{
	$buffer = \ob_get_level();

	// Clean up any open output buffers
	// not relevant to unit testing
	// @codeCoverageIgnoreStart
	if (\ob_get_level() > 0 && (! isset($this->clean) || $this->clean === true))
	{
		\ob_end_clean();
	}
	// @codeCoverageIgnoreEnd

	// Simulate having a blank session
	$_SESSION                  = [];
	$_SERVER['REQUEST_METHOD'] = $method;

	$request = $this->setupRequest($method, $path);
	$request = $this->setupHeaders($request);
	$request = $this->populateGlobals($method, $request, $params);

	// Make sure the RouteCollection knows what method we're using...
	$routes = $this->routes ?: Services::routes();
	$routes->setHTTPVerb($method);

	// Make sure any other classes that might call the request
	// instance get the right one.
	Services::injectMock('request', $request);

	// Make sure filters are reset between tests
	Services::injectMock('filters', Services::filters(null, false));

	$response = $this->app
			->setRequest($request)
			->run($routes, true);

	$output = \ob_get_contents();
	if (empty($response->getBody()) && ! empty($output))
	{
		$response->setBody($output);
	}

	// Reset directory if it has been set
	Services::router()->setDirectory(null);

	// Ensure the output buffer is identical so no tests are risky
	// @codeCoverageIgnoreStart
	while (\ob_get_level() > $buffer)
	{
		\ob_end_clean();
	}
	while (\ob_get_level() < $buffer)
	{
		\ob_start();
	}
	// @codeCoverageIgnoreEnd

	return new FeatureResponse($response);
}
```

</details>


<hr>

#### get()

```php
public function get(string $path, array $params = null)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Performs a GET request.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$path</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$params</code></td>
<td><em>array<br>null
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\CodeIgniter\Test\FeatureResponse
</td>
</tr>
</table>


<table>
<tr>
<th style="vertical-align:top;">throw</th>
<td>\CodeIgniter\Router\Exceptions\RedirectException
</td>
</tr>
<tr>
<th style="vertical-align:top;">throw</th>
<td>\Exception
</td>
</tr>
</table>



<details>
<summary><small>Source: 4 lines (218 - 221)</small></summary>

```php
public function get(string $path, array $params = null)
{
	return $this->call('get', $path, $params);
}
```

</details>


<hr>

#### post()

```php
public function post(string $path, array $params = null)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Performs a POST request.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$path</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$params</code></td>
<td><em>array<br>null
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\CodeIgniter\Test\FeatureResponse
</td>
</tr>
</table>


<table>
<tr>
<th style="vertical-align:top;">throw</th>
<td>\CodeIgniter\Router\Exceptions\RedirectException
</td>
</tr>
<tr>
<th style="vertical-align:top;">throw</th>
<td>\Exception
</td>
</tr>
</table>



<details>
<summary><small>Source: 4 lines (233 - 236)</small></summary>

```php
public function post(string $path, array $params = null)
{
	return $this->call('post', $path, $params);
}
```

</details>


<hr>

#### put()

```php
public function put(string $path, array $params = null)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Performs a PUT request
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$path</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$params</code></td>
<td><em>array<br>null
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\CodeIgniter\Test\FeatureResponse
</td>
</tr>
</table>


<table>
<tr>
<th style="vertical-align:top;">throw</th>
<td>\CodeIgniter\Router\Exceptions\RedirectException
</td>
</tr>
<tr>
<th style="vertical-align:top;">throw</th>
<td>\Exception
</td>
</tr>
</table>



<details>
<summary><small>Source: 4 lines (248 - 251)</small></summary>

```php
public function put(string $path, array $params = null)
{
	return $this->call('put', $path, $params);
}
```

</details>


<hr>

#### patch()

```php
public function patch(string $path, array $params = null)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Performss a PATCH request
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$path</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$params</code></td>
<td><em>array<br>null
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\CodeIgniter\Test\FeatureResponse
</td>
</tr>
</table>


<table>
<tr>
<th style="vertical-align:top;">throw</th>
<td>\CodeIgniter\Router\Exceptions\RedirectException
</td>
</tr>
<tr>
<th style="vertical-align:top;">throw</th>
<td>\Exception
</td>
</tr>
</table>



<details>
<summary><small>Source: 4 lines (263 - 266)</small></summary>

```php
public function patch(string $path, array $params = null)
{
	return $this->call('patch', $path, $params);
}
```

</details>


<hr>

#### delete()

```php
public function delete(string $path, array $params = null)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Performs a DELETE request.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$path</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$params</code></td>
<td><em>array<br>null
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\CodeIgniter\Test\FeatureResponse
</td>
</tr>
</table>


<table>
<tr>
<th style="vertical-align:top;">throw</th>
<td>\CodeIgniter\Router\Exceptions\RedirectException
</td>
</tr>
<tr>
<th style="vertical-align:top;">throw</th>
<td>\Exception
</td>
</tr>
</table>



<details>
<summary><small>Source: 4 lines (278 - 281)</small></summary>

```php
public function delete(string $path, array $params = null)
{
	return $this->call('delete', $path, $params);
}
```

</details>


<hr>

#### options()

```php
public function options(string $path, array $params = null)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Performs an OPTIONS request.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$path</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$params</code></td>
<td><em>array<br>null
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\CodeIgniter\Test\FeatureResponse
</td>
</tr>
</table>


<table>
<tr>
<th style="vertical-align:top;">throw</th>
<td>\CodeIgniter\Router\Exceptions\RedirectException
</td>
</tr>
<tr>
<th style="vertical-align:top;">throw</th>
<td>\Exception
</td>
</tr>
</table>



<details>
<summary><small>Source: 4 lines (293 - 296)</small></summary>

```php
public function options(string $path, array $params = null)
{
	return $this->call('options', $path, $params);
}
```

</details>


<hr>

#### setupRequest()

```php
protected function setupRequest(string $method, string $path = null) : IncomingRequest
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Setup a Request object to use so that CodeIgniter
won't try to auto-populate some of the items.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$method</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$path</code></td>
<td><em>string<br>null
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\CodeIgniter\HTTP\IncomingRequest
</td>
</tr>
</table>





<details>
<summary><small>Source: 18 lines (307 - 324)</small></summary>

```php
protected function setupRequest(string $method, string $path = null): IncomingRequest
{
	$config = config(App::class);
	$uri    = new URI(rtrim($config->baseURL, '/') . '/' . trim($path, '/ '));

	$request      = new IncomingRequest($config, clone($uri), null, new UserAgent());
	$request->uri = $uri;

	$request->setMethod($method);
	$request->setProtocolVersion('1.1');

	if ($config->forceGlobalSecureRequests)
	{
		$_SERVER['HTTPS'] = 'test';
	}

	return $request;
}
```

</details>


<hr>

#### setupHeaders()

```php
protected function setupHeaders(Request $request)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Setup the custom request's headers
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$request</code></td>
<td><em>\CodeIgniter\HTTP\Request
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\CodeIgniter\HTTP\IncomingRequest
</td>
</tr>
</table>





<details>
<summary><small>Source: 12 lines (333 - 344)</small></summary>

```php
protected function setupHeaders(Request $request)
{
	if (! empty($this->headers))
	{
		foreach ($this->headers as $name => $value)
		{
			$request->setHeader($name, $value);
		}
	}

	return $request;
}
```

</details>


<hr>

#### populateGlobals()

```php
protected function populateGlobals(string $method, Request $request, array $params = null)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Populates the data of our Request with "global" data
relevant to the request, like $_POST data.
</td></tr>
</table>

<table>
<tr><td>
Always populate the GET vars based on the URI.
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$method</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$request</code></td>
<td><em>\CodeIgniter\HTTP\Request
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>3.</td>
<td><code>$params</code></td>
<td><em>array<br>null
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\CodeIgniter\HTTP\Request
</td>
</tr>
</table>


<table>
<tr>
<th style="vertical-align:top;">throw</th>
<td>\ReflectionException
</td>
</tr>
</table>



<details>
<summary><small>Source: 20 lines (359 - 378)</small></summary>

```php
protected function populateGlobals(string $method, Request $request, array $params = null)
{
	// $params should set the query vars if present,
	// otherwise set it from the URL.
	$get = ! empty($params) && $method === 'get'
		? $params
		: $this->getPrivateProperty($request->uri, 'query');

	$request->setGlobal('get', $get);
	if ($method !== 'get')
	{
		$request->setGlobal($method, $params);
	}

	$request->setGlobal('request', $params);

	$_SESSION = $this->session ?? [];

	return $request;
}
```

</details>





 


 
  




<hr>

<table>
<tr>
<td style="width:100%"><em>framework/system/Test/FeatureTestTrait.php</em></td>
<td><a href="../../../../../../api/index.md">index</a></td>
<td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/FeatureTestCase.md">prev</a></td>
<td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Filters/CITestStreamFilter.md">next</a></td>
<td><a href="#">top</a></td></tr>
</table>




<div style="text-align:right;">

<small>_Generated at **2020-08-14 07:35:15**_ *([EnixApp](https://github.com/enix-app) - [ApiDoc](https://github.com/enix-app/apidoc))*</small>
</div>