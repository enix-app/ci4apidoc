


 



<table>
<tr>
<td style="width:100%"><em>framework/system/Test/FeatureResponse.php</em></td>
<td><a href="../../../../../../api/index.md">index</a></td>
<td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Fabricator.md">prev</a></td>
<td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/FeatureTestCase.md">next</a></td>
</tr>
</table>







# CodeIgniter\Test 
<table style="text-align:left">
<tr><th>namespace</th><td>CodeIgniter\Test</td></tr>
</table>

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
CodeIgniter
</td></tr>
</table>

<table>
<tr><td>
An open source application development framework for PHP

This content is released under the MIT License (MIT)

Copyright (c) 2014-2019 British Columbia Institute of Technology
Copyright (c) 2019-2020 CodeIgniter Foundation

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
</td></tr>
</table>

</details>



<table style="text-align:left">
<tr style="vertical-align:top;">
<th>package</th>
<td>CodeIgniter
</td>
</tr>
<tr style="vertical-align:top;">
<th>author</th>
<td>CodeIgniter Dev Team
</td>
</tr>
<tr style="vertical-align:top;">
<th>copyright</th>
<td>2019-2020 CodeIgniter Foundation
</td>
</tr>
<tr style="vertical-align:top;">
<th>license</th>
<td><a href="https://opensource.org/licenses/MIT">https://opensource.org/licenses/MIT</a>	MIT License
</td>
</tr>
<tr style="vertical-align:top;">
<th>link</th>
<td><a href="https://codeigniter.com">https://codeigniter.com</a>

</td>
</tr>
<tr style="vertical-align:top;">
<th>filesource</th>
<td>framework/system/Test/FeatureResponse.php
</td>
</tr>
</table>

 

<details>
<summary style="margin-bottom:12px;"><strong>Members</strong></summary>
<table>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/CIDatabaseTestCase.md">CodeIgniter\Test\CIDatabaseTestCase</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/CIUnitTestCase.md">CodeIgniter\Test\CIUnitTestCase</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/ControllerResponse.md">CodeIgniter\Test\ControllerResponse</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/ControllerTester.md">CodeIgniter\Test\ControllerTester</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/DOMParser.md">CodeIgniter\Test\DOMParser</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Fabricator.md">CodeIgniter\Test\Fabricator</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/FeatureResponse.md">CodeIgniter\Test\FeatureResponse</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/FeatureTestCase.md">CodeIgniter\Test\FeatureTestCase</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/FeatureTestTrait.md">CodeIgniter\Test\FeatureTestTrait</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Filters/CITestStreamFilter.md">CodeIgniter\Test\Filters\CITestStreamFilter</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Interfaces/FabricatorModel.md">CodeIgniter\Test\Interfaces\FabricatorModel</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockAppConfig.md">CodeIgniter\Test\Mock\MockAppConfig</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockAutoload.md">CodeIgniter\Test\Mock\MockAutoload</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockBuilder.md">CodeIgniter\Test\Mock\MockBuilder</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockCLIConfig.md">CodeIgniter\Test\Mock\MockCLIConfig</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockCURLRequest.md">CodeIgniter\Test\Mock\MockCURLRequest</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockCache.md">CodeIgniter\Test\Mock\MockCache</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockCodeIgniter.md">CodeIgniter\Test\Mock\MockCodeIgniter</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockConnection.md">CodeIgniter\Test\Mock\MockConnection</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockEmail.md">CodeIgniter\Test\Mock\MockEmail</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockEvents.md">CodeIgniter\Test\Mock\MockEvents</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockFileLogger.md">CodeIgniter\Test\Mock\MockFileLogger</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockIncomingRequest.md">CodeIgniter\Test\Mock\MockIncomingRequest</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockLanguage.md">CodeIgniter\Test\Mock\MockLanguage</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockLogger.md">CodeIgniter\Test\Mock\MockLogger</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockQuery.md">CodeIgniter\Test\Mock\MockQuery</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockResourceController.md">CodeIgniter\Test\Mock\MockResourceController</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockResourcePresenter.md">CodeIgniter\Test\Mock\MockResourcePresenter</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockResponse.md">CodeIgniter\Test\Mock\MockResponse</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockResult.md">CodeIgniter\Test\Mock\MockResult</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockSecurity.md">CodeIgniter\Test\Mock\MockSecurity</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockServices.md">CodeIgniter\Test\Mock\MockServices</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockSession.md">CodeIgniter\Test\Mock\MockSession</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockTable.md">CodeIgniter\Test\Mock\MockTable</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/ReflectionHelper.md">CodeIgniter\Test\ReflectionHelper</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/TestLogger.md">CodeIgniter\Test\TestLogger</a></td></tr>
</table>
</details>



 
 ## Uses

<table style="text-align:left;">
<tr>
<td>
<a href="../../../../../../api/vendor/codeigniter4/framework/system/HTTP/RedirectResponse.md"><strong>CodeIgniter\HTTP\RedirectResponse</strong></a>
</td>
<td>RedirectResponse</td>
</tr>
<tr>
<td>
<a href="../../../../../../api/vendor/codeigniter4/framework/system/HTTP/ResponseInterface.md"><strong>CodeIgniter\HTTP\ResponseInterface</strong></a>
</td>
<td>ResponseInterface</td>
</tr>
<tr>
<td>
<strong>Config\Format</strong>
</td>
<td>Format</td>
</tr>
<tr>
<td>
<strong>PHPUnit\Framework\TestCase</strong>
</td>
<td>TestCase</td>
</tr>
</table>



 
## CodeIgniter\Test\FeatureResponse

<table style="text-align:left">
<tr><th>Class</th><td>FeatureResponse</td></tr>
<tr><th>Fully Qualified Name</th><td>CodeIgniter\Test\FeatureResponse</td></tr>
<tr><th>Extends</th><td><a href="">PHPUnit\Framework\TestCase</a></td></tr>
</table>


<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Assertions for a response
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>



### Summary


<table style="text-align:left;">
<tr>
<th>Name</th>
<th>Element</th>
<th>Modifier</th>
<th>Description</th>
</tr>

<tr>
<th><a href="#response"><strong>response</strong></a></th>
<td>prop</td>
<td>
public

</td>
<td>The response.</td>
</tr>
<tr>
<th><a href="#domParser"><strong>domParser</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>DOM for the body.</td>
</tr>

<tr>
<th><a href="#__construct"><strong>__construct</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Constructor.</td>
</tr>
<tr>
<th><a href="#isOK"><strong>isOK</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Boils down the possible responses into a bolean valid/not-valid
response type.</td>
</tr>
<tr>
<th><a href="#isRedirect"><strong>isRedirect</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Returns whether or not the Response was a redirect response</td>
</tr>
<tr>
<th><a href="#assertRedirect"><strong>assertRedirect</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Assert that the given response was a redirect.</td>
</tr>
<tr>
<th><a href="#getRedirectUrl"><strong>getRedirectUrl</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Returns the URL set for redirection.</td>
</tr>
<tr>
<th><a href="#assertStatus"><strong>assertStatus</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Asserts that the status is a specific value.</td>
</tr>
<tr>
<th><a href="#assertOK"><strong>assertOK</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Asserts that the Response is considered OK.</td>
</tr>
<tr>
<th><a href="#assertSessionHas"><strong>assertSessionHas</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Asserts that an SESSION key has been set and, optionally, test it&#039;s value.</td>
</tr>
<tr>
<th><a href="#assertSessionMissing"><strong>assertSessionMissing</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Asserts the session is missing $key.</td>
</tr>
<tr>
<th><a href="#assertHeader"><strong>assertHeader</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Asserts that the Response contains a specific header.</td>
</tr>
<tr>
<th><a href="#assertHeaderMissing"><strong>assertHeaderMissing</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Asserts the Response headers does not contain the specified header.</td>
</tr>
<tr>
<th><a href="#assertCookie"><strong>assertCookie</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Asserts that the response has the specified cookie.</td>
</tr>
<tr>
<th><a href="#assertCookieMissing"><strong>assertCookieMissing</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Assert the Response does not have the specified cookie set.</td>
</tr>
<tr>
<th><a href="#assertCookieExpired"><strong>assertCookieExpired</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Asserts that a cookie exists and has an expired time.</td>
</tr>
<tr>
<th><a href="#assertSee"><strong>assertSee</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Assert that the desired text can be found in the result body.</td>
</tr>
<tr>
<th><a href="#assertDontSee"><strong>assertDontSee</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Asserts that we do not see the specified text.</td>
</tr>
<tr>
<th><a href="#assertSeeElement"><strong>assertSeeElement</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Assert that we see an element selected via a CSS selector.</td>
</tr>
<tr>
<th><a href="#assertDontSeeElement"><strong>assertDontSeeElement</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Assert that we do not see an element selected via a CSS selector.</td>
</tr>
<tr>
<th><a href="#assertSeeLink"><strong>assertSeeLink</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Assert that we see a link with the matching text and/or class.</td>
</tr>
<tr>
<th><a href="#assertSeeInField"><strong>assertSeeInField</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Assert that we see an input with name/value.</td>
</tr>
<tr>
<th><a href="#getJSON"><strong>getJSON</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Returns the response&#039;s body as JSON</td>
</tr>
<tr>
<th><a href="#assertJSONFragment"><strong>assertJSONFragment</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Test that the response contains a matching JSON fragment.</td>
</tr>
<tr>
<th><a href="#assertJSONExact"><strong>assertJSONExact</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Asserts that the JSON exactly matches the passed in data.</td>
</tr>
<tr>
<th><a href="#getXML"><strong>getXML</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Returns the response&#039; body as XML</td>
</tr>

</table>





### Properties


<hr>

#### $response

```php
public $response;
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
The response.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>\CodeIgniter\HTTP\ResponseInterface
</td>
</tr>
</table>


<hr>

#### $domParser

```php
protected $domParser;
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
DOM for the body.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>\CodeIgniter\Test\DOMParser
</td>
</tr>
</table>







### Methods


<hr>

#### __construct()

```php
public function __construct(ResponseInterface $response = null)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Constructor.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$response</code></td>
<td><em>\ResponseInterface
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>








<details>
<summary><small>Source: 10 lines (71 - 80)</small></summary>

```php
public function __construct(ResponseInterface $response = null)
{
	$this->response = $response;

	$body = $response->getBody();
	if (! empty($body) && is_string($body))
	{
		$this->domParser = (new DOMParser())->withString($body);
	}
}
```

</details>


<hr>

#### isOK()

```php
public function isOK() : bool
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Boils down the possible responses into a bolean valid/not-valid
response type.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>





<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>bool
</td>
</tr>
</table>





<details>
<summary><small>Source: 19 lines (92 - 110)</small></summary>

```php
public function isOK(): bool
{
	$status = $this->response->getStatusCode();

	// Only 200 and 300 range status codes
	// are considered valid.
	if ($status >= 400 || $status < 200)
	{
		return false;
	}

	// Empty bodies are not considered valid, unless in redirects
	if ($status < 300 && empty($this->response->getBody()))
	{
		return false;
	}

	return true;
}
```

</details>


<hr>

#### isRedirect()

```php
public function isRedirect() : bool
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Returns whether or not the Response was a redirect response
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>





<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>bool
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (117 - 120)</small></summary>

```php
public function isRedirect(): bool
{
	return $this->response instanceof RedirectResponse;
}
```

</details>


<hr>

#### assertRedirect()

```php
public function assertRedirect()
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Assert that the given response was a redirect.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>







<table>
<tr>
<th style="vertical-align:top;">throw</th>
<td>\Exception
</td>
</tr>
</table>



<details>
<summary><small>Source: 4 lines (127 - 130)</small></summary>

```php
public function assertRedirect()
{
	$this->assertTrue($this->isRedirect(), 'Response is not a RedirectResponse.');
}
```

</details>


<hr>

#### getRedirectUrl()

```php
public function getRedirectUrl() : ?string
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Returns the URL set for redirection.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>





<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>string<br>null
</td>
</tr>
</table>





<details>
<summary><small>Source: 18 lines (137 - 154)</small></summary>

```php
public function getRedirectUrl(): ?string
{
	if (! $this->isRedirect())
	{
		return null;
	}

	if ($this->response->hasHeader('Location'))
	{
		return $this->response->getHeaderLine('Location');
	}
	elseif ($this->response->hasHeader('Refresh'))
	{
		return str_replace('0;url=', '', $this->response->getHeaderLine('Refresh'));
	}

	return null;
}
```

</details>


<hr>

#### assertStatus()

```php
public function assertStatus(int $code)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Asserts that the status is a specific value.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$code</code></td>
<td><em>int
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>





<table>
<tr>
<th style="vertical-align:top;">throw</th>
<td>\Exception
</td>
</tr>
</table>



<details>
<summary><small>Source: 4 lines (163 - 166)</small></summary>

```php
public function assertStatus(int $code)
{
	$this->assertEquals($code, (int) $this->response->getStatusCode());
}
```

</details>


<hr>

#### assertOK()

```php
public function assertOK()
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Asserts that the Response is considered OK.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>







<table>
<tr>
<th style="vertical-align:top;">throw</th>
<td>\Exception
</td>
</tr>
</table>



<details>
<summary><small>Source: 4 lines (173 - 176)</small></summary>

```php
public function assertOK()
{
	$this->assertTrue($this->isOK(), "{$this->response->getStatusCode()} is not a successful status code, or the Response has an empty body.");
}
```

</details>


<hr>

#### assertSessionHas()

```php
public function assertSessionHas(string $key, $value = null)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Asserts that an SESSION key has been set and, optionally, test it's value.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$key</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$value</code></td>
<td><em>null
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>





<table>
<tr>
<th style="vertical-align:top;">throw</th>
<td>\Exception
</td>
</tr>
</table>



<details>
<summary><small>Source: 9 lines (190 - 198)</small></summary>

```php
public function assertSessionHas(string $key, $value = null)
{
	$this->assertTrue(array_key_exists($key, $_SESSION), "'{$key}' is not in the current \$_SESSION");

	if ($value !== null)
	{
		$this->assertEquals($value, $_SESSION[$key], "The value of '{$key}' ({$value}) does not match expected value.");
	}
}
```

</details>


<hr>

#### assertSessionMissing()

```php
public function assertSessionMissing(string $key)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Asserts the session is missing $key.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$key</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>





<table>
<tr>
<th style="vertical-align:top;">throw</th>
<td>\Exception
</td>
</tr>
</table>



<details>
<summary><small>Source: 4 lines (207 - 210)</small></summary>

```php
public function assertSessionMissing(string $key)
{
	$this->assertFalse(array_key_exists($key, $_SESSION), "'{$key}' should not be present in \$_SESSION.");
}
```

</details>


<hr>

#### assertHeader()

```php
public function assertHeader(string $key, $value = null)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Asserts that the Response contains a specific header.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$key</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$value</code></td>
<td><em>null
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>





<table>
<tr>
<th style="vertical-align:top;">throw</th>
<td>\Exception
</td>
</tr>
</table>



<details>
<summary><small>Source: 9 lines (224 - 232)</small></summary>

```php
public function assertHeader(string $key, $value = null)
{
	$this->assertTrue($this->response->hasHeader($key), "'{$key}' is not a valid Response header.");

	if ($value !== null)
	{
		$this->assertEquals($value, $this->response->getHeaderLine($key), "The value of '{$key}' header ({$this->response->getHeaderLine($key)}) does not match expected value.");
	}
}
```

</details>


<hr>

#### assertHeaderMissing()

```php
public function assertHeaderMissing(string $key)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Asserts the Response headers does not contain the specified header.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$key</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>





<table>
<tr>
<th style="vertical-align:top;">throw</th>
<td>\Exception
</td>
</tr>
</table>



<details>
<summary><small>Source: 4 lines (241 - 244)</small></summary>

```php
public function assertHeaderMissing(string $key)
{
	$this->assertFalse($this->response->hasHeader($key), "'{$key}' should not be in the Response headers.");
}
```

</details>


<hr>

#### assertCookie()

```php
public function assertCookie(string $key, $value = null, string $prefix = '')
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Asserts that the response has the specified cookie.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$key</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$value</code></td>
<td><em>null
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>3.</td>
<td><code>$prefix</code></td>
<td><em>string<br>null
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>





<table>
<tr>
<th style="vertical-align:top;">throw</th>
<td>\Exception
</td>
</tr>
</table>



<details>
<summary><small>Source: 4 lines (259 - 262)</small></summary>

```php
public function assertCookie(string $key, $value = null, string $prefix = '')
{
	$this->assertTrue($this->response->hasCookie($key, $value, $prefix), "No cookie found named '{$key}'.");
}
```

</details>


<hr>

#### assertCookieMissing()

```php
public function assertCookieMissing(string $key)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Assert the Response does not have the specified cookie set.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$key</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>








<details>
<summary><small>Source: 4 lines (269 - 272)</small></summary>

```php
public function assertCookieMissing(string $key)
{
	$this->assertFalse($this->response->hasCookie($key), "Cookie named '{$key}' should not be set.");
}
```

</details>


<hr>

#### assertCookieExpired()

```php
public function assertCookieExpired(string $key, string $prefix = '')
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Asserts that a cookie exists and has an expired time.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$key</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$prefix</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>





<table>
<tr>
<th style="vertical-align:top;">throw</th>
<td>\Exception
</td>
</tr>
</table>



<details>
<summary><small>Source: 5 lines (282 - 286)</small></summary>

```php
public function assertCookieExpired(string $key, string $prefix = '')
{
	$this->assertTrue($this->response->hasCookie($key, null, $prefix));
	$this->assertGreaterThan(time(), $this->response->getCookie($key, $prefix)['expires']);
}
```

</details>


<hr>

#### assertSee()

```php
public function assertSee(string $search = null, string $element = null)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Assert that the desired text can be found in the result body.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$search</code></td>
<td><em>string<br>null
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$element</code></td>
<td><em>string<br>null
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>





<table>
<tr>
<th style="vertical-align:top;">throw</th>
<td>\Exception
</td>
</tr>
</table>



<details>
<summary><small>Source: 4 lines (300 - 303)</small></summary>

```php
public function assertSee(string $search = null, string $element = null)
{
	$this->assertTrue($this->domParser->see($search, $element), "Do not see '{$search}' in response.");
}
```

</details>


<hr>

#### assertDontSee()

```php
public function assertDontSee(string $search = null, string $element = null)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Asserts that we do not see the specified text.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$search</code></td>
<td><em>string<br>null
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$element</code></td>
<td><em>string<br>null
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>





<table>
<tr>
<th style="vertical-align:top;">throw</th>
<td>\Exception
</td>
</tr>
</table>



<details>
<summary><small>Source: 4 lines (313 - 316)</small></summary>

```php
public function assertDontSee(string $search = null, string $element = null)
{
	$this->assertTrue($this->domParser->dontSee($search, $element), "I should not see '{$search}' in response.");
}
```

</details>


<hr>

#### assertSeeElement()

```php
public function assertSeeElement(string $search)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Assert that we see an element selected via a CSS selector.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$search</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>





<table>
<tr>
<th style="vertical-align:top;">throw</th>
<td>\Exception
</td>
</tr>
</table>



<details>
<summary><small>Source: 4 lines (325 - 328)</small></summary>

```php
public function assertSeeElement(string $search)
{
	$this->assertTrue($this->domParser->seeElement($search), "Do not see element with selector '{$search} in response.'");
}
```

</details>


<hr>

#### assertDontSeeElement()

```php
public function assertDontSeeElement(string $search)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Assert that we do not see an element selected via a CSS selector.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$search</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>





<table>
<tr>
<th style="vertical-align:top;">throw</th>
<td>\Exception
</td>
</tr>
</table>



<details>
<summary><small>Source: 4 lines (337 - 340)</small></summary>

```php
public function assertDontSeeElement(string $search)
{
	$this->assertTrue($this->domParser->dontSeeElement($search), "I should not see an element with selector '{$search}' in response.'");
}
```

</details>


<hr>

#### assertSeeLink()

```php
public function assertSeeLink(string $text, string $details = null)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Assert that we see a link with the matching text and/or class.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$text</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$details</code></td>
<td><em>string<br>null
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>





<table>
<tr>
<th style="vertical-align:top;">throw</th>
<td>\Exception
</td>
</tr>
</table>



<details>
<summary><small>Source: 4 lines (350 - 353)</small></summary>

```php
public function assertSeeLink(string $text, string $details = null)
{
	$this->assertTrue($this->domParser->seeLink($text, $details), "Do no see anchor tag with the text {$text} in response.");
}
```

</details>


<hr>

#### assertSeeInField()

```php
public function assertSeeInField(string $field, string $value = null)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Assert that we see an input with name/value.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$field</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$value</code></td>
<td><em>string<br>null
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>





<table>
<tr>
<th style="vertical-align:top;">throw</th>
<td>\Exception
</td>
</tr>
</table>



<details>
<summary><small>Source: 4 lines (363 - 366)</small></summary>

```php
public function assertSeeInField(string $field, string $value = null)
{
	$this->assertTrue($this->domParser->seeInField($field, $value), "Do no see input named {$field} with value {$value} in response.");
}
```

</details>


<hr>

#### getJSON()

```php
public function getJSON()
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Returns the response's body as JSON
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>





<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>mixed<br>false
</td>
</tr>
</table>





<details>
<summary><small>Source: 11 lines (377 - 387)</small></summary>

```php
public function getJSON()
{
	$response = $this->response->getJSON();

	if (is_null($response))
	{
		return false;
	}

	return $response;
}
```

</details>


<hr>

#### assertJSONFragment()

```php
public function assertJSONFragment(array $fragment)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Test that the response contains a matching JSON fragment.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$fragment</code></td>
<td><em>array
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>





<table>
<tr>
<th style="vertical-align:top;">throw</th>
<td>\Exception
</td>
</tr>
</table>



<details>
<summary><small>Source: 6 lines (396 - 401)</small></summary>

```php
public function assertJSONFragment(array $fragment)
{
	$json = json_decode($this->getJSON(), true);

	$this->assertArraySubset($fragment, $json, false, 'Response does not contain a matching JSON fragment.');
}
```

</details>


<hr>

#### assertJSONExact()

```php
public function assertJSONExact($test)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Asserts that the JSON exactly matches the passed in data.
</td></tr>
</table>

<table>
<tr><td>
If the value being passed in is a string, it must be a json_encoded string.
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$test</code></td>
<td><em>string<br>array
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>





<table>
<tr>
<th style="vertical-align:top;">throw</th>
<td>\Exception
</td>
</tr>
</table>



<details>
<summary><small>Source: 13 lines (411 - 423)</small></summary>

```php
public function assertJSONExact($test)
{
	$json = $this->getJSON();

	if (is_array($test))
	{
		$config    = new Format();
		$formatter = $config->getFormatter('application/json');
		$test      = $formatter->format($test);
	}

	$this->assertJsonStringEqualsJsonString($test, $json, 'Response does not contain matching JSON.');
}
```

</details>


<hr>

#### getXML()

```php
public function getXML()
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Returns the response' body as XML
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>





<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>mixed<br>string
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (434 - 437)</small></summary>

```php
public function getXML()
{
	return $this->response->getXML();
}
```

</details>





 


 
  




<hr>

<table>
<tr>
<td style="width:100%"><em>framework/system/Test/FeatureResponse.php</em></td>
<td><a href="../../../../../../api/index.md">index</a></td>
<td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Fabricator.md">prev</a></td>
<td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/FeatureTestCase.md">next</a></td>
<td><a href="#">top</a></td></tr>
</table>




<div style="text-align:right;">

<small>_Generated at **2020-08-14 07:35:15**_ *([EnixApp](https://github.com/enix-app) - [ApiDoc](https://github.com/enix-app/apidoc))*</small>
</div>