


 



<table>
<tr>
<td style="width:100%"><em>framework/system/Test/DOMParser.php</em></td>
<td><a href="../../../../../../api/index.md">index</a></td>
<td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/ControllerTester.md">prev</a></td>
<td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Fabricator.md">next</a></td>
</tr>
</table>







# CodeIgniter\Test 
<table style="text-align:left">
<tr><th>namespace</th><td>CodeIgniter\Test</td></tr>
</table>

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
CodeIgniter
</td></tr>
</table>

<table>
<tr><td>
An open source application development framework for PHP

This content is released under the MIT License (MIT)

Copyright (c) 2014-2019 British Columbia Institute of Technology
Copyright (c) 2019-2020 CodeIgniter Foundation

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
</td></tr>
</table>

</details>



<table style="text-align:left">
<tr style="vertical-align:top;">
<th>package</th>
<td>CodeIgniter
</td>
</tr>
<tr style="vertical-align:top;">
<th>author</th>
<td>CodeIgniter Dev Team
</td>
</tr>
<tr style="vertical-align:top;">
<th>copyright</th>
<td>2019-2020 CodeIgniter Foundation
</td>
</tr>
<tr style="vertical-align:top;">
<th>license</th>
<td><a href="https://opensource.org/licenses/MIT">https://opensource.org/licenses/MIT</a>	MIT License
</td>
</tr>
<tr style="vertical-align:top;">
<th>link</th>
<td><a href="https://codeigniter.com">https://codeigniter.com</a>

</td>
</tr>
<tr style="vertical-align:top;">
<th>filesource</th>
<td>framework/system/Test/DOMParser.php
</td>
</tr>
</table>

 

<details>
<summary style="margin-bottom:12px;"><strong>Members</strong></summary>
<table>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/CIDatabaseTestCase.md">CodeIgniter\Test\CIDatabaseTestCase</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/CIUnitTestCase.md">CodeIgniter\Test\CIUnitTestCase</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/ControllerResponse.md">CodeIgniter\Test\ControllerResponse</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/ControllerTester.md">CodeIgniter\Test\ControllerTester</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/DOMParser.md">CodeIgniter\Test\DOMParser</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Fabricator.md">CodeIgniter\Test\Fabricator</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/FeatureResponse.md">CodeIgniter\Test\FeatureResponse</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/FeatureTestCase.md">CodeIgniter\Test\FeatureTestCase</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/FeatureTestTrait.md">CodeIgniter\Test\FeatureTestTrait</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Filters/CITestStreamFilter.md">CodeIgniter\Test\Filters\CITestStreamFilter</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Interfaces/FabricatorModel.md">CodeIgniter\Test\Interfaces\FabricatorModel</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockAppConfig.md">CodeIgniter\Test\Mock\MockAppConfig</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockAutoload.md">CodeIgniter\Test\Mock\MockAutoload</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockBuilder.md">CodeIgniter\Test\Mock\MockBuilder</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockCLIConfig.md">CodeIgniter\Test\Mock\MockCLIConfig</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockCURLRequest.md">CodeIgniter\Test\Mock\MockCURLRequest</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockCache.md">CodeIgniter\Test\Mock\MockCache</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockCodeIgniter.md">CodeIgniter\Test\Mock\MockCodeIgniter</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockConnection.md">CodeIgniter\Test\Mock\MockConnection</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockEmail.md">CodeIgniter\Test\Mock\MockEmail</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockEvents.md">CodeIgniter\Test\Mock\MockEvents</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockFileLogger.md">CodeIgniter\Test\Mock\MockFileLogger</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockIncomingRequest.md">CodeIgniter\Test\Mock\MockIncomingRequest</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockLanguage.md">CodeIgniter\Test\Mock\MockLanguage</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockLogger.md">CodeIgniter\Test\Mock\MockLogger</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockQuery.md">CodeIgniter\Test\Mock\MockQuery</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockResourceController.md">CodeIgniter\Test\Mock\MockResourceController</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockResourcePresenter.md">CodeIgniter\Test\Mock\MockResourcePresenter</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockResponse.md">CodeIgniter\Test\Mock\MockResponse</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockResult.md">CodeIgniter\Test\Mock\MockResult</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockSecurity.md">CodeIgniter\Test\Mock\MockSecurity</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockServices.md">CodeIgniter\Test\Mock\MockServices</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockSession.md">CodeIgniter\Test\Mock\MockSession</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Mock/MockTable.md">CodeIgniter\Test\Mock\MockTable</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/ReflectionHelper.md">CodeIgniter\Test\ReflectionHelper</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/TestLogger.md">CodeIgniter\Test\TestLogger</a></td></tr>
</table>
</details>



 

 
## CodeIgniter\Test\DOMParser

<table style="text-align:left">
<tr><th>Class</th><td>DOMParser</td></tr>
<tr><th>Fully Qualified Name</th><td>CodeIgniter\Test\DOMParser</td></tr>
</table>


<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Load a response into a DOMDocument for testing assertions based on that
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>



### Summary


<table style="text-align:left;">
<tr>
<th>Name</th>
<th>Element</th>
<th>Modifier</th>
<th>Description</th>
</tr>

<tr>
<th><a href="#dom"><strong>dom</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>DOM for the body,</td>
</tr>

<tr>
<th><a href="#__construct"><strong>__construct</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Constructor.</td>
</tr>
<tr>
<th><a href="#getBody"><strong>getBody</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Returns the body of the current document.</td>
</tr>
<tr>
<th><a href="#withString"><strong>withString</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Sets a string as the body that we want to work with.</td>
</tr>
<tr>
<th><a href="#withFile"><strong>withFile</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Loads the contents of a file as a string
so that we can work with it.</td>
</tr>
<tr>
<th><a href="#see"><strong>see</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Checks to see if the text is found within the result.</td>
</tr>
<tr>
<th><a href="#dontSee"><strong>dontSee</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Checks to see if the text is NOT found within the result.</td>
</tr>
<tr>
<th><a href="#seeElement"><strong>seeElement</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Checks to see if an element with the matching CSS specifier
is found within the current DOM.</td>
</tr>
<tr>
<th><a href="#dontSeeElement"><strong>dontSeeElement</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Checks to see if the element is available within the result.</td>
</tr>
<tr>
<th><a href="#seeLink"><strong>seeLink</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Determines if a link with the specified text is found
within the results.</td>
</tr>
<tr>
<th><a href="#seeInField"><strong>seeInField</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Checks for an input named $field with a value of $value.</td>
</tr>
<tr>
<th><a href="#seeCheckboxIsChecked"><strong>seeCheckboxIsChecked</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Checks for checkboxes that are currently checked.</td>
</tr>
<tr>
<th><a href="#doXPath"><strong>doXPath</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>Search the DOM using an XPath expression.</td>
</tr>
<tr>
<th><a href="#parseSelector"><strong>parseSelector</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Look for the a selector  in the passed text.</td>
</tr>

</table>





### Properties


<hr>

#### $dom

```php
protected $dom;
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
DOM for the body,
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>\DOMDocument
</td>
</tr>
</table>







### Methods


<hr>

#### __construct()

```php
public function __construct()
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Constructor.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>







<table>
<tr>
<th style="vertical-align:top;">throw</th>
<td>\BadMethodCallException
</td>
</tr>
</table>



<details>
<summary><small>Source: 12 lines (59 - 70)</small></summary>

```php
public function __construct()
{
	if (! extension_loaded('DOM'))
	{
		// always there in travis-ci
		// @codeCoverageIgnoreStart
		throw new \BadMethodCallException('DOM extension is required, but not currently loaded.');
		// @codeCoverageIgnoreEnd
	}

	$this->dom = new \DOMDocument('1.0', 'utf-8');
}
```

</details>


<hr>

#### getBody()

```php
public function getBody() : string
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Returns the body of the current document.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>





<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>string
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (77 - 80)</small></summary>

```php
public function getBody(): string
{
	return $this->dom->saveHTML();
}
```

</details>


<hr>

#### withString()

```php
public function withString(string $content)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Sets a string as the body that we want to work with.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$content</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>$this
</td>
</tr>
</table>





<details>
<summary><small>Source: 22 lines (89 - 110)</small></summary>

```php
public function withString(string $content)
{
	// converts all special characters to utf-8
	$content = mb_convert_encoding($content, 'HTML-ENTITIES', 'UTF-8');

	//turning off some errors
	libxml_use_internal_errors(true);

	if (! $this->dom->loadHTML($content))
	{
		// unclear how we would get here, given that we are trapping libxml errors
		// @codeCoverageIgnoreStart
		libxml_clear_errors();
		throw new \BadMethodCallException('Invalid HTML');
		// @codeCoverageIgnoreEnd
	}

	// ignore the whitespace.
	$this->dom->preserveWhiteSpace = false;

	return $this;
}
```

</details>


<hr>

#### withFile()

```php
public function withFile(string $path)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Loads the contents of a file as a string
so that we can work with it.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$path</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\CodeIgniter\Test\DOMParser
</td>
</tr>
</table>





<details>
<summary><small>Source: 11 lines (120 - 130)</small></summary>

```php
public function withFile(string $path)
{
	if (! is_file($path))
	{
		throw new \InvalidArgumentException(basename($path) . ' is not a valid file.');
	}

	$content = file_get_contents($path);

	return $this->withString($content);
}
```

</details>


<hr>

#### see()

```php
public function see(string $search = null, string $element = null) : bool
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Checks to see if the text is found within the result.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$search</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$element</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>bool
</td>
</tr>
</table>





<details>
<summary><small>Source: 13 lines (140 - 152)</small></summary>

```php
public function see(string $search = null, string $element = null): bool
{
	// If Element is null, we're just scanning for text
	if (is_null($element))
	{
		$content = $this->dom->saveHTML($this->dom->documentElement);
		return mb_strpos($content, $search) !== false;
	}

	$result = $this->doXPath($search, $element);

	return (bool)$result->length;
}
```

</details>


<hr>

#### dontSee()

```php
public function dontSee(string $search = null, string $element = null) : bool
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Checks to see if the text is NOT found within the result.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$search</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$element</code></td>
<td><em>string<br>null
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>bool
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (162 - 165)</small></summary>

```php
public function dontSee(string $search = null, string $element = null): bool
{
	return ! $this->see($search, $element);
}
```

</details>


<hr>

#### seeElement()

```php
public function seeElement(string $element) : bool
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Checks to see if an element with the matching CSS specifier
is found within the current DOM.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$element</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>bool
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (175 - 178)</small></summary>

```php
public function seeElement(string $element): bool
{
	return $this->see(null, $element);
}
```

</details>


<hr>

#### dontSeeElement()

```php
public function dontSeeElement(string $element) : bool
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Checks to see if the element is available within the result.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$element</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>bool
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (187 - 190)</small></summary>

```php
public function dontSeeElement(string $element): bool
{
	return $this->dontSee(null, $element);
}
```

</details>


<hr>

#### seeLink()

```php
public function seeLink(string $text, string $details = null) : bool
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Determines if a link with the specified text is found
within the results.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$text</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$details</code></td>
<td><em>string<br>null
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>bool
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (201 - 204)</small></summary>

```php
public function seeLink(string $text, string $details = null): bool
{
	return $this->see($text, 'a' . $details);
}
```

</details>


<hr>

#### seeInField()

```php
public function seeInField(string $field, string $value) : bool
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Checks for an input named $field with a value of $value.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$field</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$value</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>bool
</td>
</tr>
</table>





<details>
<summary><small>Source: 6 lines (214 - 219)</small></summary>

```php
public function seeInField(string $field, string $value): bool
{
	$result = $this->doXPath(null, 'input', ["[@value=\"{$value}\"][@name=\"{$field}\"]"]);

	return (bool)$result->length;
}
```

</details>


<hr>

#### seeCheckboxIsChecked()

```php
public function seeCheckboxIsChecked(string $element) : bool
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Checks for checkboxes that are currently checked.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$element</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>bool
</td>
</tr>
</table>





<details>
<summary><small>Source: 9 lines (228 - 236)</small></summary>

```php
public function seeCheckboxIsChecked(string $element): bool
{
	$result = $this->doXPath(null, 'input' . $element, [
		'[@type="checkbox"]',
		'[@checked="checked"]',
	]);

	return (bool)$result->length;
}
```

</details>


<hr>

#### doXPath()

```php
protected function doXPath(string $search = null, string $element, array $paths = array())
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Search the DOM using an XPath expression.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$search</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$element</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>3.</td>
<td><code>$paths</code></td>
<td><em>array
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\type
</td>
</tr>
</table>





<details>
<summary><small>Source: 55 lines (248 - 302)</small></summary>

```php
protected function doXPath(string $search = null, string $element, array $paths = [])
{
	// Otherwise, grab any elements that match
	// the selector
	$selector = $this->parseSelector($element);

	$path = '';

	// By ID
	if (! empty($selector['id']))
	{
		$path = empty($selector['tag'])
			? "id(\"{$selector['id']}\")"
			: "//body//{$selector['tag']}[@id=\"{$selector['id']}\"]";
	}
	// By Class
	else if (! empty($selector['class']))
	{
		$path = empty($selector['tag'])
			? "//*[@class=\"{$selector['class']}\"]"
			: "//body//{$selector['tag']}[@class=\"{$selector['class']}\"]";
	}
	// By tag only
	else if (! empty($selector['tag']))
	{
		$path = "//body//{$selector['tag']}";
	}

	if (! empty($selector['attr']))
	{
		foreach ($selector['attr'] as $key => $value)
		{
			$path .= "[@{$key}=\"{$value}\"]";
		}
	}

	// $paths might contain a number of different
	// ready to go xpath portions to tack on.
	if (! empty($paths) && is_array($paths))
	{
		foreach ($paths as $extra)
		{
			$path .= $extra;
		}
	}

	if (! is_null($search))
	{
		$path .= "[contains(., \"{$search}\")]";
	}

	$xpath = new \DOMXPath($this->dom);

	return $xpath->query($path);
}
```

</details>


<hr>

#### parseSelector()

```php
public function parseSelector(string $selector)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Look for the a selector  in the passed text.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$selector</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\type
</td>
</tr>
</table>





<details>
<summary><small>Source: 48 lines (310 - 357)</small></summary>

```php
public function parseSelector(string $selector)
{
	$tag   = null;
	$id    = null;
	$class = null;
	$attr  = null;

	// ID?
	if ($pos = strpos($selector, '#') !== false)
	{
		list($tag, $id) = explode('#', $selector);
	}
	// Attribute
	elseif (strpos($selector, '[') !== false && strpos($selector, ']') !== false)
	{
		$open  = strpos($selector, '[');
		$close = strpos($selector, ']');

		$tag  = substr($selector, 0, $open);
		$text = substr($selector, $open + 1, $close - 2);

		// We only support a single attribute currently
		$text = explode(',', $text);
		$text = trim(array_shift($text));

		list($name, $value) = explode('=', $text);
		$name               = trim($name);
		$value              = trim($value);
		$attr               = [$name => trim($value, '] ')];
	}
	// Class?
	elseif ($pos = strpos($selector, '.') !== false)
	{
		list($tag, $class) = explode('.', $selector);
	}
	// Otherwise, assume the entire string is our tag
	else
	{
		$tag = $selector;
	}

	return [
		'tag'   => $tag,
		'id'    => $id,
		'class' => $class,
		'attr'  => $attr,
	];
}
```

</details>





 


 
  




<hr>

<table>
<tr>
<td style="width:100%"><em>framework/system/Test/DOMParser.php</em></td>
<td><a href="../../../../../../api/index.md">index</a></td>
<td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/ControllerTester.md">prev</a></td>
<td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Test/Fabricator.md">next</a></td>
<td><a href="#">top</a></td></tr>
</table>




<div style="text-align:right;">

<small>_Generated at **2020-08-14 07:35:15**_ *([EnixApp](https://github.com/enix-app) - [ApiDoc](https://github.com/enix-app/apidoc))*</small>
</div>