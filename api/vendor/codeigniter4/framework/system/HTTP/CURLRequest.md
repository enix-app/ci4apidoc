


 



<table>
<tr>
<td style="width:100%"><em>framework/system/HTTP/CURLRequest.php</em></td>
<td><a href="../../../../../../api/index.md">index</a></td>
<td><a href="../../../../../../api/vendor/codeigniter4/framework/system/HTTP/CLIRequest.md">prev</a></td>
<td><a href="../../../../../../api/vendor/codeigniter4/framework/system/HTTP/ContentSecurityPolicy.md">next</a></td>
</tr>
</table>







# CodeIgniter\HTTP 
<table style="text-align:left">
<tr><th>namespace</th><td>CodeIgniter\HTTP</td></tr>
</table>

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
CodeIgniter
</td></tr>
</table>

<table>
<tr><td>
An open source application development framework for PHP

This content is released under the MIT License (MIT)

Copyright (c) 2014-2019 British Columbia Institute of Technology
Copyright (c) 2019-2020 CodeIgniter Foundation

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
</td></tr>
</table>

</details>



<table style="text-align:left">
<tr style="vertical-align:top;">
<th>package</th>
<td>CodeIgniter
</td>
</tr>
<tr style="vertical-align:top;">
<th>author</th>
<td>CodeIgniter Dev Team
</td>
</tr>
<tr style="vertical-align:top;">
<th>copyright</th>
<td>2019-2020 CodeIgniter Foundation
</td>
</tr>
<tr style="vertical-align:top;">
<th>license</th>
<td><a href="https://opensource.org/licenses/MIT">https://opensource.org/licenses/MIT</a>	MIT License
</td>
</tr>
<tr style="vertical-align:top;">
<th>link</th>
<td><a href="https://codeigniter.com">https://codeigniter.com</a>

</td>
</tr>
<tr style="vertical-align:top;">
<th>filesource</th>
<td>framework/system/HTTP/CURLRequest.php
</td>
</tr>
</table>

 

<details>
<summary style="margin-bottom:12px;"><strong>Members</strong></summary>
<table>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/HTTP/CLIRequest.md">CodeIgniter\HTTP\CLIRequest</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/HTTP/CURLRequest.md">CodeIgniter\HTTP\CURLRequest</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/HTTP/ContentSecurityPolicy.md">CodeIgniter\HTTP\ContentSecurityPolicy</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/HTTP/DownloadResponse.md">CodeIgniter\HTTP\DownloadResponse</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/HTTP/Exceptions/HTTPException.md">CodeIgniter\HTTP\Exceptions\HTTPException</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/HTTP/Files/FileCollection.md">CodeIgniter\HTTP\Files\FileCollection</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/HTTP/Files/UploadedFile.md">CodeIgniter\HTTP\Files\UploadedFile</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/HTTP/Files/UploadedFileInterface.md">CodeIgniter\HTTP\Files\UploadedFileInterface</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/HTTP/Header.md">CodeIgniter\HTTP\Header</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/HTTP/IncomingRequest.md">CodeIgniter\HTTP\IncomingRequest</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/HTTP/Message.md">CodeIgniter\HTTP\Message</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/HTTP/Negotiate.md">CodeIgniter\HTTP\Negotiate</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/HTTP/RedirectResponse.md">CodeIgniter\HTTP\RedirectResponse</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/HTTP/Request.md">CodeIgniter\HTTP\Request</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/HTTP/RequestInterface.md">CodeIgniter\HTTP\RequestInterface</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/HTTP/Response.md">CodeIgniter\HTTP\Response</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/HTTP/ResponseInterface.md">CodeIgniter\HTTP\ResponseInterface</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/HTTP/URI.md">CodeIgniter\HTTP\URI</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/HTTP/UserAgent.md">CodeIgniter\HTTP\UserAgent</a></td></tr>
</table>
</details>



 
 ## Uses

<table style="text-align:left;">
<tr>
<td>
<a href="../../../../../../api/vendor/codeigniter4/framework/system/HTTP/Exceptions/HTTPException.md"><strong>CodeIgniter\HTTP\Exceptions\HTTPException</strong></a>
</td>
<td>HTTPException</td>
</tr>
<tr>
<td>
<strong>Config\App</strong>
</td>
<td>App</td>
</tr>
</table>



 
## CodeIgniter\HTTP\CURLRequest

<table style="text-align:left">
<tr><th>Class</th><td>CURLRequest</td></tr>
<tr><th>Fully Qualified Name</th><td>CodeIgniter\HTTP\CURLRequest</td></tr>
<tr><th>Extends</th><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/HTTP/Request.md">CodeIgniter\HTTP\Request</a></td></tr>
</table>


<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Class OutgoingRequest
</td></tr>
</table>

<table>
<tr><td>
A lightweight HTTP client for sending synchronous HTTP requests
via cURL.
</td></tr>
</table>

</details>



<table style="text-align:left">
<tr style="vertical-align:top;">
<th>package</th>
<td>CodeIgniter\HTTP
</td>
</tr>
</table>



### Summary


<table style="text-align:left;">
<tr>
<th>Name</th>
<th>Element</th>
<th>Modifier</th>
<th>Description</th>
</tr>

<tr>
<th><a href="#response"><strong>response</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>The response object associated with this request</td>
</tr>
<tr>
<th><a href="#baseURI"><strong>baseURI</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>The URI associated with this request</td>
</tr>
<tr>
<th><a href="#config"><strong>config</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>The setting values</td>
</tr>
<tr>
<th><a href="#redirectDefaults"><strong>redirectDefaults</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>Default values for when &#039;allow_redirects&#039;
option is true.</td>
</tr>
<tr>
<th><a href="#delay"><strong>delay</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>The number of milliseconds to delay before
sending the request.</td>
</tr>

<tr>
<th><a href="#__construct"><strong>__construct</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Takes an array of options to set the following possible class properties:</td>
</tr>
<tr>
<th><a href="#request"><strong>request</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Sends an HTTP request to the specified $url. If this is a relative
URL, it will be merged with $this-&gt;baseURI to form a complete URL.</td>
</tr>
<tr>
<th><a href="#get"><strong>get</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Convenience method for sending a GET request.</td>
</tr>
<tr>
<th><a href="#delete"><strong>delete</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Convenience method for sending a DELETE request.</td>
</tr>
<tr>
<th><a href="#head"><strong>head</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Convenience method for sending a HEAD request.</td>
</tr>
<tr>
<th><a href="#options"><strong>options</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Convenience method for sending an OPTIONS request.</td>
</tr>
<tr>
<th><a href="#patch"><strong>patch</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Convenience method for sending a PATCH request.</td>
</tr>
<tr>
<th><a href="#post"><strong>post</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Convenience method for sending a POST request.</td>
</tr>
<tr>
<th><a href="#put"><strong>put</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Convenience method for sending a PUT request.</td>
</tr>
<tr>
<th><a href="#setAuth"><strong>setAuth</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Set the HTTP Authentication.</td>
</tr>
<tr>
<th><a href="#setForm"><strong>setForm</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Set form data to be sent.</td>
</tr>
<tr>
<th><a href="#setJSON"><strong>setJSON</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Set JSON data to be sent.</td>
</tr>
<tr>
<th><a href="#parseOptions"><strong>parseOptions</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>Sets the correct settings based on the options array
passed in.</td>
</tr>
<tr>
<th><a href="#prepareURL"><strong>prepareURL</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>If the $url is a relative URL, will attempt to create
a full URL by prepending $this-&gt;baseURI to it.</td>
</tr>
<tr>
<th><a href="#getMethod"><strong>getMethod</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Get the request method. Overrides the Request class&#039; method
since users expect a different answer here.</td>
</tr>
<tr>
<th><a href="#send"><strong>send</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Fires the actual cURL request.</td>
</tr>
<tr>
<th><a href="#applyRequestHeaders"><strong>applyRequestHeaders</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>Takes all headers current part of this request and adds them
to the cURL request.</td>
</tr>
<tr>
<th><a href="#applyMethod"><strong>applyMethod</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>Apply method</td>
</tr>
<tr>
<th><a href="#applyBody"><strong>applyBody</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>Apply body</td>
</tr>
<tr>
<th><a href="#setResponseHeaders"><strong>setResponseHeaders</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>Parses the header retrieved from the cURL response into
our Response object.</td>
</tr>
<tr>
<th><a href="#setCURLOptions"><strong>setCURLOptions</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>Set CURL options</td>
</tr>
<tr>
<th><a href="#sendRequest"><strong>sendRequest</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>Does the actual work of initializing cURL, setting the options,
and grabbing the output.</td>
</tr>

</table>





### Properties


<hr>

#### $response

```php
protected $response;
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
The response object associated with this request
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>\CodeIgniter\HTTP\Response
</td>
</tr>
</table>


<hr>

#### $baseURI

```php
protected $baseURI;
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
The URI associated with this request
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>\URI
</td>
</tr>
</table>


<hr>

#### $config

```php
protected $config = [
	'timeout'         => 0.0,
	'connect_timeout' => 150,
	'debug'           => false,
	'verify'          => true,
];
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
The setting values
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>array
</td>
</tr>
</table>


<hr>

#### $redirectDefaults

```php
protected $redirectDefaults = [
	'max'       => 5,
	'strict'    => true,
	'protocols' => [
		'http',
		'https',
	],
];
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Default values for when 'allow_redirects'
option is true.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>array
</td>
</tr>
</table>


<hr>

#### $delay

```php
protected $delay = 0.0;
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
The number of milliseconds to delay before
sending the request.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>float
</td>
</tr>
</table>







### Methods


<hr>

#### __construct()

```php
public function __construct(App $config, URI $uri, ResponseInterface $response = null, array $options = array())
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Takes an array of options to set the following possible class properties:
</td></tr>
</table>

<table>
<tr><td>
- baseURI
- timeout
- any other request options to use as defaults.
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$config</code></td>
<td><em>\App
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$uri</code></td>
<td><em>\URI
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>3.</td>
<td><code>$response</code></td>
<td><em>\ResponseInterface
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>4.</td>
<td><code>$options</code></td>
<td><em>array
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>








<details>
<summary><small>Source: 17 lines (120 - 136)</small></summary>

```php
public function __construct(App $config, URI $uri, ResponseInterface $response = null, array $options = [])
{
	if (! function_exists('curl_version'))
	{
		// we won't see this during travis-CI
		// @codeCoverageIgnoreStart
		throw HTTPException::forMissingCurl();
		// @codeCoverageIgnoreEnd
	}

	parent::__construct($config);

	$this->response = $response;
	$this->baseURI  = $uri->useRawQueryString();

	$this->parseOptions($options);
}
```

</details>


<hr>

#### request()

```php
public function request($method, string $url, array $options = array()) : ResponseInterface
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Sends an HTTP request to the specified $url. If this is a relative
URL, it will be merged with $this->baseURI to form a complete URL.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$method</code></td>
<td><em>
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$url</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>3.</td>
<td><code>$options</code></td>
<td><em>array
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\CodeIgniter\HTTP\ResponseInterface
</td>
</tr>
</table>





<details>
<summary><small>Source: 12 lines (150 - 161)</small></summary>

```php
public function request($method, string $url, array $options = []): ResponseInterface
{
	$this->parseOptions($options);

	$url = $this->prepareURL($url);

	$method = filter_var($method, FILTER_SANITIZE_STRING);

	$this->send($method, $url);

	return $this->response;
}
```

</details>


<hr>

#### get()

```php
public function get(string $url, array $options = array()) : ResponseInterface
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Convenience method for sending a GET request.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$url</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$options</code></td>
<td><em>array
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\CodeIgniter\HTTP\ResponseInterface
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (173 - 176)</small></summary>

```php
public function get(string $url, array $options = []): ResponseInterface
{
	return $this->request('get', $url, $options);
}
```

</details>


<hr>

#### delete()

```php
public function delete(string $url, array $options = array()) : ResponseInterface
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Convenience method for sending a DELETE request.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$url</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$options</code></td>
<td><em>array
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\CodeIgniter\HTTP\ResponseInterface
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (188 - 191)</small></summary>

```php
public function delete(string $url, array $options = []): ResponseInterface
{
	return $this->request('delete', $url, $options);
}
```

</details>


<hr>

#### head()

```php
public function head(string $url, array $options = array()) : ResponseInterface
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Convenience method for sending a HEAD request.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$url</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$options</code></td>
<td><em>array
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\ResponseInterface
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (203 - 206)</small></summary>

```php
public function head(string $url, array $options = []): ResponseInterface
{
	return $this->request('head', $url, $options);
}
```

</details>


<hr>

#### options()

```php
public function options(string $url, array $options = array()) : ResponseInterface
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Convenience method for sending an OPTIONS request.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$url</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$options</code></td>
<td><em>array
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\CodeIgniter\HTTP\ResponseInterface
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (218 - 221)</small></summary>

```php
public function options(string $url, array $options = []): ResponseInterface
{
	return $this->request('options', $url, $options);
}
```

</details>


<hr>

#### patch()

```php
public function patch(string $url, array $options = array()) : ResponseInterface
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Convenience method for sending a PATCH request.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$url</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$options</code></td>
<td><em>array
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\CodeIgniter\HTTP\ResponseInterface
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (233 - 236)</small></summary>

```php
public function patch(string $url, array $options = []): ResponseInterface
{
	return $this->request('patch', $url, $options);
}
```

</details>


<hr>

#### post()

```php
public function post(string $url, array $options = array()) : ResponseInterface
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Convenience method for sending a POST request.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$url</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$options</code></td>
<td><em>array
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\CodeIgniter\HTTP\ResponseInterface
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (248 - 251)</small></summary>

```php
public function post(string $url, array $options = []): ResponseInterface
{
	return $this->request('post', $url, $options);
}
```

</details>


<hr>

#### put()

```php
public function put(string $url, array $options = array()) : ResponseInterface
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Convenience method for sending a PUT request.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$url</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$options</code></td>
<td><em>array
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\CodeIgniter\HTTP\ResponseInterface
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (263 - 266)</small></summary>

```php
public function put(string $url, array $options = []): ResponseInterface
{
	return $this->request('put', $url, $options);
}
```

</details>


<hr>

#### setAuth()

```php
public function setAuth(string $username, string $password, string $type = 'basic')
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Set the HTTP Authentication.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$username</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$password</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>3.</td>
<td><code>$type</code></td>
<td><em>string
</em></td>
<td>false</td>
<td>basic or digest</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>$this
</td>
</tr>
</table>





<details>
<summary><small>Source: 10 lines (279 - 288)</small></summary>

```php
public function setAuth(string $username, string $password, string $type = 'basic')
{
	$this->config['auth'] = [
		$username,
		$password,
		$type,
	];

	return $this;
}
```

</details>


<hr>

#### setForm()

```php
public function setForm(array $params, bool $multipart = false)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Set form data to be sent.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$params</code></td>
<td><em>array
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$multipart</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td>Set TRUE if you are sending CURLFiles</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>$this
</td>
</tr>
</table>





<details>
<summary><small>Source: 13 lines (300 - 312)</small></summary>

```php
public function setForm(array $params, bool $multipart = false)
{
	if ($multipart)
	{
		$this->config['multipart'] = $params;
	}
	else
	{
		$this->config['form_params'] = $params;
	}

	return $this;
}
```

</details>


<hr>

#### setJSON()

```php
public function setJSON($data)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Set JSON data to be sent.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$data</code></td>
<td><em>mixed
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>$this
</td>
</tr>
</table>





<details>
<summary><small>Source: 6 lines (323 - 328)</small></summary>

```php
public function setJSON($data)
{
	$this->config['json'] = $data;

	return $this;
}
```

</details>


<hr>

#### parseOptions()

```php
protected function parseOptions(array $options)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Sets the correct settings based on the options array
passed in.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$options</code></td>
<td><em>array
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>








<details>
<summary><small>Source: 31 lines (338 - 368)</small></summary>

```php
protected function parseOptions(array $options)
{
	if (array_key_exists('baseURI', $options))
	{
		$this->baseURI = $this->baseURI->setURI($options['baseURI']);
		unset($options['baseURI']);
	}

	if (array_key_exists('headers', $options) && is_array($options['headers']))
	{
		foreach ($options['headers'] as $name => $value)
		{
			$this->setHeader($name, $value);
		}

		unset($options['headers']);
	}

	if (array_key_exists('delay', $options))
	{
		// Convert from the milliseconds passed in
		// to the seconds that sleep requires.
		$this->delay = (float) $options['delay'] / 1000;
		unset($options['delay']);
	}

	foreach ($options as $key => $value)
	{
		$this->config[$key] = $value;
	}
}
```

</details>


<hr>

#### prepareURL()

```php
protected function prepareURL(string $url) : string
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
If the $url is a relative URL, will attempt to create
a full URL by prepending $this->baseURI to it.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$url</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>string
</td>
</tr>
</table>





<details>
<summary><small>Source: 12 lines (380 - 391)</small></summary>

```php
protected function prepareURL(string $url): string
{
	// If it's a full URI, then we have nothing to do here...
	if (strpos($url, '://') !== false)
	{
		return $url;
	}

	$uri = $this->baseURI->resolveRelativeURI($url);

	return (string) $uri;
}
```

</details>


<hr>

#### getMethod()

```php
public function getMethod(bool $upper = false) : string
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Get the request method. Overrides the Request class' method
since users expect a different answer here.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$upper</code></td>
<td><em>bool<br>false
</em></td>
<td>false</td>
<td>Whether to return in upper or lower case.</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>string
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (403 - 406)</small></summary>

```php
public function getMethod(bool $upper = false): string
{
	return ($upper) ? strtoupper($this->method) : strtolower($this->method);
}
```

</details>


<hr>

#### send()

```php
public function send(string $method, string $url)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Fires the actual cURL request.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$method</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$url</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\CodeIgniter\HTTP\ResponseInterface
</td>
</tr>
</table>





<details>
<summary><small>Source: 68 lines (418 - 485)</small></summary>

```php
public function send(string $method, string $url)
{
	// Reset our curl options so we're on a fresh slate.
	$curl_options = [];

	if (! empty($this->config['query']) && is_array($this->config['query']))
	{
		// This is likely too naive a solution.
		// Should look into handling when $url already
		// has query vars on it.
		$url .= '?' . http_build_query($this->config['query']);
		unset($this->config['query']);
	}

	$curl_options[CURLOPT_URL]            = $url;
	$curl_options[CURLOPT_RETURNTRANSFER] = true;
	$curl_options[CURLOPT_HEADER]         = true;
	$curl_options[CURLOPT_FRESH_CONNECT]  = true;
	// Disable @file uploads in post data.
	$curl_options[CURLOPT_SAFE_UPLOAD] = true;

	$curl_options = $this->setCURLOptions($curl_options, $this->config);
	$curl_options = $this->applyMethod($method, $curl_options);
	$curl_options = $this->applyRequestHeaders($curl_options);

	// Do we need to delay this request?
	if ($this->delay > 0)
	{
		sleep($this->delay);
	}

	$output = $this->sendRequest($curl_options);

	// Set the string we want to break our response from
	$breakString = "\r\n\r\n";

	if (strpos($output, 'HTTP/1.1 100 Continue') === 0)
	{
		$output = substr($output, strpos($output, $breakString) + 4);
	}

	 // If request and response have Digest
	if (isset($this->config['auth'][2]) && $this->config['auth'][2] === 'digest' && strpos($output, 'WWW-Authenticate: Digest') !== false)
	{
			$output = substr($output, strpos($output, $breakString) + 4);
	}

	// Split out our headers and body
	$break = strpos($output, $breakString);

	if ($break !== false)
	{
		// Our headers
		$headers = explode("\n", substr($output, 0, $break));

		$this->setResponseHeaders($headers);

		// Our body
		$body = substr($output, $break + 4);
		$this->response->setBody($body);
	}
	else
	{
		$this->response->setBody($output);
	}

	return $this->response;
}
```

</details>


<hr>

#### applyRequestHeaders()

```php
protected function applyRequestHeaders(array $curl_options = array()) : array
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Takes all headers current part of this request and adds them
to the cURL request.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$curl_options</code></td>
<td><em>array
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>array
</td>
</tr>
</table>





<details>
<summary><small>Source: 28 lines (497 - 524)</small></summary>

```php
protected function applyRequestHeaders(array $curl_options = []): array
{
	if (empty($this->headers))
	{
		$this->populateHeaders();
		// Otherwise, it will corrupt the request
		$this->removeHeader('Host');
		$this->removeHeader('Accept-Encoding');
	}

	$headers = $this->getHeaders();

	if (empty($headers))
	{
		return $curl_options;
	}

	$set = [];

	foreach ($headers as $name => $value)
	{
		$set[] = $name . ': ' . $this->getHeaderLine($name);
	}

	$curl_options[CURLOPT_HTTPHEADER] = $set;

	return $curl_options;
}
```

</details>


<hr>

#### applyMethod()

```php
protected function applyMethod(string $method, array $curl_options) : array
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Apply method
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$method</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$curl_options</code></td>
<td><em>array
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>array
</td>
</tr>
</table>





<details>
<summary><small>Source: 30 lines (536 - 565)</small></summary>

```php
protected function applyMethod(string $method, array $curl_options): array
{
	$method = strtoupper($method);

	$this->method                        = $method;
	$curl_options[CURLOPT_CUSTOMREQUEST] = $method;

	$size = strlen($this->body);

	// Have content?
	if ($size === null || $size > 0)
	{
		return $this->applyBody($curl_options);
	}

	if ($method === 'PUT' || $method === 'POST')
	{
		// See http://tools.ietf.org/html/rfc7230#section-3.3.2
		if (is_null($this->getHeader('content-length')) && ! isset($this->config['multipart']))
		{
			$this->setHeader('Content-Length', '0');
		}
	}
	else if ($method === 'HEAD')
	{
		$curl_options[CURLOPT_NOBODY] = 1;
	}

	return $curl_options;
}
```

</details>


<hr>

#### applyBody()

```php
protected function applyBody(array $curl_options = array()) : array
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Apply body
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$curl_options</code></td>
<td><em>array
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>array
</td>
</tr>
</table>





<details>
<summary><small>Source: 9 lines (576 - 584)</small></summary>

```php
protected function applyBody(array $curl_options = []): array
{
	if (! empty($this->body))
	{
		$curl_options[CURLOPT_POSTFIELDS] = (string) $this->getBody();
	}

	return $curl_options;
}
```

</details>


<hr>

#### setResponseHeaders()

```php
protected function setResponseHeaders(array $headers = array())
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Parses the header retrieved from the cURL response into
our Response object.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$headers</code></td>
<td><em>array
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>








<details>
<summary><small>Source: 27 lines (594 - 620)</small></summary>

```php
protected function setResponseHeaders(array $headers = [])
{
	foreach ($headers as $header)
	{
		if (($pos = strpos($header, ':')) !== false)
		{
			$title = substr($header, 0, $pos);
			$value = substr($header, $pos + 1);

			$this->response->setHeader($title, $value);
		}
		else if (strpos($header, 'HTTP') === 0)
		{
			preg_match('#^HTTP\/([12]\.[01]) ([0-9]+) (.+)#', $header, $matches);

			if (isset($matches[1]))
			{
				$this->response->setProtocolVersion($matches[1]);
			}

			if (isset($matches[2]))
			{
				$this->response->setStatusCode($matches[2], $matches[3] ?? null);
			}
		}
	}
}
```

</details>


<hr>

#### setCURLOptions()

```php
protected function setCURLOptions(array $curl_options = array(), array $config = array())
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Set CURL options
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$curl_options</code></td>
<td><em>array
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$config</code></td>
<td><em>array
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>array
</td>
</tr>
</table>


<table>
<tr>
<th style="vertical-align:top;">throw</th>
<td>\InvalidArgumentException
</td>
</tr>
</table>



<details>
<summary><small>Source: 174 lines (632 - 805)</small></summary>

```php
protected function setCURLOptions(array $curl_options = [], array $config = [])
{
	// Auth Headers
	if (! empty($config['auth']))
	{
		$curl_options[CURLOPT_USERPWD] = $config['auth'][0] . ':' . $config['auth'][1];

		if (! empty($config['auth'][2]) && strtolower($config['auth'][2]) === 'digest')
		{
			$curl_options[CURLOPT_HTTPAUTH] = CURLAUTH_DIGEST;
		}
		else
		{
			$curl_options[CURLOPT_HTTPAUTH] = CURLAUTH_BASIC;
		}
	}

	// Certificate
	if (! empty($config['cert']))
	{
		$cert = $config['cert'];

		if (is_array($cert))
		{
			$curl_options[CURLOPT_SSLCERTPASSWD] = $cert[1];
			$cert                                = $cert[0];
		}

		if (! is_file($cert))
		{
			throw HTTPException::forSSLCertNotFound($cert);
		}

		$curl_options[CURLOPT_SSLCERT] = $cert;
	}

	// SSL Verification
	if (isset($config['verify']))
	{
		if (is_string($config['verify']))
		{
			$file = realpath($config['ssl_key']);

			if (! $file)
			{
				throw HTTPException::forInvalidSSLKey($config['ssl_key']);
			}

			$curl_options[CURLOPT_CAINFO]         = $file;
			$curl_options[CURLOPT_SSL_VERIFYPEER] = 1;
		}
		else if (is_bool($config['verify']))
		{
			$curl_options[CURLOPT_SSL_VERIFYPEER] = $config['verify'];
		}
	}

	// Debug
	if ($config['debug'])
	{
		$curl_options[CURLOPT_VERBOSE] = 1;
		$curl_options[CURLOPT_STDERR]  = is_string($config['debug']) ? fopen($config['debug'], 'a+') : fopen('php://stderr', 'w');
	}

	// Decode Content
	if (! empty($config['decode_content']))
	{
		$accept = $this->getHeaderLine('Accept-Encoding');

		if ($accept)
		{
			$curl_options[CURLOPT_ENCODING] = $accept;
		}
		else
		{
			$curl_options[CURLOPT_ENCODING]   = '';
			$curl_options[CURLOPT_HTTPHEADER] = 'Accept-Encoding';
		}
	}

	// Allow Redirects
	if (array_key_exists('allow_redirects', $config))
	{
		$settings = $this->redirectDefaults;

		if (is_array($config['allow_redirects']))
		{
			$settings = array_merge($settings, $config['allow_redirects']);
		}

		if ($config['allow_redirects'] === false)
		{
			$curl_options[CURLOPT_FOLLOWLOCATION] = 0;
		}
		else
		{
			$curl_options[CURLOPT_FOLLOWLOCATION] = 1;
			$curl_options[CURLOPT_MAXREDIRS]      = $settings['max'];

			if ($settings['strict'] === true)
			{
				$curl_options[CURLOPT_POSTREDIR] = 1 | 2 | 4;
			}

			$protocols = 0;
			foreach ($settings['protocols'] as $proto)
			{
				$protocols += constant('CURLPROTO_' . strtoupper($proto));
			}

			$curl_options[CURLOPT_REDIR_PROTOCOLS] = $protocols;
		}
	}

	// Timeout
	$curl_options[CURLOPT_TIMEOUT_MS] = (float) $config['timeout'] * 1000;

	// Connection Timeout
	$curl_options[CURLOPT_CONNECTTIMEOUT_MS] = (float) $config['connect_timeout'] * 1000;

	// Post Data - application/x-www-form-urlencoded
	if (! empty($config['form_params']) && is_array($config['form_params']))
	{
		$postFields                       = http_build_query($config['form_params']);
		$curl_options[CURLOPT_POSTFIELDS] = $postFields;

		// Ensure content-length is set, since CURL doesn't seem to
		// calculate it when HTTPHEADER is set.
		$this->setHeader('Content-Length', (string) strlen($postFields));
		$this->setHeader('Content-Type', 'application/x-www-form-urlencoded');
	}

	// Post Data - multipart/form-data
	if (! empty($config['multipart']) && is_array($config['multipart']))
	{
		// setting the POSTFIELDS option automatically sets multipart
		$curl_options[CURLOPT_POSTFIELDS] = $config['multipart'];
	}

	// HTTP Errors
	$curl_options[CURLOPT_FAILONERROR] = array_key_exists('http_errors', $config) ? (bool) $config['http_errors'] : true;

	// JSON
	if (isset($config['json']))
	{
		// Will be set as the body in `applyBody()`
		$json = json_encode($config['json']);
		$this->setBody($json);
		$this->setHeader('Content-Type', 'application/json');
		$this->setHeader('Content-Length', (string) strlen($json));
	}

	// version
	if (! empty($config['version']))
	{
		if ($config['version'] === 1.0)
		{
			$curl_options[CURLOPT_HTTP_VERSION] = CURL_HTTP_VERSION_1_0;
		}
		else if ($config['version'] === 1.1)
		{
			$curl_options[CURLOPT_HTTP_VERSION] = CURL_HTTP_VERSION_1_1;
		}
	}

	// Cookie
	if (isset($config['cookie']))
	{
		$curl_options[CURLOPT_COOKIEJAR]  = $config['cookie'];
		$curl_options[CURLOPT_COOKIEFILE] = $config['cookie'];
	}

	return $curl_options;
}
```

</details>


<hr>

#### sendRequest()

```php
protected function sendRequest(array $curl_options = array()) : string
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Does the actual work of initializing cURL, setting the options,
and grabbing the output.
</td></tr>
</table>


</details>



<table style="text-align:left">
<tr style="vertical-align:top;">
<th>codeCoverageIgnore</th>
<td>
</td>
</tr>
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$curl_options</code></td>
<td><em>array
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>string
</td>
</tr>
</table>





<details>
<summary><small>Source: 18 lines (819 - 836)</small></summary>

```php
protected function sendRequest(array $curl_options = []): string
{
	$ch = curl_init();

	curl_setopt_array($ch, $curl_options);

	// Send the request and wait for a response.
	$output = curl_exec($ch);

	if ($output === false)
	{
		throw HTTPException::forCurlError(curl_errno($ch), curl_error($ch));
	}

	curl_close($ch);

	return $output;
}
```

</details>





 


 
  




<hr>

<table>
<tr>
<td style="width:100%"><em>framework/system/HTTP/CURLRequest.php</em></td>
<td><a href="../../../../../../api/index.md">index</a></td>
<td><a href="../../../../../../api/vendor/codeigniter4/framework/system/HTTP/CLIRequest.md">prev</a></td>
<td><a href="../../../../../../api/vendor/codeigniter4/framework/system/HTTP/ContentSecurityPolicy.md">next</a></td>
<td><a href="#">top</a></td></tr>
</table>




<div style="text-align:right;">

<small>_Generated at **2020-08-14 07:35:12**_ *([EnixApp](https://github.com/enix-app) - [ApiDoc](https://github.com/enix-app/apidoc))*</small>
</div>