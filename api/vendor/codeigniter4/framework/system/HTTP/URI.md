


 



<table>
<tr>
<td style="width:100%"><em>framework/system/HTTP/URI.php</em></td>
<td><a href="../../../../../../api/index.md">index</a></td>
<td><a href="../../../../../../api/vendor/codeigniter4/framework/system/HTTP/ResponseInterface.md">prev</a></td>
<td><a href="../../../../../../api/vendor/codeigniter4/framework/system/HTTP/UserAgent.md">next</a></td>
</tr>
</table>







# CodeIgniter\HTTP 
<table style="text-align:left">
<tr><th>namespace</th><td>CodeIgniter\HTTP</td></tr>
</table>

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
CodeIgniter
</td></tr>
</table>

<table>
<tr><td>
An open source application development framework for PHP

This content is released under the MIT License (MIT)

Copyright (c) 2014-2019 British Columbia Institute of Technology
Copyright (c) 2019-2020 CodeIgniter Foundation

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
</td></tr>
</table>

</details>



<table style="text-align:left">
<tr style="vertical-align:top;">
<th>package</th>
<td>CodeIgniter
</td>
</tr>
<tr style="vertical-align:top;">
<th>author</th>
<td>CodeIgniter Dev Team
</td>
</tr>
<tr style="vertical-align:top;">
<th>copyright</th>
<td>2019-2020 CodeIgniter Foundation
</td>
</tr>
<tr style="vertical-align:top;">
<th>license</th>
<td><a href="https://opensource.org/licenses/MIT">https://opensource.org/licenses/MIT</a>	MIT License
</td>
</tr>
<tr style="vertical-align:top;">
<th>link</th>
<td><a href="https://codeigniter.com">https://codeigniter.com</a>

</td>
</tr>
<tr style="vertical-align:top;">
<th>filesource</th>
<td>framework/system/HTTP/URI.php
</td>
</tr>
</table>

 

<details>
<summary style="margin-bottom:12px;"><strong>Members</strong></summary>
<table>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/HTTP/CLIRequest.md">CodeIgniter\HTTP\CLIRequest</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/HTTP/CURLRequest.md">CodeIgniter\HTTP\CURLRequest</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/HTTP/ContentSecurityPolicy.md">CodeIgniter\HTTP\ContentSecurityPolicy</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/HTTP/DownloadResponse.md">CodeIgniter\HTTP\DownloadResponse</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/HTTP/Exceptions/HTTPException.md">CodeIgniter\HTTP\Exceptions\HTTPException</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/HTTP/Files/FileCollection.md">CodeIgniter\HTTP\Files\FileCollection</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/HTTP/Files/UploadedFile.md">CodeIgniter\HTTP\Files\UploadedFile</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/HTTP/Files/UploadedFileInterface.md">CodeIgniter\HTTP\Files\UploadedFileInterface</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/HTTP/Header.md">CodeIgniter\HTTP\Header</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/HTTP/IncomingRequest.md">CodeIgniter\HTTP\IncomingRequest</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/HTTP/Message.md">CodeIgniter\HTTP\Message</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/HTTP/Negotiate.md">CodeIgniter\HTTP\Negotiate</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/HTTP/RedirectResponse.md">CodeIgniter\HTTP\RedirectResponse</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/HTTP/Request.md">CodeIgniter\HTTP\Request</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/HTTP/RequestInterface.md">CodeIgniter\HTTP\RequestInterface</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/HTTP/Response.md">CodeIgniter\HTTP\Response</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/HTTP/ResponseInterface.md">CodeIgniter\HTTP\ResponseInterface</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/HTTP/URI.md">CodeIgniter\HTTP\URI</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/HTTP/UserAgent.md">CodeIgniter\HTTP\UserAgent</a></td></tr>
</table>
</details>



 
 ## Uses

<table style="text-align:left;">
<tr>
<td>
<a href="../../../../../../api/vendor/codeigniter4/framework/system/HTTP/Exceptions/HTTPException.md"><strong>CodeIgniter\HTTP\Exceptions\HTTPException</strong></a>
</td>
<td>HTTPException</td>
</tr>
</table>



 
## CodeIgniter\HTTP\URI

<table style="text-align:left">
<tr><th>Class</th><td>URI</td></tr>
<tr><th>Fully Qualified Name</th><td>CodeIgniter\HTTP\URI</td></tr>
</table>


<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Abstraction for a uniform resource identifier (URI).
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>



### Summary


<table style="text-align:left;">
<tr>
<th>Name</th>
<th>Element</th>
<th>Modifier</th>
<th>Description</th>
</tr>
<tr>
<th><a href="#CHAR_SUB_DELIMS"><strong>CHAR_SUB_DELIMS</strong></a></th>
<td>const</td>
<td>


</td>
<td></td>
</tr>
<tr>
<th><a href="#CHAR_UNRESERVED"><strong>CHAR_UNRESERVED</strong></a></th>
<td>const</td>
<td>


</td>
<td></td>
</tr>

<tr>
<th><a href="#uriString"><strong>uriString</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>Current URI string</td>
</tr>
<tr>
<th><a href="#segments"><strong>segments</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>List of URI segments.</td>
</tr>
<tr>
<th><a href="#scheme"><strong>scheme</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>The URI Scheme.</td>
</tr>
<tr>
<th><a href="#user"><strong>user</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>URI User Info</td>
</tr>
<tr>
<th><a href="#password"><strong>password</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>URI User Password</td>
</tr>
<tr>
<th><a href="#host"><strong>host</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>URI Host</td>
</tr>
<tr>
<th><a href="#port"><strong>port</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>URI Port</td>
</tr>
<tr>
<th><a href="#path"><strong>path</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>URI path.</td>
</tr>
<tr>
<th><a href="#fragment"><strong>fragment</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>The name of any fragment.</td>
</tr>
<tr>
<th><a href="#query"><strong>query</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>The query string.</td>
</tr>
<tr>
<th><a href="#defaultPorts"><strong>defaultPorts</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>Default schemes/ports.</td>
</tr>
<tr>
<th><a href="#showPassword"><strong>showPassword</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>Whether passwords should be shown in userInfo/authority calls.</td>
</tr>
<tr>
<th><a href="#silent"><strong>silent</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>If true, will continue instead of throwing exceptions.</td>
</tr>
<tr>
<th><a href="#rawQueryString"><strong>rawQueryString</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>If true, will use raw query string.</td>
</tr>

<tr>
<th><a href="#__construct"><strong>__construct</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Constructor.</td>
</tr>
<tr>
<th><a href="#setSilent"><strong>setSilent</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>If $silent == true, then will not throw exceptions and will
attempt to continue gracefully.</td>
</tr>
<tr>
<th><a href="#useRawQueryString"><strong>useRawQueryString</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>If $raw == true, then will use parseStr() method
instead of native parse_str() function.</td>
</tr>
<tr>
<th><a href="#setURI"><strong>setURI</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Sets and overwrites any current URI information.</td>
</tr>
<tr>
<th><a href="#getScheme"><strong>getScheme</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Retrieve the scheme component of the URI.</td>
</tr>
<tr>
<th><a href="#getAuthority"><strong>getAuthority</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Retrieve the authority component of the URI.</td>
</tr>
<tr>
<th><a href="#getUserInfo"><strong>getUserInfo</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Retrieve the user information component of the URI.</td>
</tr>
<tr>
<th><a href="#showPassword"><strong>showPassword</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Temporarily sets the URI to show a password in userInfo. Will
reset itself after the first call to authority().</td>
</tr>
<tr>
<th><a href="#getHost"><strong>getHost</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Retrieve the host component of the URI.</td>
</tr>
<tr>
<th><a href="#getPort"><strong>getPort</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Retrieve the port component of the URI.</td>
</tr>
<tr>
<th><a href="#getPath"><strong>getPath</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Retrieve the path component of the URI.</td>
</tr>
<tr>
<th><a href="#getQuery"><strong>getQuery</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Retrieve the query string</td>
</tr>
<tr>
<th><a href="#getFragment"><strong>getFragment</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Retrieve a URI fragment</td>
</tr>
<tr>
<th><a href="#getSegments"><strong>getSegments</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Returns the segments of the path as an array.</td>
</tr>
<tr>
<th><a href="#getSegment"><strong>getSegment</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Returns the value of a specific segment of the URI path.</td>
</tr>
<tr>
<th><a href="#setSegment"><strong>setSegment</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Set the value of a specific segment of the URI path.</td>
</tr>
<tr>
<th><a href="#getTotalSegments"><strong>getTotalSegments</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Returns the total number of segments.</td>
</tr>
<tr>
<th><a href="#__toString"><strong>__toString</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Allow the URI to be output as a string by simply casting it to a string
or echoing out.</td>
</tr>
<tr>
<th><a href="#createURIString"><strong>createURIString</strong>()</a></th>
<td>method</td>
<td>
public<br>static

</td>
<td>Builds a representation of the string from the component parts.</td>
</tr>
<tr>
<th><a href="#setAuthority"><strong>setAuthority</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Parses the given string an saves the appropriate authority pieces.</td>
</tr>
<tr>
<th><a href="#setScheme"><strong>setScheme</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Sets the scheme for this URI.</td>
</tr>
<tr>
<th><a href="#setUserInfo"><strong>setUserInfo</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Sets the userInfo/Authority portion of the URI.</td>
</tr>
<tr>
<th><a href="#setHost"><strong>setHost</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Sets the host name to use.</td>
</tr>
<tr>
<th><a href="#setPort"><strong>setPort</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Sets the port portion of the URI.</td>
</tr>
<tr>
<th><a href="#setPath"><strong>setPath</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Sets the path portion of the URI.</td>
</tr>
<tr>
<th><a href="#refreshPath"><strong>refreshPath</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Sets the path portion of the URI based on segments.</td>
</tr>
<tr>
<th><a href="#setQuery"><strong>setQuery</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Sets the query portion of the URI, while attempting
to clean the various parts of the query keys and values.</td>
</tr>
<tr>
<th><a href="#setQueryArray"><strong>setQueryArray</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>A convenience method to pass an array of items in as the Query
portion of the URI.</td>
</tr>
<tr>
<th><a href="#addQuery"><strong>addQuery</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Adds a single new element to the query vars.</td>
</tr>
<tr>
<th><a href="#stripQuery"><strong>stripQuery</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Removes one or more query vars from the URI.</td>
</tr>
<tr>
<th><a href="#keepQuery"><strong>keepQuery</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Filters the query variables so that only the keys passed in
are kept. The rest are removed from the object.</td>
</tr>
<tr>
<th><a href="#setFragment"><strong>setFragment</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Sets the fragment portion of the URI.</td>
</tr>
<tr>
<th><a href="#filterPath"><strong>filterPath</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>Encodes any dangerous characters, and removes dot segments.</td>
</tr>
<tr>
<th><a href="#applyParts"><strong>applyParts</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>Saves our parts from a parse_url call.</td>
</tr>
<tr>
<th><a href="#resolveRelativeURI"><strong>resolveRelativeURI</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Combines one URI string with this one based on the rules set out in
RFC 3986 Section 2</td>
</tr>
<tr>
<th><a href="#mergePaths"><strong>mergePaths</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>Given 2 paths, will merge them according to rules set out in RFC 2986,
Section 5.2</td>
</tr>
<tr>
<th><a href="#removeDotSegments"><strong>removeDotSegments</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Used when resolving and merging paths to correctly interpret and
remove single and double dot segments from the path per
RFC 3986 Section 5.2.4</td>
</tr>
<tr>
<th><a href="#parseStr"><strong>parseStr</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>This is equivalent to the native PHP parse_str() function.</td>
</tr>

</table>




### Class Constants


#### ::CHAR_SUB_DELIMS

```php
const CHAR_SUB_DELIMS = '!\$&\'\(\)\*\+,;=';
```

#### ::CHAR_UNRESERVED

```php
const CHAR_UNRESERVED = 'a-zA-Z0-9_\-\.~';
```






### Properties


<hr>

#### $uriString

```php
protected $uriString;
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Current URI string
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>string
</td>
</tr>
</table>


<hr>

#### $segments

```php
protected $segments = [];
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
List of URI segments.
</td></tr>
</table>

<table>
<tr><td>
Starts at 1 instead of 0
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>array
</td>
</tr>
</table>


<hr>

#### $scheme

```php
protected $scheme = 'http';
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
The URI Scheme.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>string
</td>
</tr>
</table>


<hr>

#### $user

```php
protected $user;
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
URI User Info
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>string
</td>
</tr>
</table>


<hr>

#### $password

```php
protected $password;
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
URI User Password
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>string
</td>
</tr>
</table>


<hr>

#### $host

```php
protected $host;
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
URI Host
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>string
</td>
</tr>
</table>


<hr>

#### $port

```php
protected $port;
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
URI Port
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>int
</td>
</tr>
</table>


<hr>

#### $path

```php
protected $path;
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
URI path.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>string
</td>
</tr>
</table>


<hr>

#### $fragment

```php
protected $fragment = '';
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
The name of any fragment.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>string
</td>
</tr>
</table>


<hr>

#### $query

```php
protected $query = [];
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
The query string.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>array
</td>
</tr>
</table>


<hr>

#### $defaultPorts

```php
protected $defaultPorts = [
	'http'  => 80,
	'https' => 443,
	'ftp'   => 21,
	'sftp'  => 22,
];
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Default schemes/ports.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>array
</td>
</tr>
</table>


<hr>

#### $showPassword

```php
protected $showPassword = false;
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Whether passwords should be shown in userInfo/authority calls.
</td></tr>
</table>

<table>
<tr><td>
Default to false because URIs often show up in logs
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>bool
</td>
</tr>
</table>


<hr>

#### $silent

```php
protected $silent = false;
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
If true, will continue instead of throwing exceptions.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>bool
</td>
</tr>
</table>


<hr>

#### $rawQueryString

```php
protected $rawQueryString = false;
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
If true, will use raw query string.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>bool
</td>
</tr>
</table>







### Methods


<hr>

#### __construct()

```php
public function __construct(string $uri = null)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Constructor.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$uri</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>





<table>
<tr>
<th style="vertical-align:top;">throw</th>
<td>\InvalidArgumentException
</td>
</tr>
</table>



<details>
<summary><small>Source: 7 lines (179 - 185)</small></summary>

```php
public function __construct(string $uri = null)
{
	if (! is_null($uri))
	{
		$this->setURI($uri);
	}
}
```

</details>


<hr>

#### setSilent()

```php
public function setSilent(bool $silent = true)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
If $silent == true, then will not throw exceptions and will
attempt to continue gracefully.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$silent</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\URI
</td>
</tr>
</table>





<details>
<summary><small>Source: 6 lines (197 - 202)</small></summary>

```php
public function setSilent(bool $silent = true)
{
	$this->silent = $silent;

	return $this;
}
```

</details>


<hr>

#### useRawQueryString()

```php
public function useRawQueryString(bool $raw = true)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
If $raw == true, then will use parseStr() method
instead of native parse_str() function.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$raw</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\URI
</td>
</tr>
</table>





<details>
<summary><small>Source: 6 lines (214 - 219)</small></summary>

```php
public function useRawQueryString(bool $raw = true)
{
	$this->rawQueryString = $raw;

	return $this;
}
```

</details>


<hr>

#### setURI()

```php
public function setURI(string $uri = null)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Sets and overwrites any current URI information.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$uri</code></td>
<td><em>string<br>null
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\URI
</td>
</tr>
</table>





<details>
<summary><small>Source: 21 lines (230 - 250)</small></summary>

```php
public function setURI(string $uri = null)
{
	if (! is_null($uri))
	{
		$parts = parse_url($uri);

		if ($parts === false)
		{
			if ($this->silent)
			{
				return $this;
			}

			throw HTTPException::forUnableToParseURI($uri);
		}

		$this->applyParts($parts);
	}

	return $this;
}
```

</details>


<hr>

#### getScheme()

```php
public function getScheme() : string
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Retrieve the scheme component of the URI.
</td></tr>
</table>

<table>
<tr><td>
If no scheme is present, this method MUST return an empty string.

The value returned MUST be normalized to lowercase, per RFC 3986
Section 3.1.

The trailing ":" character is not part of the scheme and MUST NOT be
added.
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>





<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>string
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (268 - 271)</small></summary>

```php
public function getScheme(): string
{
	return $this->scheme;
}
```

</details>


<hr>

#### getAuthority()

```php
public function getAuthority(bool $ignorePort = false) : string
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Retrieve the authority component of the URI.
</td></tr>
</table>

<table>
<tr><td>
If no authority information is present, this method MUST return an empty
string.

The authority syntax of the URI is:

<pre>
[user-info@]host[:port]
</pre>

If the port component is not set or is the standard port for the current
scheme, it SHOULD NOT be included.
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$ignorePort</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>string
</td>
</tr>
</table>





<details>
<summary><small>Source: 28 lines (296 - 323)</small></summary>

```php
public function getAuthority(bool $ignorePort = false): string
{
	if (empty($this->host))
	{
		return '';
	}

	$authority = $this->host;

	if (! empty($this->getUserInfo()))
	{
		$authority = $this->getUserInfo() . '@' . $authority;
	}

	if (! empty($this->port) && ! $ignorePort)
	{
		// Don't add port if it's a standard port for
		// this scheme
		if ($this->port !== $this->defaultPorts[$this->scheme])
		{
			$authority .= ':' . $this->port;
		}
	}

	$this->showPassword = false;

	return $authority;
}
```

</details>


<hr>

#### getUserInfo()

```php
public function getUserInfo()
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Retrieve the user information component of the URI.
</td></tr>
</table>

<table>
<tr><td>
If no user information is present, this method MUST return an empty
string.

If a user is present in the URI, this will return that value;
additionally, if the password is also present, it will be appended to the
user value, with a colon (":") separating the values.

NOTE that be default, the password, if available, will NOT be shown
as a security measure as discussed in RFC 3986, Section 7.5. If you know
the password is not a security issue, you can force it to be shown
with $this->showPassword();

The trailing "@" character is not part of the user information and MUST
NOT be added.
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>





<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>string<br>null
</td>
</tr>
</table>





<details>
<summary><small>Source: 11 lines (347 - 357)</small></summary>

```php
public function getUserInfo()
{
	$userInfo = $this->user;

	if ($this->showPassword === true && ! empty($this->password))
	{
		$userInfo .= ':' . $this->password;
	}

	return $userInfo;
}
```

</details>


<hr>

#### showPassword()

```php
public function showPassword(bool $val = true)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Temporarily sets the URI to show a password in userInfo. Will
reset itself after the first call to authority().
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$val</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\URI
</td>
</tr>
</table>





<details>
<summary><small>Source: 6 lines (369 - 374)</small></summary>

```php
public function showPassword(bool $val = true)
{
	$this->showPassword = $val;

	return $this;
}
```

</details>


<hr>

#### getHost()

```php
public function getHost() : string
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Retrieve the host component of the URI.
</td></tr>
</table>

<table>
<tr><td>
If no host is present, this method MUST return an empty string.

The value returned MUST be normalized to lowercase, per RFC 3986
Section 3.2.2.
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>





<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>string
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (389 - 392)</small></summary>

```php
public function getHost(): string
{
	return $this->host;
}
```

</details>


<hr>

#### getPort()

```php
public function getPort()
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Retrieve the port component of the URI.
</td></tr>
</table>

<table>
<tr><td>
If a port is present, and it is non-standard for the current scheme,
this method MUST return it as an integer. If the port is the standard port
used with the current scheme, this method SHOULD return null.

If no port is present, and no scheme is present, this method MUST return
a null value.

If no port is present, but a scheme is present, this method MAY return
the standard port for that scheme, but SHOULD return null.
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>





<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>null<br>int
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (411 - 414)</small></summary>

```php
public function getPort()
{
	return $this->port;
}
```

</details>


<hr>

#### getPath()

```php
public function getPath() : string
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Retrieve the path component of the URI.
</td></tr>
</table>

<table>
<tr><td>
The path can either be empty or absolute (starting with a slash) or
rootless (not starting with a slash). Implementations MUST support all
three syntaxes.

Normally, the empty path "" and absolute path "/" are considered equal as
defined in RFC 7230 Section 2.7.3. But this method MUST NOT automatically
do this normalization because in contexts with a trimmed base path, e.g.
the front controller, this difference becomes significant. It's the task
of the user to handle both "" and "/".

The value returned MUST be percent-encoded, but MUST NOT double-encode
any characters. To determine what characters to encode, please refer to
RFC 3986, Sections 2 and 3.3.

As an example, if the value should include a slash ("/") not intended as
delimiter between path segments, that value MUST be passed in encoded
form (e.g., "%%2F") to the instance.
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>





<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>string
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (443 - 446)</small></summary>

```php
public function getPath(): string
{
	return (is_null($this->path)) ? '' : $this->path;
}
```

</details>


<hr>

#### getQuery()

```php
public function getQuery(array $options = array()) : string
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Retrieve the query string
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$options</code></td>
<td><em>array
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>string
</td>
</tr>
</table>





<details>
<summary><small>Source: 38 lines (457 - 494)</small></summary>

```php
public function getQuery(array $options = []): string
{
	$vars = $this->query;

	if (array_key_exists('except', $options))
	{
		if (! is_array($options['except']))
		{
			$options['except'] = [$options['except']];
		}

		foreach ($options['except'] as $var)
		{
			unset($vars[$var]);
		}
	}
	elseif (array_key_exists('only', $options))
	{
		$temp = [];

		if (! is_array($options['only']))
		{
			$options['only'] = [$options['only']];
		}

		foreach ($options['only'] as $var)
		{
			if (array_key_exists($var, $vars))
			{
				$temp[$var] = $vars[$var];
			}
		}

		$vars = $temp;
	}

	return empty($vars) ? '' : http_build_query($vars);
}
```

</details>


<hr>

#### getFragment()

```php
public function getFragment() : string
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Retrieve a URI fragment
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>





<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>string
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (503 - 506)</small></summary>

```php
public function getFragment(): string
{
	return is_null($this->fragment) ? '' : $this->fragment;
}
```

</details>


<hr>

#### getSegments()

```php
public function getSegments() : array
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Returns the segments of the path as an array.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>





<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>array
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (515 - 518)</small></summary>

```php
public function getSegments(): array
{
	return $this->segments;
}
```

</details>


<hr>

#### getSegment()

```php
public function getSegment(int $number, string $default = '') : string
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Returns the value of a specific segment of the URI path.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$number</code></td>
<td><em>int
</em></td>
<td>false</td>
<td>Segment number</td>
</tr>

<tr>
<td>2.</td>
<td><code>$default</code></td>
<td><em>string
</em></td>
<td>false</td>
<td>Default value</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>string
</td>
</tr>
</table>





<details>
<summary><small>Source: 13 lines (531 - 543)</small></summary>

```php
public function getSegment(int $number, string $default = ''): string
{
	// The segment should treat the array as 1-based for the user
	// but we still have to deal with a zero-based array.
	$number -= 1;

	if ($number > count($this->segments) && ! $this->silent)
	{
		throw HTTPException::forURISegmentOutOfRange($number);
	}

	return $this->segments[$number] ?? $default;
}
```

</details>


<hr>

#### setSegment()

```php
public function setSegment(int $number, $value)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Set the value of a specific segment of the URI path.
</td></tr>
</table>

<table>
<tr><td>
Allows to set only existing segments or add new one.
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$number</code></td>
<td><em>int
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$value</code></td>
<td><em>mixed
</em></td>
<td>false</td>
<td>(string or int)</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>$this
</td>
</tr>
</table>





<details>
<summary><small>Source: 21 lines (554 - 574)</small></summary>

```php
public function setSegment(int $number, $value)
{
	// The segment should treat the array as 1-based for the user
	// but we still have to deal with a zero-based array.
	$number -= 1;

	if ($number > count($this->segments) + 1)
	{
		if ($this->silent)
		{
			return $this;
		}

		throw HTTPException::forURISegmentOutOfRange($number);
	}

	$this->segments[$number] = $value;
	$this->refreshPath();

	return $this;
}
```

</details>


<hr>

#### getTotalSegments()

```php
public function getTotalSegments() : int
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Returns the total number of segments.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>





<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>int
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (583 - 586)</small></summary>

```php
public function getTotalSegments(): int
{
	return count($this->segments);
}
```

</details>


<hr>

#### __toString()

```php
public function __toString() : string
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Allow the URI to be output as a string by simply casting it to a string
or echoing out.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>










<details>
<summary><small>Source: 7 lines (594 - 600)</small></summary>

```php
public function __toString(): string
{
	return static::createURIString(
					$this->getScheme(), $this->getAuthority(), $this->getPath(), // Absolute URIs should use a "/" for an empty path
					$this->getQuery(), $this->getFragment()
	);
}
```

</details>


<hr>

#### createURIString()

```php
public static function createURIString(string $scheme = null, string $authority = null, string $path = null, string $query = null, string $fragment = null) : string
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Builds a representation of the string from the component parts.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$scheme</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$authority</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>3.</td>
<td><code>$path</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>4.</td>
<td><code>$query</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>5.</td>
<td><code>$fragment</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>string
</td>
</tr>
</table>





<details>
<summary><small>Source: 30 lines (615 - 644)</small></summary>

```php
public static function createURIString(string $scheme = null, string $authority = null, string $path = null, string $query = null, string $fragment = null): string
{
	$uri = '';
	if (! empty($scheme))
	{
		$uri .= $scheme . '://';
	}

	if (! empty($authority))
	{
		$uri .= $authority;
	}

	if ($path !== '')
	{
		$uri .= substr($uri, -1, 1) !== '/' ? '/' . ltrim($path, '/') : ltrim($path, '/');
	}

	if ($query)
	{
		$uri .= '?' . $query;
	}

	if ($fragment)
	{
		$uri .= '#' . $fragment;
	}

	return $uri;
}
```

</details>


<hr>

#### setAuthority()

```php
public function setAuthority(string $str)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Parses the given string an saves the appropriate authority pieces.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$str</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>$this
</td>
</tr>
</table>





<details>
<summary><small>Source: 19 lines (655 - 673)</small></summary>

```php
public function setAuthority(string $str)
{
	$parts = parse_url($str);

	if (! isset($parts['path']))
	{
		$parts['path'] = $this->getPath();
	}

	if (empty($parts['host']) && $parts['path'] !== '')
	{
		$parts['host'] = $parts['path'];
		unset($parts['path']);
	}

	$this->applyParts($parts);

	return $this;
}
```

</details>


<hr>

#### setScheme()

```php
public function setScheme(string $str)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Sets the scheme for this URI.
</td></tr>
</table>

<table>
<tr><td>
Because of the large number of valid schemes we cannot limit this
to only http or https.
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$str</code></td>
<td><em>
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>$this
</td>
</tr>
</table>





<details>
<summary><small>Source: 9 lines (689 - 697)</small></summary>

```php
public function setScheme(string $str)
{
	$str = strtolower($str);
	$str = preg_replace('#:(//)?$#', '', $str);

	$this->scheme = $str;

	return $this;
}
```

</details>


<hr>

#### setUserInfo()

```php
public function setUserInfo(string $user, string $pass)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Sets the userInfo/Authority portion of the URI.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$user</code></td>
<td><em>string
</em></td>
<td>false</td>
<td>The user's username</td>
</tr>

<tr>
<td>2.</td>
<td><code>$pass</code></td>
<td><em>string
</em></td>
<td>false</td>
<td>The user's password</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>$this
</td>
</tr>
</table>





<details>
<summary><small>Source: 7 lines (709 - 715)</small></summary>

```php
public function setUserInfo(string $user, string $pass)
{
	$this->user     = trim($user);
	$this->password = trim($pass);

	return $this;
}
```

</details>


<hr>

#### setHost()

```php
public function setHost(string $str)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Sets the host name to use.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$str</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>$this
</td>
</tr>
</table>





<details>
<summary><small>Source: 6 lines (726 - 731)</small></summary>

```php
public function setHost(string $str)
{
	$this->host = trim($str);

	return $this;
}
```

</details>


<hr>

#### setPort()

```php
public function setPort(int $port = null)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Sets the port portion of the URI.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$port</code></td>
<td><em>int
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>$this
</td>
</tr>
</table>





<details>
<summary><small>Source: 21 lines (742 - 762)</small></summary>

```php
public function setPort(int $port = null)
{
	if (is_null($port))
	{
		return $this;
	}

	if ($port <= 0 || $port > 65535)
	{
		if ($this->silent)
		{
			return $this;
		}

		throw HTTPException::forInvalidPort($port);
	}

	$this->port = $port;

	return $this;
}
```

</details>


<hr>

#### setPath()

```php
public function setPath(string $path)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Sets the path portion of the URI.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$path</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>$this
</td>
</tr>
</table>





<details>
<summary><small>Source: 10 lines (773 - 782)</small></summary>

```php
public function setPath(string $path)
{
	$this->path = $this->filterPath($path);

	$tempPath = trim($this->path, '/');

	$this->segments = ($tempPath === '') ? [] : explode('/', $tempPath);

	return $this;
}
```

</details>


<hr>

#### refreshPath()

```php
public function refreshPath()
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Sets the path portion of the URI based on segments.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$path</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>$this
</td>
</tr>
</table>





<details>
<summary><small>Source: 10 lines (791 - 800)</small></summary>

```php
public function refreshPath()
{
	$this->path = $this->filterPath(implode('/', $this->segments));

	$tempPath = trim($this->path, '/');

	$this->segments = ($tempPath === '') ? [] : explode('/', $tempPath);

	return $this;
}
```

</details>


<hr>

#### setQuery()

```php
public function setQuery(string $query)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Sets the query portion of the URI, while attempting
to clean the various parts of the query keys and values.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$query</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>$this
</td>
</tr>
</table>





<details>
<summary><small>Source: 29 lines (812 - 840)</small></summary>

```php
public function setQuery(string $query)
{
	if (strpos($query, '#') !== false)
	{
		if ($this->silent)
		{
			return $this;
		}

		throw HTTPException::forMalformedQueryString();
	}

	// Can't have leading ?
	if (! empty($query) && strpos($query, '?') === 0)
	{
		$query = substr($query, 1);
	}

	if ($this->rawQueryString)
	{
		$this->query = $this->parseStr($query);
	}
	else
	{
		parse_str($query, $this->query);
	}

	return $this;
}
```

</details>


<hr>

#### setQueryArray()

```php
public function setQueryArray(array $query)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
A convenience method to pass an array of items in as the Query
portion of the URI.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$query</code></td>
<td><em>array
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\CodeIgniter\HTTP\URI
</td>
</tr>
</table>





<details>
<summary><small>Source: 6 lines (852 - 857)</small></summary>

```php
public function setQueryArray(array $query)
{
	$query = http_build_query($query);

	return $this->setQuery($query);
}
```

</details>


<hr>

#### addQuery()

```php
public function addQuery(string $key, $value = null)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Adds a single new element to the query vars.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$key</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$value</code></td>
<td><em>mixed
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>$this
</td>
</tr>
</table>





<details>
<summary><small>Source: 6 lines (869 - 874)</small></summary>

```php
public function addQuery(string $key, $value = null)
{
	$this->query[$key] = $value;

	return $this;
}
```

</details>


<hr>

#### stripQuery()

```php
public function stripQuery(...$params)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Removes one or more query vars from the URI.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$params</code></td>
<td><em>array
</em></td>
<td>true</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>$this
</td>
</tr>
</table>





<details>
<summary><small>Source: 9 lines (885 - 893)</small></summary>

```php
public function stripQuery(...$params)
{
	foreach ($params as $param)
	{
		unset($this->query[$param]);
	}

	return $this;
}
```

</details>


<hr>

#### keepQuery()

```php
public function keepQuery(...$params)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Filters the query variables so that only the keys passed in
are kept. The rest are removed from the object.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$params</code></td>
<td><em>array
</em></td>
<td>true</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>$this
</td>
</tr>
</table>





<details>
<summary><small>Source: 18 lines (905 - 922)</small></summary>

```php
public function keepQuery(...$params)
{
	$temp = [];

	foreach ($this->query as $key => $value)
	{
		if (! in_array($key, $params))
		{
			continue;
		}

		$temp[$key] = $value;
	}

	$this->query = $temp;

	return $this;
}
```

</details>


<hr>

#### setFragment()

```php
public function setFragment(string $string)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Sets the fragment portion of the URI.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$string</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>$this
</td>
</tr>
</table>





<details>
<summary><small>Source: 6 lines (935 - 940)</small></summary>

```php
public function setFragment(string $string)
{
	$this->fragment = trim($string, '# ');

	return $this;
}
```

</details>


<hr>

#### filterPath()

```php
protected function filterPath(string $path = null) : string
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Encodes any dangerous characters, and removes dot segments.
</td></tr>
</table>

<table>
<tr><td>
While dot segments have valid uses according to the spec,
this URI class does not allow them.
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$path</code></td>
<td><em>
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>string
</td>
</tr>
</table>





<details>
<summary><small>Source: 30 lines (953 - 982)</small></summary>

```php
protected function filterPath(string $path = null): string
{
	$orig = $path;

	// Decode/normalize percent-encoded chars so
	// we can always have matching for Routes, etc.
	$path = urldecode($path);

	// Remove dot segments
	$path = $this->removeDotSegments($path);

	// Fix up some leading slash edge cases...
	if (strpos($orig, './') === 0)
	{
		$path = '/' . $path;
	}
	if (strpos($orig, '../') === 0)
	{
		$path = '/' . $path;
	}

	// Encode characters
	$path = preg_replace_callback(
			'/(?:[^' . static::CHAR_UNRESERVED . ':@&=\+\$,\/;%]+|%(?![A-Fa-f0-9]{2}))/', function (array $matches) {
				return rawurlencode($matches[0]);
			}, $path
	);

	return $path;
}
```

</details>


<hr>

#### applyParts()

```php
protected function applyParts(array $parts)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Saves our parts from a parse_url call.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$parts</code></td>
<td><em>array
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>








<details>
<summary><small>Source: 57 lines (991 - 1047)</small></summary>

```php
protected function applyParts(array $parts)
{
	if (! empty($parts['host']))
	{
		$this->host = $parts['host'];
	}
	if (! empty($parts['user']))
	{
		$this->user = $parts['user'];
	}
	if (isset($parts['path']) && $parts['path'] !== '')
	{
		$this->path = $this->filterPath($parts['path']);
	}
	if (! empty($parts['query']))
	{
		$this->setQuery($parts['query']);
	}
	if (! empty($parts['fragment']))
	{
		$this->fragment = $parts['fragment'];
	}

	// Scheme
	if (isset($parts['scheme']))
	{
		$this->setScheme(rtrim($parts['scheme'], ':/'));
	}
	else
	{
		$this->setScheme('http');
	}

	// Port
	if (isset($parts['port']))
	{
		if (! is_null($parts['port']))
		{
			// Valid port numbers are enforced by earlier parse_url or setPort()
			$port       = $parts['port'];
			$this->port = $port;
		}
	}

	if (isset($parts['pass']))
	{
		$this->password = $parts['pass'];
	}

	// Populate our segments array
	if (isset($parts['path']) && $parts['path'] !== '')
	{
		$tempPath = trim($parts['path'], '/');

		$this->segments = ($tempPath === '') ? [] : explode('/', $tempPath);
	}
}
```

</details>


<hr>

#### resolveRelativeURI()

```php
public function resolveRelativeURI(string $uri)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Combines one URI string with this one based on the rules set out in
RFC 3986 Section 2
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$uri</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\CodeIgniter\HTTP\URI
</td>
</tr>
</table>





<details>
<summary><small>Source: 61 lines (1061 - 1121)</small></summary>

```php
public function resolveRelativeURI(string $uri)
{
	/*
	 * NOTE: We don't use removeDotSegments in this
	 * algorithm since it's already done by this line!
	 */
	$relative = new URI();
	$relative->setURI($uri);

	if ($relative->getScheme() === $this->getScheme())
	{
		$relative->setScheme('');
	}

	$transformed = clone $relative;

	// 5.2.2 Transform References in a non-strict method (no scheme)
	if (! empty($relative->getAuthority()))
	{
		$transformed->setAuthority($relative->getAuthority())
				->setPath($relative->getPath())
				->setQuery($relative->getQuery());
	}
	else
	{
		if ($relative->getPath() === '')
		{
			$transformed->setPath($this->getPath());

			if ($relative->getQuery())
			{
				$transformed->setQuery($relative->getQuery());
			}
			else
			{
				$transformed->setQuery($this->getQuery());
			}
		}
		else
		{
			if (strpos($relative->getPath(), '/') === 0)
			{
				$transformed->setPath($relative->getPath());
			}
			else
			{
				$transformed->setPath($this->mergePaths($this, $relative));
			}

			$transformed->setQuery($relative->getQuery());
		}

		$transformed->setAuthority($this->getAuthority());
	}

	$transformed->setScheme($this->getScheme());

	$transformed->setFragment($relative->getFragment());

	return $transformed;
}
```

</details>


<hr>

#### mergePaths()

```php
protected function mergePaths(URI $base, URI $reference) : string
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Given 2 paths, will merge them according to rules set out in RFC 2986,
Section 5.2
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$base</code></td>
<td><em>\URI
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$reference</code></td>
<td><em>\URI
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>string
</td>
</tr>
</table>





<details>
<summary><small>Source: 19 lines (1136 - 1154)</small></summary>

```php
protected function mergePaths(URI $base, URI $reference): string
{
	if (! empty($base->getAuthority()) && $base->getPath() === '')
	{
		return '/' . ltrim($reference->getPath(), '/ ');
	}

	$path = explode('/', $base->getPath());

	if ($path[0] === '')
	{
		unset($path[0]);
	}

	array_pop($path);
	array_push($path, $reference->getPath());

	return implode('/', $path);
}
```

</details>


<hr>

#### removeDotSegments()

```php
public function removeDotSegments(string $path) : string
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Used when resolving and merging paths to correctly interpret and
remove single and double dot segments from the path per
RFC 3986 Section 5.2.4
</td></tr>
</table>


</details>



<table style="text-align:left">
<tr style="vertical-align:top;">
<th>internal</th>
<td>param \CodeIgniter\HTTP\URI $uri
</td>
</tr>
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$path</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>string
</td>
</tr>
</table>





<details>
<summary><small>Source: 53 lines (1170 - 1222)</small></summary>

```php
public function removeDotSegments(string $path): string
{
	if ($path === '' || $path === '/')
	{
		return $path;
	}

	$output = [];

	$input = explode('/', $path);

	if ($input[0] === '')
	{
		unset($input[0]);
		$input = array_values($input);
	}

	// This is not a perfect representation of the
	// RFC, but matches most cases and is pretty
	// much what Guzzle uses. Should be good enough
	// for almost every real use case.
	foreach ($input as $segment)
	{
		if ($segment === '..')
		{
			array_pop($output);
		}
		else if ($segment !== '.' && $segment !== '')
		{
			array_push($output, $segment);
		}
	}

	$output = implode('/', $output);
	$output = ltrim($output, '/ ');

	if ($output !== '/')
	{
		// Add leading slash if necessary
		if (strpos($path, '/') === 0)
		{
			$output = '/' . $output;
		}

		// Add trailing slash if necessary
		if (substr($path, -1, 1) === '/')
		{
			$output .= '/';
		}
	}

	return $output;
}
```

</details>


<hr>

#### parseStr()

```php
protected function parseStr(string $query) : array
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
This is equivalent to the native PHP parse_str() function.
</td></tr>
</table>

<table>
<tr><td>
This version allows the dot to be used as a key of the query string.
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$query</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>array
</td>
</tr>
</table>





<details>
<summary><small>Source: 23 lines (1234 - 1256)</small></summary>

```php
protected function parseStr(string $query): array
{
	$return = [];
	$query  = explode('&', $query);

	$params = array_map(function (string $chunk) {
		return preg_replace_callback('/^(?<key>[^&=]+?)(?:\[[^&=]*\])?=(?<value>[^&=]+)/', function (array $match) {
			return str_replace($match['key'], bin2hex($match['key']), $match[0]);
		}, urldecode($chunk));
	}, $query);

	$params = implode('&', $params);
	parse_str($params, $params);

	foreach ($params as $key => $value)
	{
		$return[hex2bin($key)] = $value;
	}

	$query = $params = null;

	return $return;
}
```

</details>





 


 
  




<hr>

<table>
<tr>
<td style="width:100%"><em>framework/system/HTTP/URI.php</em></td>
<td><a href="../../../../../../api/index.md">index</a></td>
<td><a href="../../../../../../api/vendor/codeigniter4/framework/system/HTTP/ResponseInterface.md">prev</a></td>
<td><a href="../../../../../../api/vendor/codeigniter4/framework/system/HTTP/UserAgent.md">next</a></td>
<td><a href="#">top</a></td></tr>
</table>




<div style="text-align:right;">

<small>_Generated at **2020-08-15 12:03:16**_ *([EnixApp](https://github.com/enix-app) - [ApiDoc](https://github.com/enix-app/apidoc))*</small>
</div>