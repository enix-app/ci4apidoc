


 



<table>
<tr>
<td style="width:100%"><em>framework/system/Database/BaseBuilder.php</em></td>
<td><a href="../../../../../../api/index.md">index</a></td>
<td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Controller.md">prev</a></td>
<td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/BaseConnection.md">next</a></td>
</tr>
</table>







# CodeIgniter\Database 
<table style="text-align:left">
<tr><th>namespace</th><td>CodeIgniter\Database</td></tr>
</table>

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
CodeIgniter
</td></tr>
</table>

<table>
<tr><td>
An open source application development framework for PHP

This content is released under the MIT License (MIT)

Copyright (c) 2014-2019 British Columbia Institute of Technology
Copyright (c) 2019-2020 CodeIgniter Foundation

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
</td></tr>
</table>

</details>



<table style="text-align:left">
<tr style="vertical-align:top;">
<th>package</th>
<td>CodeIgniter
</td>
</tr>
<tr style="vertical-align:top;">
<th>author</th>
<td>CodeIgniter Dev Team
</td>
</tr>
<tr style="vertical-align:top;">
<th>copyright</th>
<td>2019-2020 CodeIgniter Foundation
</td>
</tr>
<tr style="vertical-align:top;">
<th>license</th>
<td><a href="https://opensource.org/licenses/MIT">https://opensource.org/licenses/MIT</a>	MIT License
</td>
</tr>
<tr style="vertical-align:top;">
<th>link</th>
<td><a href="https://codeigniter.com">https://codeigniter.com</a>

</td>
</tr>
<tr style="vertical-align:top;">
<th>filesource</th>
<td>framework/system/Database/BaseBuilder.php
</td>
</tr>
</table>

 

<details>
<summary style="margin-bottom:12px;"><strong>Members</strong></summary>
<table>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/BaseBuilder.md">CodeIgniter\Database\BaseBuilder</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/BaseConnection.md">CodeIgniter\Database\BaseConnection</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/BasePreparedQuery.md">CodeIgniter\Database\BasePreparedQuery</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/BaseResult.md">CodeIgniter\Database\BaseResult</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/BaseUtils.md">CodeIgniter\Database\BaseUtils</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/Config.md">CodeIgniter\Database\Config</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/ConnectionInterface.md">CodeIgniter\Database\ConnectionInterface</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/Database.md">CodeIgniter\Database\Database</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/Exceptions/DataException.md">CodeIgniter\Database\Exceptions\DataException</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/Exceptions/DatabaseException.md">CodeIgniter\Database\Exceptions\DatabaseException</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/Exceptions/ExceptionInterface.md">CodeIgniter\Database\Exceptions\ExceptionInterface</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/Forge.md">CodeIgniter\Database\Forge</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/Migration.md">CodeIgniter\Database\Migration</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/MigrationRunner.md">CodeIgniter\Database\MigrationRunner</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/ModelFactory.md">CodeIgniter\Database\ModelFactory</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/MySQLi/Builder.md">CodeIgniter\Database\MySQLi\Builder</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.md">CodeIgniter\Database\MySQLi\Connection</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/MySQLi/Forge.md">CodeIgniter\Database\MySQLi\Forge</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/MySQLi/PreparedQuery.md">CodeIgniter\Database\MySQLi\PreparedQuery</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/MySQLi/Result.md">CodeIgniter\Database\MySQLi\Result</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/MySQLi/Utils.md">CodeIgniter\Database\MySQLi\Utils</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/Postgre/Builder.md">CodeIgniter\Database\Postgre\Builder</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/Postgre/Connection.md">CodeIgniter\Database\Postgre\Connection</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/Postgre/Forge.md">CodeIgniter\Database\Postgre\Forge</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/Postgre/PreparedQuery.md">CodeIgniter\Database\Postgre\PreparedQuery</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/Postgre/Result.md">CodeIgniter\Database\Postgre\Result</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/Postgre/Utils.md">CodeIgniter\Database\Postgre\Utils</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/PreparedQueryInterface.md">CodeIgniter\Database\PreparedQueryInterface</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/Query.md">CodeIgniter\Database\Query</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/QueryInterface.md">CodeIgniter\Database\QueryInterface</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/ResultInterface.md">CodeIgniter\Database\ResultInterface</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/SQLite3/Builder.md">CodeIgniter\Database\SQLite3\Builder</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/SQLite3/Connection.md">CodeIgniter\Database\SQLite3\Connection</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/SQLite3/Forge.md">CodeIgniter\Database\SQLite3\Forge</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/SQLite3/PreparedQuery.md">CodeIgniter\Database\SQLite3\PreparedQuery</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/SQLite3/Result.md">CodeIgniter\Database\SQLite3\Result</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/SQLite3/Table.md">CodeIgniter\Database\SQLite3\Table</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/SQLite3/Utils.md">CodeIgniter\Database\SQLite3\Utils</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/Seeder.md">CodeIgniter\Database\Seeder</a></td></tr>
</table>
</details>



 
 ## Uses

<table style="text-align:left;">
<tr>
<td>
<strong>Closure</strong>
</td>
<td>Closure</td>
</tr>
<tr>
<td>
<a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/Exceptions/DatabaseException.md"><strong>CodeIgniter\Database\Exceptions\DatabaseException</strong></a>
</td>
<td>DatabaseException</td>
</tr>
<tr>
<td>
<a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/Exceptions/DataException.md"><strong>CodeIgniter\Database\Exceptions\DataException</strong></a>
</td>
<td>DataException</td>
</tr>
</table>



 
## CodeIgniter\Database\BaseBuilder

<table style="text-align:left">
<tr><th>Class</th><td>BaseBuilder</td></tr>
<tr><th>Fully Qualified Name</th><td>CodeIgniter\Database\BaseBuilder</td></tr>
</table>


<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Class BaseBuilder
</td></tr>
</table>

<table>
<tr><td>
Provides the core Query Builder methods.
Database-specific Builders might need to override
certain methods to make them work.
</td></tr>
</table>

</details>



<table style="text-align:left">
<tr style="vertical-align:top;">
<th>package</th>
<td>CodeIgniter\Database
</td>
</tr>
<tr style="vertical-align:top;">
<th>mixin</th>
<td>\CodeIgniter\Model
</td>
</tr>
</table>



### Summary


<table style="text-align:left;">
<tr>
<th>Name</th>
<th>Element</th>
<th>Modifier</th>
<th>Description</th>
</tr>

<tr>
<th><a href="#resetDeleteData"><strong>resetDeleteData</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>Reset DELETE data flag</td>
</tr>
<tr>
<th><a href="#QBSelect"><strong>QBSelect</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>QB SELECT data</td>
</tr>
<tr>
<th><a href="#QBDistinct"><strong>QBDistinct</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>QB DISTINCT flag</td>
</tr>
<tr>
<th><a href="#QBFrom"><strong>QBFrom</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>QB FROM data</td>
</tr>
<tr>
<th><a href="#QBJoin"><strong>QBJoin</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>QB JOIN data</td>
</tr>
<tr>
<th><a href="#QBWhere"><strong>QBWhere</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>QB WHERE data</td>
</tr>
<tr>
<th><a href="#QBGroupBy"><strong>QBGroupBy</strong></a></th>
<td>prop</td>
<td>
public

</td>
<td>QB GROUP BY data</td>
</tr>
<tr>
<th><a href="#QBHaving"><strong>QBHaving</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>QB HAVING data</td>
</tr>
<tr>
<th><a href="#QBKeys"><strong>QBKeys</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>QB keys</td>
</tr>
<tr>
<th><a href="#QBLimit"><strong>QBLimit</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>QB LIMIT data</td>
</tr>
<tr>
<th><a href="#QBOffset"><strong>QBOffset</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>QB OFFSET data</td>
</tr>
<tr>
<th><a href="#QBOrderBy"><strong>QBOrderBy</strong></a></th>
<td>prop</td>
<td>
public

</td>
<td>QB ORDER BY data</td>
</tr>
<tr>
<th><a href="#QBNoEscape"><strong>QBNoEscape</strong></a></th>
<td>prop</td>
<td>
public

</td>
<td>QB NO ESCAPE data</td>
</tr>
<tr>
<th><a href="#QBSet"><strong>QBSet</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>QB data sets</td>
</tr>
<tr>
<th><a href="#QBWhereGroupStarted"><strong>QBWhereGroupStarted</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>QB WHERE group started flag</td>
</tr>
<tr>
<th><a href="#QBWhereGroupCount"><strong>QBWhereGroupCount</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>QB WHERE group count</td>
</tr>
<tr>
<th><a href="#QBIgnore"><strong>QBIgnore</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>Ignore data that cause certain
exceptions, for example in case of
duplicate keys.</td>
</tr>
<tr>
<th><a href="#db"><strong>db</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>A reference to the database connection.</td>
</tr>
<tr>
<th><a href="#randomKeyword"><strong>randomKeyword</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>ORDER BY random keyword</td>
</tr>
<tr>
<th><a href="#countString"><strong>countString</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>COUNT string</td>
</tr>
<tr>
<th><a href="#binds"><strong>binds</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>Collects the named parameters and
their values for later binding
in the Query object.</td>
</tr>
<tr>
<th><a href="#bindsKeyCount"><strong>bindsKeyCount</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>Collects the key count for named parameters
in the Query object.</td>
</tr>
<tr>
<th><a href="#canLimitDeletes"><strong>canLimitDeletes</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>Some databases, like SQLite, do not by default
allow limiting of delete clauses.</td>
</tr>
<tr>
<th><a href="#canLimitWhereUpdates"><strong>canLimitWhereUpdates</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>Some databases do not by default
allow limit update queries with WHERE.</td>
</tr>
<tr>
<th><a href="#supportedIgnoreStatements"><strong>supportedIgnoreStatements</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>Specifies which sql statements
support the ignore option.</td>
</tr>
<tr>
<th><a href="#testMode"><strong>testMode</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>Builder testing mode status.</td>
</tr>
<tr>
<th><a href="#joinTypes"><strong>joinTypes</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>Tables relation types</td>
</tr>

<tr>
<th><a href="#__construct"><strong>__construct</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Constructor</td>
</tr>
<tr>
<th><a href="#testMode"><strong>testMode</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Sets a test mode status.</td>
</tr>
<tr>
<th><a href="#getBinds"><strong>getBinds</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Returns an array of bind values and their
named parameters for binding in the Query object later.</td>
</tr>
<tr>
<th><a href="#ignore"><strong>ignore</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Ignore</td>
</tr>
<tr>
<th><a href="#select"><strong>select</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Select</td>
</tr>
<tr>
<th><a href="#selectMax"><strong>selectMax</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Select Max</td>
</tr>
<tr>
<th><a href="#selectMin"><strong>selectMin</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Select Min</td>
</tr>
<tr>
<th><a href="#selectAvg"><strong>selectAvg</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Select Average</td>
</tr>
<tr>
<th><a href="#selectSum"><strong>selectSum</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Select Sum</td>
</tr>
<tr>
<th><a href="#selectCount"><strong>selectCount</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Select Count</td>
</tr>
<tr>
<th><a href="#maxMinAvgSum"><strong>maxMinAvgSum</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>SELECT [MAX|MIN|AVG|SUM|COUNT]()</td>
</tr>
<tr>
<th><a href="#createAliasFromTable"><strong>createAliasFromTable</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>Determines the alias name based on the table</td>
</tr>
<tr>
<th><a href="#distinct"><strong>distinct</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>DISTINCT</td>
</tr>
<tr>
<th><a href="#from"><strong>from</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>From</td>
</tr>
<tr>
<th><a href="#join"><strong>join</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>JOIN</td>
</tr>
<tr>
<th><a href="#where"><strong>where</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>WHERE</td>
</tr>
<tr>
<th><a href="#orWhere"><strong>orWhere</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>OR WHERE</td>
</tr>
<tr>
<th><a href="#whereHaving"><strong>whereHaving</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>WHERE, HAVING</td>
</tr>
<tr>
<th><a href="#whereIn"><strong>whereIn</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>WHERE IN</td>
</tr>
<tr>
<th><a href="#orWhereIn"><strong>orWhereIn</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>OR WHERE IN</td>
</tr>
<tr>
<th><a href="#whereNotIn"><strong>whereNotIn</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>WHERE NOT IN</td>
</tr>
<tr>
<th><a href="#orWhereNotIn"><strong>orWhereNotIn</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>OR WHERE NOT IN</td>
</tr>
<tr>
<th><a href="#havingIn"><strong>havingIn</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>HAVING IN</td>
</tr>
<tr>
<th><a href="#orHavingIn"><strong>orHavingIn</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>OR HAVING IN</td>
</tr>
<tr>
<th><a href="#havingNotIn"><strong>havingNotIn</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>HAVING NOT IN</td>
</tr>
<tr>
<th><a href="#orHavingNotIn"><strong>orHavingNotIn</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>OR HAVING NOT IN</td>
</tr>
<tr>
<th><a href="#_whereIn"><strong>_whereIn</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>Internal WHERE IN</td>
</tr>
<tr>
<th><a href="#like"><strong>like</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>LIKE</td>
</tr>
<tr>
<th><a href="#notLike"><strong>notLike</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>NOT LIKE</td>
</tr>
<tr>
<th><a href="#orLike"><strong>orLike</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>OR LIKE</td>
</tr>
<tr>
<th><a href="#orNotLike"><strong>orNotLike</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>OR NOT LIKE</td>
</tr>
<tr>
<th><a href="#havingLike"><strong>havingLike</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>LIKE with HAVING clause</td>
</tr>
<tr>
<th><a href="#notHavingLike"><strong>notHavingLike</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>NOT LIKE with HAVING clause</td>
</tr>
<tr>
<th><a href="#orHavingLike"><strong>orHavingLike</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>OR LIKE with HAVING clause</td>
</tr>
<tr>
<th><a href="#orNotHavingLike"><strong>orNotHavingLike</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>OR NOT LIKE with HAVING clause</td>
</tr>
<tr>
<th><a href="#_like"><strong>_like</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>Internal LIKE</td>
</tr>
<tr>
<th><a href="#_like_statement"><strong>_like_statement</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>Platform independent LIKE statement builder.</td>
</tr>
<tr>
<th><a href="#groupStart"><strong>groupStart</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Starts a query group.</td>
</tr>
<tr>
<th><a href="#orGroupStart"><strong>orGroupStart</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Starts a query group, but ORs the group</td>
</tr>
<tr>
<th><a href="#notGroupStart"><strong>notGroupStart</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Starts a query group, but NOTs the group</td>
</tr>
<tr>
<th><a href="#orNotGroupStart"><strong>orNotGroupStart</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Starts a query group, but OR NOTs the group</td>
</tr>
<tr>
<th><a href="#groupEnd"><strong>groupEnd</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Ends a query group</td>
</tr>
<tr>
<th><a href="#havingGroupStart"><strong>havingGroupStart</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Starts a query group for HAVING clause.</td>
</tr>
<tr>
<th><a href="#orHavingGroupStart"><strong>orHavingGroupStart</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Starts a query group for HAVING clause, but ORs the group.</td>
</tr>
<tr>
<th><a href="#notHavingGroupStart"><strong>notHavingGroupStart</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Starts a query group for HAVING clause, but NOTs the group.</td>
</tr>
<tr>
<th><a href="#orNotHavingGroupStart"><strong>orNotHavingGroupStart</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Starts a query group for HAVING clause, but OR NOTs the group.</td>
</tr>
<tr>
<th><a href="#havingGroupEnd"><strong>havingGroupEnd</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Ends a query group for HAVING clause.</td>
</tr>
<tr>
<th><a href="#groupStartPrepare"><strong>groupStartPrepare</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>Prepate a query group start.</td>
</tr>
<tr>
<th><a href="#groupEndPrepare"><strong>groupEndPrepare</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>Prepate a query group end.</td>
</tr>
<tr>
<th><a href="#groupGetType"><strong>groupGetType</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>Group_get_type</td>
</tr>
<tr>
<th><a href="#groupBy"><strong>groupBy</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>GROUP BY</td>
</tr>
<tr>
<th><a href="#having"><strong>having</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>HAVING</td>
</tr>
<tr>
<th><a href="#orHaving"><strong>orHaving</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>OR HAVING</td>
</tr>
<tr>
<th><a href="#orderBy"><strong>orderBy</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>ORDER BY</td>
</tr>
<tr>
<th><a href="#limit"><strong>limit</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>LIMIT</td>
</tr>
<tr>
<th><a href="#offset"><strong>offset</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Sets the OFFSET value</td>
</tr>
<tr>
<th><a href="#_limit"><strong>_limit</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>LIMIT string</td>
</tr>
<tr>
<th><a href="#set"><strong>set</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>The &quot;set&quot; function.</td>
</tr>
<tr>
<th><a href="#getSetData"><strong>getSetData</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Returns the previously set() data, alternatively resetting it
if needed.</td>
</tr>
<tr>
<th><a href="#getCompiledSelect"><strong>getCompiledSelect</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Get SELECT query string</td>
</tr>
<tr>
<th><a href="#compileFinalQuery"><strong>compileFinalQuery</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>Returns a finalized, compiled query string with the bindings
inserted and prefixes swapped out.</td>
</tr>
<tr>
<th><a href="#get"><strong>get</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Get</td>
</tr>
<tr>
<th><a href="#countAll"><strong>countAll</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>&quot;Count All&quot; query</td>
</tr>
<tr>
<th><a href="#countAllResults"><strong>countAllResults</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>&quot;Count All Results&quot; query</td>
</tr>
<tr>
<th><a href="#getCompiledQBWhere"><strong>getCompiledQBWhere</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Get compiled &#039;where&#039; condition string</td>
</tr>
<tr>
<th><a href="#getWhere"><strong>getWhere</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Get_Where</td>
</tr>
<tr>
<th><a href="#insertBatch"><strong>insertBatch</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Insert_Batch</td>
</tr>
<tr>
<th><a href="#_insertBatch"><strong>_insertBatch</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>Insert batch statement</td>
</tr>
<tr>
<th><a href="#setInsertBatch"><strong>setInsertBatch</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>The &quot;setInsertBatch&quot; function.  Allows key/value pairs to be set for batch inserts</td>
</tr>
<tr>
<th><a href="#getCompiledInsert"><strong>getCompiledInsert</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Get INSERT query string</td>
</tr>
<tr>
<th><a href="#insert"><strong>insert</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Insert</td>
</tr>
<tr>
<th><a href="#validateInsert"><strong>validateInsert</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>Validate Insert</td>
</tr>
<tr>
<th><a href="#_insert"><strong>_insert</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>Insert statement</td>
</tr>
<tr>
<th><a href="#replace"><strong>replace</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Replace</td>
</tr>
<tr>
<th><a href="#_replace"><strong>_replace</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>Replace statement</td>
</tr>
<tr>
<th><a href="#_fromTables"><strong>_fromTables</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>FROM tables</td>
</tr>
<tr>
<th><a href="#getCompiledUpdate"><strong>getCompiledUpdate</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Get UPDATE query string</td>
</tr>
<tr>
<th><a href="#update"><strong>update</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>UPDATE</td>
</tr>
<tr>
<th><a href="#_update"><strong>_update</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>Update statement</td>
</tr>
<tr>
<th><a href="#validateUpdate"><strong>validateUpdate</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>Validate Update</td>
</tr>
<tr>
<th><a href="#updateBatch"><strong>updateBatch</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Update_Batch</td>
</tr>
<tr>
<th><a href="#_updateBatch"><strong>_updateBatch</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>Update_Batch statement</td>
</tr>
<tr>
<th><a href="#setUpdateBatch"><strong>setUpdateBatch</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>The &quot;setUpdateBatch&quot; function.  Allows key/value pairs to be set for batch updating</td>
</tr>
<tr>
<th><a href="#emptyTable"><strong>emptyTable</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Empty Table</td>
</tr>
<tr>
<th><a href="#truncate"><strong>truncate</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Truncate</td>
</tr>
<tr>
<th><a href="#_truncate"><strong>_truncate</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>Truncate statement</td>
</tr>
<tr>
<th><a href="#getCompiledDelete"><strong>getCompiledDelete</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Get DELETE query string</td>
</tr>
<tr>
<th><a href="#delete"><strong>delete</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Delete</td>
</tr>
<tr>
<th><a href="#increment"><strong>increment</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Increments a numeric column by the specified value.</td>
</tr>
<tr>
<th><a href="#decrement"><strong>decrement</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Decrements a numeric column by the specified value.</td>
</tr>
<tr>
<th><a href="#_delete"><strong>_delete</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>Delete statement</td>
</tr>
<tr>
<th><a href="#trackAliases"><strong>trackAliases</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>Track Aliases</td>
</tr>
<tr>
<th><a href="#compileSelect"><strong>compileSelect</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>Compile the SELECT statement</td>
</tr>
<tr>
<th><a href="#compileIgnore"><strong>compileIgnore</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>Compile Ignore Statement</td>
</tr>
<tr>
<th><a href="#compileWhereHaving"><strong>compileWhereHaving</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>Compile WHERE, HAVING statements</td>
</tr>
<tr>
<th><a href="#compileGroupBy"><strong>compileGroupBy</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>Compile GROUP BY</td>
</tr>
<tr>
<th><a href="#compileOrderBy"><strong>compileOrderBy</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>Compile ORDER BY</td>
</tr>
<tr>
<th><a href="#objectToArray"><strong>objectToArray</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>Object to Array</td>
</tr>
<tr>
<th><a href="#batchObjectToArray"><strong>batchObjectToArray</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>Object to Array</td>
</tr>
<tr>
<th><a href="#isLiteral"><strong>isLiteral</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>Is literal</td>
</tr>
<tr>
<th><a href="#resetQuery"><strong>resetQuery</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Reset Query Builder values.</td>
</tr>
<tr>
<th><a href="#resetRun"><strong>resetRun</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>Resets the query builder values.  Called by the get() function</td>
</tr>
<tr>
<th><a href="#resetSelect"><strong>resetSelect</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>Resets the query builder values.  Called by the get() function</td>
</tr>
<tr>
<th><a href="#resetWrite"><strong>resetWrite</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>Resets the query builder &quot;write&quot; values.</td>
</tr>
<tr>
<th><a href="#hasOperator"><strong>hasOperator</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>Tests whether the string has an SQL operator</td>
</tr>
<tr>
<th><a href="#getOperator"><strong>getOperator</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>Returns the SQL string operator</td>
</tr>
<tr>
<th><a href="#setBind"><strong>setBind</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>Stores a bind value after ensuring that it&#039;s unique.</td>
</tr>
<tr>
<th><a href="#cleanClone"><strong>cleanClone</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>Returns a clone of a Base Builder with reset query builder values.</td>
</tr>

</table>





### Properties


<hr>

#### $resetDeleteData

```php
protected $resetDeleteData = false;
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Reset DELETE data flag
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>bool
</td>
</tr>
</table>


<hr>

#### $QBSelect

```php
protected $QBSelect = [];
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
QB SELECT data
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>array
</td>
</tr>
</table>


<hr>

#### $QBDistinct

```php
protected $QBDistinct = false;
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
QB DISTINCT flag
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>bool
</td>
</tr>
</table>


<hr>

#### $QBFrom

```php
protected $QBFrom = [];
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
QB FROM data
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>array
</td>
</tr>
</table>


<hr>

#### $QBJoin

```php
protected $QBJoin = [];
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
QB JOIN data
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>array
</td>
</tr>
</table>


<hr>

#### $QBWhere

```php
protected $QBWhere = [];
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
QB WHERE data
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>array
</td>
</tr>
</table>


<hr>

#### $QBGroupBy

```php
public $QBGroupBy = [];
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
QB GROUP BY data
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>array
</td>
</tr>
</table>


<hr>

#### $QBHaving

```php
protected $QBHaving = [];
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
QB HAVING data
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>array
</td>
</tr>
</table>


<hr>

#### $QBKeys

```php
protected $QBKeys = [];
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
QB keys
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>array
</td>
</tr>
</table>


<hr>

#### $QBLimit

```php
protected $QBLimit = false;
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
QB LIMIT data
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>int
</td>
</tr>
</table>


<hr>

#### $QBOffset

```php
protected $QBOffset = false;
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
QB OFFSET data
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>int
</td>
</tr>
</table>


<hr>

#### $QBOrderBy

```php
public $QBOrderBy = [];
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
QB ORDER BY data
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>array
</td>
</tr>
</table>


<hr>

#### $QBNoEscape

```php
public $QBNoEscape = [];
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
QB NO ESCAPE data
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>array
</td>
</tr>
</table>


<hr>

#### $QBSet

```php
protected $QBSet = [];
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
QB data sets
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>array
</td>
</tr>
</table>


<hr>

#### $QBWhereGroupStarted

```php
protected $QBWhereGroupStarted = false;
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
QB WHERE group started flag
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>bool
</td>
</tr>
</table>


<hr>

#### $QBWhereGroupCount

```php
protected $QBWhereGroupCount = 0;
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
QB WHERE group count
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>int
</td>
</tr>
</table>


<hr>

#### $QBIgnore

```php
protected $QBIgnore = false;
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Ignore data that cause certain
exceptions, for example in case of
duplicate keys.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>bool
</td>
</tr>
</table>


<hr>

#### $db

```php
protected $db;
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
A reference to the database connection.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>\BaseConnection
</td>
</tr>
</table>


<hr>

#### $randomKeyword

```php
protected $randomKeyword = [
	'RAND()',
	'RAND(%d)',
];
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
ORDER BY random keyword
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>array
</td>
</tr>
</table>


<hr>

#### $countString

```php
protected $countString = 'SELECT COUNT(*) AS ';
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
COUNT string
</td></tr>
</table>


</details>



<table style="text-align:left">
<tr style="vertical-align:top;">
<th>used-by</th>
<td>CI_DB_driver::count_all()
</td>
</tr>
<tr style="vertical-align:top;">
<th>used-by</th>
<td>BaseBuilder::count_all_results()
</td>
</tr>
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>string
</td>
</tr>
</table>


<hr>

#### $binds

```php
protected $binds = [];
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Collects the named parameters and
their values for later binding
in the Query object.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>array
</td>
</tr>
</table>


<hr>

#### $bindsKeyCount

```php
protected $bindsKeyCount = [];
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Collects the key count for named parameters
in the Query object.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>array
</td>
</tr>
</table>


<hr>

#### $canLimitDeletes

```php
protected $canLimitDeletes = true;
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Some databases, like SQLite, do not by default
allow limiting of delete clauses.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>bool
</td>
</tr>
</table>


<hr>

#### $canLimitWhereUpdates

```php
protected $canLimitWhereUpdates = true;
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Some databases do not by default
allow limit update queries with WHERE.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>bool
</td>
</tr>
</table>


<hr>

#### $supportedIgnoreStatements

```php
protected $supportedIgnoreStatements = [];
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Specifies which sql statements
support the ignore option.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>array
</td>
</tr>
</table>


<hr>

#### $testMode

```php
protected $testMode = false;
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Builder testing mode status.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>bool
</td>
</tr>
</table>


<hr>

#### $joinTypes

```php
protected $joinTypes = [
	'LEFT',
	'RIGHT',
	'OUTER',
	'INNER',
	'LEFT OUTER',
	'RIGHT OUTER',
];
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Tables relation types
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>array
</td>
</tr>
</table>







### Methods


<hr>

#### __construct()

```php
public function __construct($tableName, ConnectionInterface &$db, array $options = null)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Constructor
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$tableName</code></td>
<td><em>string<br>array
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$db</code></td>
<td><em>\CodeIgniter\Database\ConnectionInterface
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>3.</td>
<td><code>$options</code></td>
<td><em>array
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>





<table>
<tr>
<th style="vertical-align:top;">throw</th>
<td>\DatabaseException
</td>
</tr>
</table>



<details>
<summary><small>Source: 22 lines (279 - 300)</small></summary>

```php
public function __construct($tableName, ConnectionInterface &$db, array $options = null)
{
	if (empty($tableName))
	{
		throw new DatabaseException('A table must be specified when creating a new Query Builder.');
	}

	$this->db = $db;

	$this->from($tableName);

	if (! empty($options))
	{
		foreach ($options as $key => $value)
		{
			if (property_exists($this, $key))
			{
				$this->$key = $value;
			}
		}
	}
}
```

</details>


<hr>

#### testMode()

```php
public function testMode(bool $mode = true)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Sets a test mode status.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$mode</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td>Mode to set</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\BaseBuilder
</td>
</tr>
</table>





<details>
<summary><small>Source: 6 lines (311 - 316)</small></summary>

```php
public function testMode(bool $mode = true)
{
	$this->testMode = $mode;

	return $this;
}
```

</details>


<hr>

#### getBinds()

```php
public function getBinds() : array
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Returns an array of bind values and their
named parameters for binding in the Query object later.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>





<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>array
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (326 - 329)</small></summary>

```php
public function getBinds(): array
{
	return $this->binds;
}
```

</details>


<hr>

#### ignore()

```php
public function ignore(bool $ignore = true)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Ignore
</td></tr>
</table>

<table>
<tr><td>
Set ignore Flag for next insert,
update or delete query.
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$ignore</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\BaseBuilder
</td>
</tr>
</table>





<details>
<summary><small>Source: 6 lines (343 - 348)</small></summary>

```php
public function ignore(bool $ignore = true)
{
	$this->QBIgnore = $ignore;

	return $this;
}
```

</details>


<hr>

#### select()

```php
public function select($select = '*', bool $escape = null)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Select
</td></tr>
</table>

<table>
<tr><td>
Generates the SELECT portion of the query
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$select</code></td>
<td><em>string<br>array
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$escape</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\BaseBuilder
</td>
</tr>
</table>





<details>
<summary><small>Source: 36 lines (362 - 397)</small></summary>

```php
public function select($select = '*', bool $escape = null)
{
	if (is_string($select))
	{
		$select = explode(',', $select);
	}

	// If the escape value was not set, we will base it on the global setting
	is_bool($escape) || $escape = $this->db->protectIdentifiers;

	foreach ($select as $val)
	{
		$val = trim($val);

		if ($val !== '')
		{
			$this->QBSelect[] = $val;

			/*
			 * When doing 'SELECT NULL as field_alias FROM table'
			 * null gets taken as a field, and therefore escaped
			 * with backticks.
			 * This prevents NULL being escaped
			 * @see https://github.com/codeigniter4/CodeIgniter4/issues/1169
			 */
			if (mb_stripos(trim($val), 'NULL') === 0)
			{
				$escape = false;
			}

			$this->QBNoEscape[] = $escape;
		}
	}

	return $this;
}
```

</details>


<hr>

#### selectMax()

```php
public function selectMax(string $select = '', string $alias = '')
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Select Max
</td></tr>
</table>

<table>
<tr><td>
Generates a SELECT MAX(field) portion of a query
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$select</code></td>
<td><em>string
</em></td>
<td>false</td>
<td>The field</td>
</tr>

<tr>
<td>2.</td>
<td><code>$alias</code></td>
<td><em>string
</em></td>
<td>false</td>
<td>An alias</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\BaseBuilder
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (411 - 414)</small></summary>

```php
public function selectMax(string $select = '', string $alias = '')
{
	return $this->maxMinAvgSum($select, $alias);
}
```

</details>


<hr>

#### selectMin()

```php
public function selectMin(string $select = '', string $alias = '')
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Select Min
</td></tr>
</table>

<table>
<tr><td>
Generates a SELECT MIN(field) portion of a query
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$select</code></td>
<td><em>string
</em></td>
<td>false</td>
<td>The field</td>
</tr>

<tr>
<td>2.</td>
<td><code>$alias</code></td>
<td><em>string
</em></td>
<td>false</td>
<td>An alias</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\BaseBuilder
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (428 - 431)</small></summary>

```php
public function selectMin(string $select = '', string $alias = '')
{
	return $this->maxMinAvgSum($select, $alias, 'MIN');
}
```

</details>


<hr>

#### selectAvg()

```php
public function selectAvg(string $select = '', string $alias = '')
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Select Average
</td></tr>
</table>

<table>
<tr><td>
Generates a SELECT AVG(field) portion of a query
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$select</code></td>
<td><em>string
</em></td>
<td>false</td>
<td>The field</td>
</tr>

<tr>
<td>2.</td>
<td><code>$alias</code></td>
<td><em>string
</em></td>
<td>false</td>
<td>An alias</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\BaseBuilder
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (445 - 448)</small></summary>

```php
public function selectAvg(string $select = '', string $alias = '')
{
	return $this->maxMinAvgSum($select, $alias, 'AVG');
}
```

</details>


<hr>

#### selectSum()

```php
public function selectSum(string $select = '', string $alias = '')
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Select Sum
</td></tr>
</table>

<table>
<tr><td>
Generates a SELECT SUM(field) portion of a query
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$select</code></td>
<td><em>string
</em></td>
<td>false</td>
<td>The field</td>
</tr>

<tr>
<td>2.</td>
<td><code>$alias</code></td>
<td><em>string
</em></td>
<td>false</td>
<td>An alias</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\BaseBuilder
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (462 - 465)</small></summary>

```php
public function selectSum(string $select = '', string $alias = '')
{
	return $this->maxMinAvgSum($select, $alias, 'SUM');
}
```

</details>


<hr>

#### selectCount()

```php
public function selectCount(string $select = '', string $alias = '')
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Select Count
</td></tr>
</table>

<table>
<tr><td>
Generates a SELECT COUNT(field) portion of a query
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$select</code></td>
<td><em>string
</em></td>
<td>false</td>
<td>The field</td>
</tr>

<tr>
<td>2.</td>
<td><code>$alias</code></td>
<td><em>string
</em></td>
<td>false</td>
<td>An alias</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\BaseBuilder
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (479 - 482)</small></summary>

```php
public function selectCount(string $select = '', string $alias = '')
{
	return $this->maxMinAvgSum($select, $alias, 'COUNT');
}
```

</details>


<hr>

#### maxMinAvgSum()

```php
protected function maxMinAvgSum(string $select = '', string $alias = '', string $type = 'MAX')
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
SELECT [MAX|MIN|AVG|SUM|COUNT]()
</td></tr>
</table>


</details>



<table style="text-align:left">
<tr style="vertical-align:top;">
<th>used-by</th>
<td>selectMax()
</td>
</tr>
<tr style="vertical-align:top;">
<th>used-by</th>
<td>selectMin()
</td>
</tr>
<tr style="vertical-align:top;">
<th>used-by</th>
<td>selectAvg()
</td>
</tr>
<tr style="vertical-align:top;">
<th>used-by</th>
<td>selectSum()
</td>
</tr>
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$select</code></td>
<td><em>string
</em></td>
<td>false</td>
<td>Field name</td>
</tr>

<tr>
<td>2.</td>
<td><code>$alias</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>3.</td>
<td><code>$type</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\BaseBuilder
</td>
</tr>
</table>


<table>
<tr>
<th style="vertical-align:top;">throw</th>
<td>\CodeIgniter\Database\Exceptions\DataException
</td>
</tr>
<tr>
<th style="vertical-align:top;">throw</th>
<td>\CodeIgniter\Database\Exceptions\DatabaseException
</td>
</tr>
</table>



<details>
<summary><small>Source: 31 lines (502 - 532)</small></summary>

```php
protected function maxMinAvgSum(string $select = '', string $alias = '', string $type = 'MAX')
{
	if ($select === '')
	{
		throw DataException::forEmptyInputGiven('Select');
	}

	if (strpos($select, ',') !== false)
	{
		throw DataException::forInvalidArgument('column name not separated by comma');
	}

	$type = strtoupper($type);

	if (! in_array($type, ['MAX', 'MIN', 'AVG', 'SUM', 'COUNT']))
	{
		throw new DatabaseException('Invalid function type: ' . $type);
	}

	if ($alias === '')
	{
		$alias = $this->createAliasFromTable(trim($select));
	}

	$sql = $type . '(' . $this->db->protectIdentifiers(trim($select)) . ') AS ' . $this->db->escapeIdentifiers(trim($alias));

	$this->QBSelect[]   = $sql;
	$this->QBNoEscape[] = null;

	return $this;
}
```

</details>


<hr>

#### createAliasFromTable()

```php
protected function createAliasFromTable(string $item) : string
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Determines the alias name based on the table
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$item</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>string
</td>
</tr>
</table>





<details>
<summary><small>Source: 11 lines (543 - 553)</small></summary>

```php
protected function createAliasFromTable(string $item): string
{
	if (strpos($item, '.') !== false)
	{
		$item = explode('.', $item);

		return end($item);
	}

	return $item;
}
```

</details>


<hr>

#### distinct()

```php
public function distinct(bool $val = true)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
DISTINCT
</td></tr>
</table>

<table>
<tr><td>
Sets a flag which tells the query string compiler to add DISTINCT
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$val</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\BaseBuilder
</td>
</tr>
</table>





<details>
<summary><small>Source: 6 lines (566 - 571)</small></summary>

```php
public function distinct(bool $val = true)
{
	$this->QBDistinct = $val;

	return $this;
}
```

</details>


<hr>

#### from()

```php
public function from($from, bool $overwrite = false)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
From
</td></tr>
</table>

<table>
<tr><td>
Generates the FROM portion of the query
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$from</code></td>
<td><em>mixed
</em></td>
<td>false</td>
<td>can be a string or array</td>
</tr>

<tr>
<td>2.</td>
<td><code>$overwrite</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td>Should we remove the first table existing?</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\BaseBuilder
</td>
</tr>
</table>





<details>
<summary><small>Source: 34 lines (585 - 618)</small></summary>

```php
public function from($from, bool $overwrite = false)
{
	if ($overwrite === true)
	{
		$this->QBFrom = [];
		$this->db->setAliasedTables([]);
	}

	foreach ((array) $from as $val)
	{
		if (strpos($val, ',') !== false)
		{
			foreach (explode(',', $val) as $v)
			{
				$v = trim($v);
				$this->trackAliases($v);

				$this->QBFrom[] = $v = $this->db->protectIdentifiers($v, true, null, false);
			}
		}
		else
		{
			$val = trim($val);

			// Extract any aliases that might exist. We use this information
			// in the protectIdentifiers to know whether to add a table prefix
			$this->trackAliases($val);

			$this->QBFrom[] = $this->db->protectIdentifiers($val, true, null, false);
		}
	}

	return $this;
}
```

</details>


<hr>

#### join()

```php
public function join(string $table, string $cond, string $type = '', bool $escape = null)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
JOIN
</td></tr>
</table>

<table>
<tr><td>
Generates the JOIN portion of the query
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$table</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$cond</code></td>
<td><em>string
</em></td>
<td>false</td>
<td>The join condition</td>
</tr>

<tr>
<td>3.</td>
<td><code>$type</code></td>
<td><em>string
</em></td>
<td>false</td>
<td>The type of join</td>
</tr>

<tr>
<td>4.</td>
<td><code>$escape</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td>Whether not to try to escape identifiers</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\BaseBuilder
</td>
</tr>
</table>





<details>
<summary><small>Source: 74 lines (634 - 707)</small></summary>

```php
public function join(string $table, string $cond, string $type = '', bool $escape = null)
{
	if ($type !== '')
	{
		$type = strtoupper(trim($type));

		if (! in_array($type, $this->joinTypes, true))
		{
			$type = '';
		}
		else
		{
			$type .= ' ';
		}
	}

	// Extract any aliases that might exist. We use this information
	// in the protectIdentifiers to know whether to add a table prefix
	$this->trackAliases($table);

	is_bool($escape) || $escape = $this->db->protectIdentifiers;

	if (! $this->hasOperator($cond))
	{
		$cond = ' USING (' . ($escape ? $this->db->escapeIdentifiers($cond) : $cond) . ')';
	}
	elseif ($escape === false)
	{
		$cond = ' ON ' . $cond;
	}
	else
	{
		// Split multiple conditions
		if (preg_match_all('/\sAND\s|\sOR\s/i', $cond, $joints, PREG_OFFSET_CAPTURE))
		{
			$conditions = [];
			$joints     = $joints[0];
			array_unshift($joints, ['', 0]);

			for ($i = count($joints) - 1, $pos = strlen($cond); $i >= 0; $i --)
			{
				$joints[$i][1] += strlen($joints[$i][0]); // offset
				$conditions[$i] = substr($cond, $joints[$i][1], $pos - $joints[$i][1]);
				$pos            = $joints[$i][1] - strlen($joints[$i][0]);
				$joints[$i]     = $joints[$i][0];
			}
			ksort($conditions);
		}
		else
		{
			$conditions = [$cond];
			$joints     = [''];
		}

		$cond = ' ON ';
		foreach ($conditions as $i => $condition)
		{
			$operator = $this->getOperator($condition);
			$cond    .= $joints[$i];
			$cond    .= preg_match("/(\(*)?([\[\]\w\.'-]+)" . preg_quote($operator) . '(.*)/i', $condition, $match) ? $match[1] . $this->db->protectIdentifiers($match[2]) . $operator . $this->db->protectIdentifiers($match[3]) : $condition;
		}
	}

	// Do we want to escape the table name?
	if ($escape === true)
	{
		$table = $this->db->protectIdentifiers($table, true, null, false);
	}

	// Assemble the JOIN statement
	$this->QBJoin[] = $join = $type . 'JOIN ' . $table . $cond;

	return $this;
}
```

</details>


<hr>

#### where()

```php
public function where($key, $value = null, bool $escape = null)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
WHERE
</td></tr>
</table>

<table>
<tr><td>
Generates the WHERE portion of the query.
Separates multiple calls with 'AND'.
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$key</code></td>
<td><em>mixed
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$value</code></td>
<td><em>mixed
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>3.</td>
<td><code>$escape</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\BaseBuilder
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (723 - 726)</small></summary>

```php
public function where($key, $value = null, bool $escape = null)
{
	return $this->whereHaving('QBWhere', $key, $value, 'AND ', $escape);
}
```

</details>


<hr>

#### orWhere()

```php
public function orWhere($key, $value = null, bool $escape = null)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
OR WHERE
</td></tr>
</table>

<table>
<tr><td>
Generates the WHERE portion of the query.
Separates multiple calls with 'OR'.
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$key</code></td>
<td><em>mixed
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$value</code></td>
<td><em>mixed
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>3.</td>
<td><code>$escape</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\BaseBuilder
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (742 - 745)</small></summary>

```php
public function orWhere($key, $value = null, bool $escape = null)
{
	return $this->whereHaving('QBWhere', $key, $value, 'OR ', $escape);
}
```

</details>


<hr>

#### whereHaving()

```php
protected function whereHaving(string $qb_key, $key, $value = null, string $type = 'AND ', bool $escape = null)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
WHERE, HAVING
</td></tr>
</table>


</details>



<table style="text-align:left">
<tr style="vertical-align:top;">
<th>used-by</th>
<td>where()
</td>
</tr>
<tr style="vertical-align:top;">
<th>used-by</th>
<td>orWhere()
</td>
</tr>
<tr style="vertical-align:top;">
<th>used-by</th>
<td>having()
</td>
</tr>
<tr style="vertical-align:top;">
<th>used-by</th>
<td>orHaving()
</td>
</tr>
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$qb_key</code></td>
<td><em>string
</em></td>
<td>false</td>
<td>'QBWhere' or 'QBHaving'</td>
</tr>

<tr>
<td>2.</td>
<td><code>$key</code></td>
<td><em>mixed
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>3.</td>
<td><code>$value</code></td>
<td><em>mixed
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>4.</td>
<td><code>$type</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>5.</td>
<td><code>$escape</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\BaseBuilder
</td>
</tr>
</table>





<details>
<summary><small>Source: 71 lines (765 - 835)</small></summary>

```php
protected function whereHaving(string $qb_key, $key, $value = null, string $type = 'AND ', bool $escape = null)
{
	if (! is_array($key))
	{
		$key = [$key => $value];
	}

	// If the escape value was not set will base it on the global setting
	is_bool($escape) || $escape = $this->db->protectIdentifiers;

	foreach ($key as $k => $v)
	{
		$prefix = empty($this->$qb_key) ? $this->groupGetType('') : $this->groupGetType($type);

		if ($v !== null)
		{
			$op = $this->getOperator($k, true);

			if (! empty($op))
			{
				$k = trim($k);

				end($op);

				$op = trim(current($op));

				if (substr($k, -1 * strlen($op)) === $op)
				{
					$k = rtrim(strrev(preg_replace(strrev('/' . $op . '/'), strrev(''), strrev($k), 1)));
				}
			}

			$bind = $this->setBind($k, $v, $escape);

			if (empty($op))
			{
				$k .= ' =';
			}
			else
			{
				$k .= " $op";
			}

			if ($v instanceof Closure)
			{
				$builder = $this->cleanClone();
				$v       = '(' . str_replace("\n", ' ', $v($builder)->getCompiledSelect()) . ')';
			}
			else
			{
				$v = " :$bind:";
			}
		}
		elseif (! $this->hasOperator($k) && $qb_key !== 'QBHaving')
		{
			// value appears not to have been set, assign the test to IS NULL
			$k .= ' IS NULL';
		}
		elseif (preg_match('/\s*(!?=|<>|IS(?:\s+NOT)?)\s*$/i', $k, $match, PREG_OFFSET_CAPTURE))
		{
			$k = substr($k, 0, $match[0][1]) . ($match[1][0] === '=' ? ' IS NULL' : ' IS NOT NULL');
		}

		$this->{$qb_key}[] = [
			'condition' => $prefix . $k . $v,
			'escape'    => $escape,
		];
	}

	return $this;
}
```

</details>


<hr>

#### whereIn()

```php
public function whereIn(string $key = null, $values = null, bool $escape = null)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
WHERE IN
</td></tr>
</table>

<table>
<tr><td>
Generates a WHERE field IN('item', 'item') SQL query,
joined with 'AND' if appropriate.
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$key</code></td>
<td><em>string
</em></td>
<td>false</td>
<td>The field to search</td>
</tr>

<tr>
<td>2.</td>
<td><code>$values</code></td>
<td><em>array<br>string<br>\Closure
</em></td>
<td>false</td>
<td>The values searched on, or anonymous function with subquery</td>
</tr>

<tr>
<td>3.</td>
<td><code>$escape</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\BaseBuilder
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (851 - 854)</small></summary>

```php
public function whereIn(string $key = null, $values = null, bool $escape = null)
{
	return $this->_whereIn($key, $values, false, 'AND ', $escape);
}
```

</details>


<hr>

#### orWhereIn()

```php
public function orWhereIn(string $key = null, $values = null, bool $escape = null)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
OR WHERE IN
</td></tr>
</table>

<table>
<tr><td>
Generates a WHERE field IN('item', 'item') SQL query,
joined with 'OR' if appropriate.
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$key</code></td>
<td><em>string
</em></td>
<td>false</td>
<td>The field to search</td>
</tr>

<tr>
<td>2.</td>
<td><code>$values</code></td>
<td><em>array<br>string<br>\Closure
</em></td>
<td>false</td>
<td>The values searched on, or anonymous function with subquery</td>
</tr>

<tr>
<td>3.</td>
<td><code>$escape</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\BaseBuilder
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (870 - 873)</small></summary>

```php
public function orWhereIn(string $key = null, $values = null, bool $escape = null)
{
	return $this->_whereIn($key, $values, false, 'OR ', $escape);
}
```

</details>


<hr>

#### whereNotIn()

```php
public function whereNotIn(string $key = null, $values = null, bool $escape = null)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
WHERE NOT IN
</td></tr>
</table>

<table>
<tr><td>
Generates a WHERE field NOT IN('item', 'item') SQL query,
joined with 'AND' if appropriate.
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$key</code></td>
<td><em>string
</em></td>
<td>false</td>
<td>The field to search</td>
</tr>

<tr>
<td>2.</td>
<td><code>$values</code></td>
<td><em>array<br>string<br>\Closure
</em></td>
<td>false</td>
<td>The values searched on, or anonymous function with subquery</td>
</tr>

<tr>
<td>3.</td>
<td><code>$escape</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\BaseBuilder
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (889 - 892)</small></summary>

```php
public function whereNotIn(string $key = null, $values = null, bool $escape = null)
{
	return $this->_whereIn($key, $values, true, 'AND ', $escape);
}
```

</details>


<hr>

#### orWhereNotIn()

```php
public function orWhereNotIn(string $key = null, $values = null, bool $escape = null)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
OR WHERE NOT IN
</td></tr>
</table>

<table>
<tr><td>
Generates a WHERE field NOT IN('item', 'item') SQL query,
joined with 'OR' if appropriate.
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$key</code></td>
<td><em>string
</em></td>
<td>false</td>
<td>The field to search</td>
</tr>

<tr>
<td>2.</td>
<td><code>$values</code></td>
<td><em>array<br>string<br>\Closure
</em></td>
<td>false</td>
<td>The values searched on, or anonymous function with subquery</td>
</tr>

<tr>
<td>3.</td>
<td><code>$escape</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\BaseBuilder
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (908 - 911)</small></summary>

```php
public function orWhereNotIn(string $key = null, $values = null, bool $escape = null)
{
	return $this->_whereIn($key, $values, true, 'OR ', $escape);
}
```

</details>


<hr>

#### havingIn()

```php
public function havingIn(string $key = null, $values = null, bool $escape = null)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
HAVING IN
</td></tr>
</table>

<table>
<tr><td>
Generates a HAVING field IN('item', 'item') SQL query,
joined with 'AND' if appropriate.
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$key</code></td>
<td><em>string
</em></td>
<td>false</td>
<td>The field to search</td>
</tr>

<tr>
<td>2.</td>
<td><code>$values</code></td>
<td><em>array<br>string<br>\Closure
</em></td>
<td>false</td>
<td>The values searched on, or anonymous function with subquery</td>
</tr>

<tr>
<td>3.</td>
<td><code>$escape</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\BaseBuilder
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (927 - 930)</small></summary>

```php
public function havingIn(string $key = null, $values = null, bool $escape = null)
{
	return $this->_whereIn($key, $values, false, 'AND ', $escape, 'QBHaving');
}
```

</details>


<hr>

#### orHavingIn()

```php
public function orHavingIn(string $key = null, $values = null, bool $escape = null)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
OR HAVING IN
</td></tr>
</table>

<table>
<tr><td>
Generates a HAVING field IN('item', 'item') SQL query,
joined with 'OR' if appropriate.
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$key</code></td>
<td><em>string
</em></td>
<td>false</td>
<td>The field to search</td>
</tr>

<tr>
<td>2.</td>
<td><code>$values</code></td>
<td><em>array<br>string<br>\Closure
</em></td>
<td>false</td>
<td>The values searched on, or anonymous function with subquery</td>
</tr>

<tr>
<td>3.</td>
<td><code>$escape</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\BaseBuilder
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (946 - 949)</small></summary>

```php
public function orHavingIn(string $key = null, $values = null, bool $escape = null)
{
	return $this->_whereIn($key, $values, false, 'OR ', $escape, 'QBHaving');
}
```

</details>


<hr>

#### havingNotIn()

```php
public function havingNotIn(string $key = null, $values = null, bool $escape = null)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
HAVING NOT IN
</td></tr>
</table>

<table>
<tr><td>
Generates a HAVING field NOT IN('item', 'item') SQL query,
joined with 'AND' if appropriate.
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$key</code></td>
<td><em>string
</em></td>
<td>false</td>
<td>The field to search</td>
</tr>

<tr>
<td>2.</td>
<td><code>$values</code></td>
<td><em>array<br>string<br>\Closure
</em></td>
<td>false</td>
<td>The values searched on, or anonymous function with subquery</td>
</tr>

<tr>
<td>3.</td>
<td><code>$escape</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\BaseBuilder
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (965 - 968)</small></summary>

```php
public function havingNotIn(string $key = null, $values = null, bool $escape = null)
{
	return $this->_whereIn($key, $values, true, 'AND ', $escape, 'QBHaving');
}
```

</details>


<hr>

#### orHavingNotIn()

```php
public function orHavingNotIn(string $key = null, $values = null, bool $escape = null)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
OR HAVING NOT IN
</td></tr>
</table>

<table>
<tr><td>
Generates a HAVING field NOT IN('item', 'item') SQL query,
joined with 'OR' if appropriate.
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$key</code></td>
<td><em>string
</em></td>
<td>false</td>
<td>The field to search</td>
</tr>

<tr>
<td>2.</td>
<td><code>$values</code></td>
<td><em>array<br>string<br>\Closure
</em></td>
<td>false</td>
<td>The values searched on, or anonymous function with subquery</td>
</tr>

<tr>
<td>3.</td>
<td><code>$escape</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\BaseBuilder
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (984 - 987)</small></summary>

```php
public function orHavingNotIn(string $key = null, $values = null, bool $escape = null)
{
	return $this->_whereIn($key, $values, true, 'OR ', $escape, 'QBHaving');
}
```

</details>


<hr>

#### _whereIn()

```php
protected function _whereIn(string $key = null, $values = null, bool $not = false, string $type = 'AND ', bool $escape = null, string $clause = 'QBWhere')
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Internal WHERE IN
</td></tr>
</table>


</details>



<table style="text-align:left">
<tr style="vertical-align:top;">
<th>used-by</th>
<td>WhereIn()
</td>
</tr>
<tr style="vertical-align:top;">
<th>used-by</th>
<td>orWhereIn()
</td>
</tr>
<tr style="vertical-align:top;">
<th>used-by</th>
<td>whereNotIn()
</td>
</tr>
<tr style="vertical-align:top;">
<th>used-by</th>
<td>orWhereNotIn()
</td>
</tr>
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$key</code></td>
<td><em>string
</em></td>
<td>false</td>
<td>The field to search</td>
</tr>

<tr>
<td>2.</td>
<td><code>$values</code></td>
<td><em>array<br>\Closure
</em></td>
<td>false</td>
<td>The values searched on, or anonymous function with subquery</td>
</tr>

<tr>
<td>3.</td>
<td><code>$not</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td>If the statement would be IN or NOT IN</td>
</tr>

<tr>
<td>4.</td>
<td><code>$type</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>5.</td>
<td><code>$escape</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>6.</td>
<td><code>$clause</code></td>
<td><em>string
</em></td>
<td>false</td>
<td>(Internal use only)</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\BaseBuilder
</td>
</tr>
</table>


<table>
<tr>
<th style="vertical-align:top;">throw</th>
<td>\InvalidArgumentException
</td>
</tr>
</table>



<details>
<summary><small>Source: 57 lines (1009 - 1065)</small></summary>

```php
protected function _whereIn(string $key = null, $values = null, bool $not = false, string $type = 'AND ', bool $escape = null, string $clause = 'QBWhere')
{
	if (empty($key) || ! is_string($key))
	{
		if (CI_DEBUG)
		{
			throw new \InvalidArgumentException(sprintf('%s() expects $key to be a non-empty string', debug_backtrace(0, 2)[1]['function']));
		}
		// @codeCoverageIgnoreStart
		return $this;
		// @codeCoverageIgnoreEnd
	}

	if ($values === null || (! is_array($values) && ! ($values instanceof Closure)))
	{
		if (CI_DEBUG)
		{
			throw new \InvalidArgumentException(sprintf('%s() expects $values to be of type array or closure', debug_backtrace(0, 2)[1]['function']));
		}
		// @codeCoverageIgnoreStart
		return $this;
		// @codeCoverageIgnoreEnd
	}

	is_bool($escape) || $escape = $this->db->protectIdentifiers;

	$ok = $key;

	if ($escape === true)
	{
		$key = $this->db->protectIdentifiers($key);
	}

	$not = ($not) ? ' NOT' : '';

	if ($values instanceof Closure)
	{
		$builder = $this->cleanClone();
		$ok      = str_replace("\n", ' ', $values($builder)->getCompiledSelect());
	}
	else
	{
		$whereIn = is_array($values) ? array_values($values) : $values;
		$ok      = $this->setBind($ok, $whereIn, $escape);
	}

	$prefix = empty($this->$clause) ? $this->groupGetType('') : $this->groupGetType($type);

	$whereIn = [
		'condition' => $prefix . $key . $not . ($values instanceof Closure ? " IN ($ok)" : " IN :{$ok}:"),
		'escape'    => false,
	];

	$this->{$clause}[] = $whereIn;

	return $this;
}
```

</details>


<hr>

#### like()

```php
public function like($field, string $match = '', string $side = 'both', bool $escape = null, bool $insensitiveSearch = false)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
LIKE
</td></tr>
</table>

<table>
<tr><td>
Generates a %%LIKE%% portion of the query.
Separates multiple calls with 'AND'.
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$field</code></td>
<td><em>mixed
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$match</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>3.</td>
<td><code>$side</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>4.</td>
<td><code>$escape</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>5.</td>
<td><code>$insensitiveSearch</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td>IF true, will force a case-insensitive search</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\BaseBuilder
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (1083 - 1086)</small></summary>

```php
public function like($field, string $match = '', string $side = 'both', bool $escape = null, bool $insensitiveSearch = false)
{
	return $this->_like($field, $match, 'AND ', $side, '', $escape, $insensitiveSearch);
}
```

</details>


<hr>

#### notLike()

```php
public function notLike($field, string $match = '', string $side = 'both', bool $escape = null, bool $insensitiveSearch = false)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
NOT LIKE
</td></tr>
</table>

<table>
<tr><td>
Generates a NOT LIKE portion of the query.
Separates multiple calls with 'AND'.
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$field</code></td>
<td><em>mixed
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$match</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>3.</td>
<td><code>$side</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>4.</td>
<td><code>$escape</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>5.</td>
<td><code>$insensitiveSearch</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td>IF true, will force a case-insensitive search</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\BaseBuilder
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (1104 - 1107)</small></summary>

```php
public function notLike($field, string $match = '', string $side = 'both', bool $escape = null, bool $insensitiveSearch = false)
{
	return $this->_like($field, $match, 'AND ', $side, 'NOT', $escape, $insensitiveSearch);
}
```

</details>


<hr>

#### orLike()

```php
public function orLike($field, string $match = '', string $side = 'both', bool $escape = null, bool $insensitiveSearch = false)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
OR LIKE
</td></tr>
</table>

<table>
<tr><td>
Generates a %%LIKE%% portion of the query.
Separates multiple calls with 'OR'.
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$field</code></td>
<td><em>mixed
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$match</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>3.</td>
<td><code>$side</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>4.</td>
<td><code>$escape</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>5.</td>
<td><code>$insensitiveSearch</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td>IF true, will force a case-insensitive search</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\BaseBuilder
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (1125 - 1128)</small></summary>

```php
public function orLike($field, string $match = '', string $side = 'both', bool $escape = null, bool $insensitiveSearch = false)
{
	return $this->_like($field, $match, 'OR ', $side, '', $escape, $insensitiveSearch);
}
```

</details>


<hr>

#### orNotLike()

```php
public function orNotLike($field, string $match = '', string $side = 'both', bool $escape = null, bool $insensitiveSearch = false)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
OR NOT LIKE
</td></tr>
</table>

<table>
<tr><td>
Generates a NOT LIKE portion of the query.
Separates multiple calls with 'OR'.
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$field</code></td>
<td><em>mixed
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$match</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>3.</td>
<td><code>$side</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>4.</td>
<td><code>$escape</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>5.</td>
<td><code>$insensitiveSearch</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td>IF true, will force a case-insensitive search</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\BaseBuilder
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (1146 - 1149)</small></summary>

```php
public function orNotLike($field, string $match = '', string $side = 'both', bool $escape = null, bool $insensitiveSearch = false)
{
	return $this->_like($field, $match, 'OR ', $side, 'NOT', $escape, $insensitiveSearch);
}
```

</details>


<hr>

#### havingLike()

```php
public function havingLike($field, string $match = '', string $side = 'both', bool $escape = null, bool $insensitiveSearch = false)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
LIKE with HAVING clause
</td></tr>
</table>

<table>
<tr><td>
Generates a %%LIKE%% portion of the query.
Separates multiple calls with 'AND'.
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$field</code></td>
<td><em>mixed
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$match</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>3.</td>
<td><code>$side</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>4.</td>
<td><code>$escape</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\BaseBuilder
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (1166 - 1169)</small></summary>

```php
public function havingLike($field, string $match = '', string $side = 'both', bool $escape = null, bool $insensitiveSearch = false)
{
	return $this->_like($field, $match, 'AND ', $side, '', $escape, $insensitiveSearch, 'QBHaving');
}
```

</details>


<hr>

#### notHavingLike()

```php
public function notHavingLike($field, string $match = '', string $side = 'both', bool $escape = null, bool $insensitiveSearch = false)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
NOT LIKE with HAVING clause
</td></tr>
</table>

<table>
<tr><td>
Generates a NOT LIKE portion of the query.
Separates multiple calls with 'AND'.
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$field</code></td>
<td><em>mixed
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$match</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>3.</td>
<td><code>$side</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>4.</td>
<td><code>$escape</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\BaseBuilder
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (1186 - 1189)</small></summary>

```php
public function notHavingLike($field, string $match = '', string $side = 'both', bool $escape = null, bool $insensitiveSearch = false)
{
	return $this->_like($field, $match, 'AND ', $side, 'NOT', $escape, $insensitiveSearch, 'QBHaving');
}
```

</details>


<hr>

#### orHavingLike()

```php
public function orHavingLike($field, string $match = '', string $side = 'both', bool $escape = null, bool $insensitiveSearch = false)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
OR LIKE with HAVING clause
</td></tr>
</table>

<table>
<tr><td>
Generates a %%LIKE%% portion of the query.
Separates multiple calls with 'OR'.
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$field</code></td>
<td><em>mixed
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$match</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>3.</td>
<td><code>$side</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>4.</td>
<td><code>$escape</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\BaseBuilder
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (1206 - 1209)</small></summary>

```php
public function orHavingLike($field, string $match = '', string $side = 'both', bool $escape = null, bool $insensitiveSearch = false)
{
	return $this->_like($field, $match, 'OR ', $side, '', $escape, $insensitiveSearch, 'QBHaving');
}
```

</details>


<hr>

#### orNotHavingLike()

```php
public function orNotHavingLike($field, string $match = '', string $side = 'both', bool $escape = null, bool $insensitiveSearch = false)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
OR NOT LIKE with HAVING clause
</td></tr>
</table>

<table>
<tr><td>
Generates a NOT LIKE portion of the query.
Separates multiple calls with 'OR'.
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$field</code></td>
<td><em>mixed
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$match</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>3.</td>
<td><code>$side</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>4.</td>
<td><code>$escape</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\BaseBuilder
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (1226 - 1229)</small></summary>

```php
public function orNotHavingLike($field, string $match = '', string $side = 'both', bool $escape = null, bool $insensitiveSearch = false)
{
	return $this->_like($field, $match, 'OR ', $side, 'NOT', $escape, $insensitiveSearch, 'QBHaving');
}
```

</details>


<hr>

#### _like()

```php
protected function _like($field, string $match = '', string $type = 'AND ', string $side = 'both', string $not = '', bool $escape = null, bool $insensitiveSearch = false, string $clause = 'QBWhere')
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Internal LIKE
</td></tr>
</table>


</details>



<table style="text-align:left">
<tr style="vertical-align:top;">
<th>used-by</th>
<td>like()
</td>
</tr>
<tr style="vertical-align:top;">
<th>used-by</th>
<td>orLike()
</td>
</tr>
<tr style="vertical-align:top;">
<th>used-by</th>
<td>notLike()
</td>
</tr>
<tr style="vertical-align:top;">
<th>used-by</th>
<td>orNotLike()
</td>
</tr>
<tr style="vertical-align:top;">
<th>used-by</th>
<td>havingLike()
</td>
</tr>
<tr style="vertical-align:top;">
<th>used-by</th>
<td>orHavingLike()
</td>
</tr>
<tr style="vertical-align:top;">
<th>used-by</th>
<td>notHavingLike()
</td>
</tr>
<tr style="vertical-align:top;">
<th>used-by</th>
<td>orNotHavingLike()
</td>
</tr>
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$field</code></td>
<td><em>mixed
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$match</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>3.</td>
<td><code>$type</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>4.</td>
<td><code>$side</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>5.</td>
<td><code>$not</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>6.</td>
<td><code>$escape</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>7.</td>
<td><code>$insensitiveSearch</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td>IF true, will force a case-insensitive search</td>
</tr>

<tr>
<td>8.</td>
<td><code>$clause</code></td>
<td><em>string
</em></td>
<td>false</td>
<td>(Internal use only)</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\BaseBuilder
</td>
</tr>
</table>





<details>
<summary><small>Source: 54 lines (1256 - 1309)</small></summary>

```php
protected function _like($field, string $match = '', string $type = 'AND ', string $side = 'both', string $not = '', bool $escape = null, bool $insensitiveSearch = false, string $clause = 'QBWhere')
{
	if (! is_array($field))
	{
		$field = [$field => $match];
	}

	$escape = is_bool($escape) ? $escape : $this->db->protectIdentifiers;

	// lowercase $side in case somebody writes e.g. 'BEFORE' instead of 'before' (doh)
	$side = strtolower($side);

	foreach ($field as $k => $v)
	{
		if ($insensitiveSearch === true)
		{
			$v = strtolower($v);
		}

		$prefix = empty($this->$clause) ? $this->groupGetType('') : $this->groupGetType($type);

		if ($side === 'none')
		{
			$bind = $this->setBind($k, $v, $escape);
		}
		elseif ($side === 'before')
		{
			$bind = $this->setBind($k, "%$v", $escape);
		}
		elseif ($side === 'after')
		{
			$bind = $this->setBind($k, "$v%", $escape);
		}
		else
		{
			$bind = $this->setBind($k, "%$v%", $escape);
		}

		$like_statement = $this->_like_statement($prefix, $k, $not, $bind, $insensitiveSearch);

		// some platforms require an escape sequence definition for LIKE wildcards
		if ($escape === true && $this->db->likeEscapeStr !== '')
		{
			$like_statement .= sprintf($this->db->likeEscapeStr, $this->db->likeEscapeChar);
		}

		$this->{$clause}[] = [
			'condition' => $like_statement,
			'escape'    => $escape,
		];
	}

	return $this;
}
```

</details>


<hr>

#### _like_statement()

```php
protected function _like_statement(string $prefix = null, string $column, string $not = null, string $bind, bool $insensitiveSearch = false) : string
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Platform independent LIKE statement builder.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$prefix</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$column</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>3.</td>
<td><code>$not</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>4.</td>
<td><code>$bind</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>5.</td>
<td><code>$insensitiveSearch</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>string
</td>
</tr>
</table>





<details>
<summary><small>Source: 11 lines (1324 - 1334)</small></summary>

```php
protected function _like_statement(string $prefix = null, string $column, string $not = null, string $bind, bool $insensitiveSearch = false): string
{
	$like_statement = "{$prefix} {$column} {$not} LIKE :{$bind}:";

	if ($insensitiveSearch === true)
	{
		$like_statement = "{$prefix} LOWER({$column}) {$not} LIKE :{$bind}:";
	}

	return $like_statement;
}
```

</details>


<hr>

#### groupStart()

```php
public function groupStart()
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Starts a query group.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>





<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\BaseBuilder
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (1343 - 1346)</small></summary>

```php
public function groupStart()
{
	return $this->groupStartPrepare();
}
```

</details>


<hr>

#### orGroupStart()

```php
public function orGroupStart()
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Starts a query group, but ORs the group
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>





<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\BaseBuilder
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (1355 - 1358)</small></summary>

```php
public function orGroupStart()
{
	return $this->groupStartPrepare('', 'OR ');
}
```

</details>


<hr>

#### notGroupStart()

```php
public function notGroupStart()
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Starts a query group, but NOTs the group
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>





<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\BaseBuilder
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (1367 - 1370)</small></summary>

```php
public function notGroupStart()
{
	return $this->groupStartPrepare('NOT ');
}
```

</details>


<hr>

#### orNotGroupStart()

```php
public function orNotGroupStart()
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Starts a query group, but OR NOTs the group
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>





<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\BaseBuilder
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (1379 - 1382)</small></summary>

```php
public function orNotGroupStart()
{
	return $this->groupStartPrepare('NOT ', 'OR ');
}
```

</details>


<hr>

#### groupEnd()

```php
public function groupEnd()
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Ends a query group
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>





<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\BaseBuilder
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (1391 - 1394)</small></summary>

```php
public function groupEnd()
{
	return $this->groupEndPrepare();
}
```

</details>


<hr>

#### havingGroupStart()

```php
public function havingGroupStart()
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Starts a query group for HAVING clause.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>





<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\BaseBuilder
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (1403 - 1406)</small></summary>

```php
public function havingGroupStart()
{
	return $this->groupStartPrepare('', 'AND ', 'QBHaving');
}
```

</details>


<hr>

#### orHavingGroupStart()

```php
public function orHavingGroupStart()
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Starts a query group for HAVING clause, but ORs the group.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>





<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\BaseBuilder
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (1415 - 1418)</small></summary>

```php
public function orHavingGroupStart()
{
	return $this->groupStartPrepare('', 'OR ', 'QBHaving');
}
```

</details>


<hr>

#### notHavingGroupStart()

```php
public function notHavingGroupStart()
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Starts a query group for HAVING clause, but NOTs the group.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>





<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\BaseBuilder
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (1427 - 1430)</small></summary>

```php
public function notHavingGroupStart()
{
	return $this->groupStartPrepare('NOT ', 'AND ', 'QBHaving');
}
```

</details>


<hr>

#### orNotHavingGroupStart()

```php
public function orNotHavingGroupStart()
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Starts a query group for HAVING clause, but OR NOTs the group.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>





<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\BaseBuilder
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (1439 - 1442)</small></summary>

```php
public function orNotHavingGroupStart()
{
	return $this->groupStartPrepare('NOT ', 'OR ', 'QBHaving');
}
```

</details>


<hr>

#### havingGroupEnd()

```php
public function havingGroupEnd()
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Ends a query group for HAVING clause.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>





<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\BaseBuilder
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (1451 - 1454)</small></summary>

```php
public function havingGroupEnd()
{
	return $this->groupEndPrepare('QBHaving');
}
```

</details>


<hr>

#### groupStartPrepare()

```php
protected function groupStartPrepare(string $not = '', string $type = 'AND ', string $clause = 'QBWhere')
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Prepate a query group start.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$not</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$type</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>3.</td>
<td><code>$clause</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\BaseBuilder
</td>
</tr>
</table>





<details>
<summary><small>Source: 15 lines (1467 - 1481)</small></summary>

```php
protected function groupStartPrepare(string $not = '', string $type = 'AND ', string $clause = 'QBWhere')
{
	$type = $this->groupGetType($type);

	$this->QBWhereGroupStarted = true;
	$prefix                    = empty($this->$clause) ? '' : $type;
	$where                     = [
		'condition' => $prefix . $not . str_repeat(' ', ++ $this->QBWhereGroupCount) . ' (',
		'escape'    => false,
	];

	$this->{$clause}[] = $where;

	return $this;
}
```

</details>


<hr>

#### groupEndPrepare()

```php
protected function groupEndPrepare(string $clause = 'QBWhere')
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Prepate a query group end.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$clause</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\BaseBuilder
</td>
</tr>
</table>





<details>
<summary><small>Source: 12 lines (1492 - 1503)</small></summary>

```php
protected function groupEndPrepare(string $clause = 'QBWhere')
{
	$this->QBWhereGroupStarted = false;
	$where                     = [
		'condition' => str_repeat(' ', $this->QBWhereGroupCount -- ) . ')',
		'escape'    => false,
	];

	$this->{$clause}[] = $where;

	return $this;
}
```

</details>


<hr>

#### groupGetType()

```php
protected function groupGetType(string $type) : string
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Group_get_type
</td></tr>
</table>


</details>



<table style="text-align:left">
<tr style="vertical-align:top;">
<th>used-by</th>
<td>groupStart()
</td>
</tr>
<tr style="vertical-align:top;">
<th>used-by</th>
<td>_like()
</td>
</tr>
<tr style="vertical-align:top;">
<th>used-by</th>
<td>whereHaving()
</td>
</tr>
<tr style="vertical-align:top;">
<th>used-by</th>
<td>_whereIn()
</td>
</tr>
<tr style="vertical-align:top;">
<th>used-by</th>
<td>havingGroupStart()
</td>
</tr>
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$type</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>string
</td>
</tr>
</table>





<details>
<summary><small>Source: 10 lines (1520 - 1529)</small></summary>

```php
protected function groupGetType(string $type): string
{
	if ($this->QBWhereGroupStarted)
	{
		$type                      = '';
		$this->QBWhereGroupStarted = false;
	}

	return $type;
}
```

</details>


<hr>

#### groupBy()

```php
public function groupBy($by, bool $escape = null)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
GROUP BY
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$by</code></td>
<td><em>string<br>array
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$escape</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\BaseBuilder
</td>
</tr>
</table>





<details>
<summary><small>Source: 26 lines (1541 - 1566)</small></summary>

```php
public function groupBy($by, bool $escape = null)
{
	is_bool($escape) || $escape = $this->db->protectIdentifiers;

	if (is_string($by))
	{
		$by = ($escape === true) ? explode(',', $by) : [$by];
	}

	foreach ($by as $val)
	{
		$val = trim($val);

		if ($val !== '')
		{
			$val = [
				'field'  => $val,
				'escape' => $escape,
			];

			$this->QBGroupBy[] = $val;
		}
	}

	return $this;
}
```

</details>


<hr>

#### having()

```php
public function having($key, $value = null, bool $escape = null)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
HAVING
</td></tr>
</table>

<table>
<tr><td>
Separates multiple calls with 'AND'.
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$key</code></td>
<td><em>string<br>array
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$value</code></td>
<td><em>mixed
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>3.</td>
<td><code>$escape</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\BaseBuilder
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (1581 - 1584)</small></summary>

```php
public function having($key, $value = null, bool $escape = null)
{
	return $this->whereHaving('QBHaving', $key, $value, 'AND ', $escape);
}
```

</details>


<hr>

#### orHaving()

```php
public function orHaving($key, $value = null, bool $escape = null)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
OR HAVING
</td></tr>
</table>

<table>
<tr><td>
Separates multiple calls with 'OR'.
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$key</code></td>
<td><em>string<br>array
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$value</code></td>
<td><em>mixed
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>3.</td>
<td><code>$escape</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\BaseBuilder
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (1599 - 1602)</small></summary>

```php
public function orHaving($key, $value = null, bool $escape = null)
{
	return $this->whereHaving('QBHaving', $key, $value, 'OR ', $escape);
}
```

</details>


<hr>

#### orderBy()

```php
public function orderBy(string $orderBy, string $direction = '', bool $escape = null)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
ORDER BY
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$orderBy</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$direction</code></td>
<td><em>string
</em></td>
<td>false</td>
<td>ASC, DESC or RANDOM</td>
</tr>

<tr>
<td>3.</td>
<td><code>$escape</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\BaseBuilder
</td>
</tr>
</table>





<details>
<summary><small>Source: 55 lines (1615 - 1669)</small></summary>

```php
public function orderBy(string $orderBy, string $direction = '', bool $escape = null)
{
	$direction = strtoupper(trim($direction));

	if ($direction === 'RANDOM')
	{
		$direction = '';

		// Do we have a seed value?
		$orderBy = ctype_digit((string) $orderBy) ? sprintf($this->randomKeyword[1], $orderBy) : $this->randomKeyword[0];
	}
	elseif (empty($orderBy))
	{
		return $this;
	}
	elseif ($direction !== '')
	{
		$direction = in_array($direction, ['ASC', 'DESC'], true) ? ' ' . $direction : '';
	}

	is_bool($escape) || $escape = $this->db->protectIdentifiers;

	if ($escape === false)
	{
		$qb_orderBy[] = [
			'field'     => $orderBy,
			'direction' => $direction,
			'escape'    => false,
		];
	}
	else
	{
		$qb_orderBy = [];
		foreach (explode(',', $orderBy) as $field)
		{
			$qb_orderBy[] = ($direction === '' && preg_match('/\s+(ASC|DESC)$/i', rtrim($field), $match, PREG_OFFSET_CAPTURE))
				?
				[
					'field'     => ltrim(substr($field, 0, $match[0][1])),
					'direction' => ' ' . $match[1][0],
					'escape'    => true,
				]
				:
				[
					'field'     => trim($field),
					'direction' => $direction,
					'escape'    => true,
				];
		}
	}

	$this->QBOrderBy = array_merge($this->QBOrderBy, $qb_orderBy);

	return $this;
}
```

</details>


<hr>

#### limit()

```php
public function limit(int $value = null, ?int $offset = 0)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
LIMIT
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$value</code></td>
<td><em>int
</em></td>
<td>false</td>
<td>LIMIT value</td>
</tr>

<tr>
<td>2.</td>
<td><code>$offset</code></td>
<td><em>int
</em></td>
<td>false</td>
<td>OFFSET value</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\BaseBuilder
</td>
</tr>
</table>





<details>
<summary><small>Source: 14 lines (1681 - 1694)</small></summary>

```php
public function limit(int $value = null, ?int $offset = 0)
{
	if (! is_null($value))
	{
		$this->QBLimit = $value;
	}

	if (! empty($offset))
	{
		$this->QBOffset = $offset;
	}

	return $this;
}
```

</details>


<hr>

#### offset()

```php
public function offset(int $offset)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Sets the OFFSET value
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$offset</code></td>
<td><em>int
</em></td>
<td>false</td>
<td>OFFSET value</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\BaseBuilder
</td>
</tr>
</table>





<details>
<summary><small>Source: 9 lines (1705 - 1713)</small></summary>

```php
public function offset(int $offset)
{
	if (! empty($offset))
	{
		$this->QBOffset = (int) $offset;
	}

	return $this;
}
```

</details>


<hr>

#### _limit()

```php
protected function _limit(string $sql, bool $offsetIgnore = false) : string
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
LIMIT string
</td></tr>
</table>

<table>
<tr><td>
Generates a platform-specific LIMIT clause.
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$sql</code></td>
<td><em>string
</em></td>
<td>false</td>
<td>SQL Query</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>string
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (1726 - 1729)</small></summary>

```php
protected function _limit(string $sql, bool $offsetIgnore = false): string
{
	return $sql . ' LIMIT ' . (false === $offsetIgnore && $this->QBOffset ? $this->QBOffset . ', ' : '') . $this->QBLimit;
}
```

</details>


<hr>

#### set()

```php
public function set($key, ?string $value = '', bool $escape = null)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
The "set" function.
</td></tr>
</table>

<table>
<tr><td>
Allows key/value pairs to be set for insert(), update() or replace().
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$key</code></td>
<td><em>string<br>array<br>object
</em></td>
<td>false</td>
<td>Field name, or an array of field/value pairs</td>
</tr>

<tr>
<td>2.</td>
<td><code>$value</code></td>
<td><em>string
</em></td>
<td>false</td>
<td>Field value, if $key is a single field</td>
</tr>

<tr>
<td>3.</td>
<td><code>$escape</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td>Whether to escape values and identifiers</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\BaseBuilder
</td>
</tr>
</table>





<details>
<summary><small>Source: 26 lines (1744 - 1769)</small></summary>

```php
public function set($key, ?string $value = '', bool $escape = null)
{
	$key = $this->objectToArray($key);

	if (! is_array($key))
	{
		$key = [$key => $value];
	}

	$escape = is_bool($escape) ? $escape : $this->db->protectIdentifiers;

	foreach ($key as $k => $v)
	{
		if ($escape)
		{
			$bind                                                           = $this->setBind($k, $v, $escape);
			$this->QBSet[$this->db->protectIdentifiers($k, false, $escape)] = ":$bind:";
		}
		else
		{
			$this->QBSet[$this->db->protectIdentifiers($k, false, $escape)] = $v;
		}
	}

	return $this;
}
```

</details>


<hr>

#### getSetData()

```php
public function getSetData(bool $clean = false) : array
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Returns the previously set() data, alternatively resetting it
if needed.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$clean</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>array
</td>
</tr>
</table>





<details>
<summary><small>Source: 11 lines (1781 - 1791)</small></summary>

```php
public function getSetData(bool $clean = false): array
{
	$data = $this->QBSet;

	if ($clean)
	{
		$this->QBSet = [];
	}

	return $data;
}
```

</details>


<hr>

#### getCompiledSelect()

```php
public function getCompiledSelect(bool $reset = true) : string
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Get SELECT query string
</td></tr>
</table>

<table>
<tr><td>
Compiles a SELECT query string and returns the sql.
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$reset</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td>TRUE: resets QB values; FALSE: leave QB values alone</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>string
</td>
</tr>
</table>





<details>
<summary><small>Source: 11 lines (1804 - 1814)</small></summary>

```php
public function getCompiledSelect(bool $reset = true): string
{
	$select = $this->compileSelect();

	if ($reset === true)
	{
		$this->resetSelect();
	}

	return $this->compileFinalQuery($select);
}
```

</details>


<hr>

#### compileFinalQuery()

```php
protected function compileFinalQuery(string $sql) : string
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Returns a finalized, compiled query string with the bindings
inserted and prefixes swapped out.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$sql</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>string
</td>
</tr>
</table>





<details>
<summary><small>Source: 12 lines (1826 - 1837)</small></summary>

```php
protected function compileFinalQuery(string $sql): string
{
	$query = new Query($this->db);
	$query->setQuery($sql, $this->binds, false);

	if (! empty($this->db->swapPre) && ! empty($this->db->DBPrefix))
	{
		$query->swapPrefix($this->db->DBPrefix, $this->db->swapPre);
	}

	return $query->getQuery();
}
```

</details>


<hr>

#### get()

```php
public function get(int $limit = null, int $offset = 0, bool $reset = true)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Get
</td></tr>
</table>

<table>
<tr><td>
Compiles the select statement based on the other functions called
and runs the query
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$limit</code></td>
<td><em>int
</em></td>
<td>false</td>
<td>The limit clause</td>
</tr>

<tr>
<td>2.</td>
<td><code>$offset</code></td>
<td><em>int
</em></td>
<td>false</td>
<td>The offset clause</td>
</tr>

<tr>
<td>3.</td>
<td><code>$reset</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td>Are we want to clear query builder values?</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\ResultInterface
</td>
</tr>
</table>





<details>
<summary><small>Source: 21 lines (1851 - 1871)</small></summary>

```php
public function get(int $limit = null, int $offset = 0, bool $reset = true)
{
	if (! is_null($limit))
	{
		$this->limit($limit, $offset);
	}

	$result = $this->testMode
		? $this->getCompiledSelect($reset)
		: $this->db->query($this->compileSelect(), $this->binds, false);

	if ($reset === true)
	{
		$this->resetSelect();

		// Clear our binds so we don't eat up memory
		$this->binds = [];
	}

	return $result;
}
```

</details>


<hr>

#### countAll()

```php
public function countAll(bool $reset = true)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
"Count All" query
</td></tr>
</table>

<table>
<tr><td>
Generates a platform-specific query string that counts all records in
the specified database
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$reset</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td>Are we want to clear query builder values?</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>int<br>string
</td>
</tr>
</table>





<details>
<summary><small>Source: 27 lines (1885 - 1911)</small></summary>

```php
public function countAll(bool $reset = true)
{
	$table = $this->QBFrom[0];

	$sql = $this->countString . $this->db->escapeIdentifiers('numrows') . ' FROM ' .
			$this->db->protectIdentifiers($table, true, null, false);

	if ($this->testMode)
	{
		return $sql;
	}

	$query = $this->db->query($sql, null, false);
	if (empty($query->getResult()))
	{
		return 0;
	}

	$query = $query->getRow();

	if ($reset === true)
	{
		$this->resetSelect();
	}

	return (int) $query->numrows;
}
```

</details>


<hr>

#### countAllResults()

```php
public function countAllResults(bool $reset = true)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
"Count All Results" query
</td></tr>
</table>

<table>
<tr><td>
Generates a platform-specific query string that counts all records
returned by an Query Builder query.
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$reset</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>int<br>string
</td>
</tr>
</table>





<details>
<summary><small>Source: 53 lines (1925 - 1977)</small></summary>

```php
public function countAllResults(bool $reset = true)
{
	// ORDER BY usage is often problematic here (most notably
	// on Microsoft SQL Server) and ultimately unnecessary
	// for selecting COUNT(*) ...
	$orderBy = [];
	if (! empty($this->QBOrderBy))
	{
		$orderBy         = $this->QBOrderBy;
		$this->QBOrderBy = null;
	}

	// We cannot use a LIMIT when getting the single row COUNT(*) result
	$limit         = $this->QBLimit;
	$this->QBLimit = false;

	$sql = ($this->QBDistinct === true || ! empty($this->QBGroupBy))
		?
		$this->countString . $this->db->protectIdentifiers('numrows') . "\nFROM (\n" . $this->compileSelect() . "\n) CI_count_all_results"
		:
		$this->compileSelect($this->countString . $this->db->protectIdentifiers('numrows'));

	if ($this->testMode)
	{
		return $sql;
	}

	$result = $this->db->query($sql, $this->binds, false);

	if ($reset === true)
	{
		$this->resetSelect();
	}
	// If we've previously reset the QBOrderBy values, get them back
	elseif (! isset($this->QBOrderBy))
	{
		$this->QBOrderBy = $orderBy ?? [];
	}

	// Restore the LIMIT setting
	$this->QBLimit = $limit;

	$row = (! $result instanceof ResultInterface)
		? null
		: $result->getRow();

	if (empty($row))
	{
		return 0;
	}

	return (int) $row->numrows;
}
```

</details>


<hr>

#### getCompiledQBWhere()

```php
public function getCompiledQBWhere()
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Get compiled 'where' condition string
</td></tr>
</table>

<table>
<tr><td>
Compiles the set conditions and returns the sql statement
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>





<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>string
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (1987 - 1990)</small></summary>

```php
public function getCompiledQBWhere()
{
	return $this->QBWhere;
}
```

</details>


<hr>

#### getWhere()

```php
public function getWhere($where = null, int $limit = null, ?int $offset = 0, bool $reset = true)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Get_Where
</td></tr>
</table>

<table>
<tr><td>
Allows the where clause, limit and offset to be added directly
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$where</code></td>
<td><em>string<br>array
</em></td>
<td>false</td>
<td>Where condition</td>
</tr>

<tr>
<td>2.</td>
<td><code>$limit</code></td>
<td><em>int
</em></td>
<td>false</td>
<td>Limit value</td>
</tr>

<tr>
<td>3.</td>
<td><code>$offset</code></td>
<td><em>int
</em></td>
<td>false</td>
<td>Offset value</td>
</tr>

<tr>
<td>4.</td>
<td><code>$reset</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td>Are we want to clear query builder values?</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\ResultInterface
</td>
</tr>
</table>





<details>
<summary><small>Source: 26 lines (2005 - 2030)</small></summary>

```php
public function getWhere($where = null, int $limit = null, ?int $offset = 0, bool $reset = true)
{
	if ($where !== null)
	{
		$this->where($where);
	}

	if (! empty($limit))
	{
		$this->limit($limit, $offset);
	}

	$result = $this->testMode
		? $this->getCompiledSelect($reset)
		: $this->db->query($this->compileSelect(), $this->binds, false);

	if ($reset === true)
	{
		$this->resetSelect();

		// Clear our binds so we don't eat up memory
		$this->binds = [];
	}

	return $result;
}
```

</details>


<hr>

#### insertBatch()

```php
public function insertBatch(array $set = null, bool $escape = null, int $batchSize = 100)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Insert_Batch
</td></tr>
</table>

<table>
<tr><td>
Compiles batch insert strings and runs the queries
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$set</code></td>
<td><em>array
</em></td>
<td>false</td>
<td>An associative array of insert values</td>
</tr>

<tr>
<td>2.</td>
<td><code>$escape</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td>Whether to escape values and identifiers</td>
</tr>

<tr>
<td>3.</td>
<td><code>$batchSize</code></td>
<td><em>int
</em></td>
<td>false</td>
<td>Batch size</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>int
</td>
</tr>
</table>


<table>
<tr>
<th style="vertical-align:top;">throw</th>
<td>\DatabaseException
</td>
</tr>
</table>



<details>
<summary><small>Source: 57 lines (2046 - 2102)</small></summary>

```php
public function insertBatch(array $set = null, bool $escape = null, int $batchSize = 100)
{
	if ($set === null)
	{
		if (empty($this->QBSet))
		{
			if (CI_DEBUG)
			{
				throw new DatabaseException('You must use the "set" method to update an entry.');
			}
			// @codeCoverageIgnoreStart
			return false;
			// @codeCoverageIgnoreEnd
		}
	}
	else
	{
		if (empty($set))
		{
			if (CI_DEBUG)
			{
				throw new DatabaseException('insertBatch() called with no data');
			}
			// @codeCoverageIgnoreStart
			return false;
			// @codeCoverageIgnoreEnd
		}

		$this->setInsertBatch($set, '', $escape);
	}

	$table = $this->QBFrom[0];

	// Batch this baby
	$affected_rows = 0;
	for ($i = 0, $total = count($this->QBSet); $i < $total; $i += $batchSize)
	{
		$sql = $this->_insertBatch($this->db->protectIdentifiers($table, true, $escape, false), $this->QBKeys, array_slice($this->QBSet, $i, $batchSize));

		if ($this->testMode)
		{
			++ $affected_rows;
		}
		else
		{
			$this->db->query($sql, $this->binds, false);
			$affected_rows += $this->db->affectedRows();
		}
	}

	if (! $this->testMode)
	{
		$this->resetWrite();
	}

	return $affected_rows;
}
```

</details>


<hr>

#### _insertBatch()

```php
protected function _insertBatch(string $table, array $keys, array $values) : string
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Insert batch statement
</td></tr>
</table>

<table>
<tr><td>
Generates a platform-specific insert string from the supplied data.
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$table</code></td>
<td><em>string
</em></td>
<td>false</td>
<td>Table name</td>
</tr>

<tr>
<td>2.</td>
<td><code>$keys</code></td>
<td><em>array
</em></td>
<td>false</td>
<td>INSERT keys</td>
</tr>

<tr>
<td>3.</td>
<td><code>$values</code></td>
<td><em>array
</em></td>
<td>false</td>
<td>INSERT values</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>string
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (2117 - 2120)</small></summary>

```php
protected function _insertBatch(string $table, array $keys, array $values): string
{
	return 'INSERT ' . $this->compileIgnore('insert') . 'INTO ' . $table . ' (' . implode(', ', $keys) . ') VALUES ' . implode(', ', $values);
}
```

</details>


<hr>

#### setInsertBatch()

```php
public function setInsertBatch($key, string $value = '', bool $escape = null)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
The "setInsertBatch" function.  Allows key/value pairs to be set for batch inserts
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$key</code></td>
<td><em>mixed
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$value</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>3.</td>
<td><code>$escape</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\BaseBuilder<br>null
</td>
</tr>
</table>





<details>
<summary><small>Source: 45 lines (2133 - 2177)</small></summary>

```php
public function setInsertBatch($key, string $value = '', bool $escape = null)
{
	$key = $this->batchObjectToArray($key);

	if (! is_array($key))
	{
		$key = [$key => $value];
	}

	$escape = is_bool($escape) ? $escape : $this->db->protectIdentifiers;

	$keys = array_keys($this->objectToArray(current($key)));
	sort($keys);

	foreach ($key as $row)
	{
		$row = $this->objectToArray($row);
		if (count(array_diff($keys, array_keys($row))) > 0 || count(array_diff(array_keys($row), $keys)) > 0)
		{
			// batch function above returns an error on an empty array
			$this->QBSet[] = [];

			return null;
		}

		ksort($row); // puts $row in the same order as our keys

		$clean = [];
		foreach ($row as $k => $value)
		{
			$clean[] = ':' . $this->setBind($k, $value, $escape) . ':';
		}

		$row = $clean;

		$this->QBSet[] = '(' . implode(',', $row) . ')';
	}

	foreach ($keys as $k)
	{
		$this->QBKeys[] = $this->db->protectIdentifiers($k, false, $escape);
	}

	return $this;
}
```

</details>


<hr>

#### getCompiledInsert()

```php
public function getCompiledInsert(bool $reset = true) : string
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Get INSERT query string
</td></tr>
</table>

<table>
<tr><td>
Compiles an insert query and returns the sql
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$reset</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td>TRUE: reset QB values; FALSE: leave QB values alone</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>string
</td>
</tr>
</table>


<table>
<tr>
<th style="vertical-align:top;">throw</th>
<td>\DatabaseException
</td>
</tr>
</table>



<details>
<summary><small>Source: 20 lines (2192 - 2211)</small></summary>

```php
public function getCompiledInsert(bool $reset = true): string
{
	if ($this->validateInsert() === false)
	{
		return false;
	}

	$sql = $this->_insert(
			$this->db->protectIdentifiers(
					$this->QBFrom[0], true, null, false
			), array_keys($this->QBSet), array_values($this->QBSet)
	);

	if ($reset === true)
	{
		$this->resetWrite();
	}

	return $this->compileFinalQuery($sql);
}
```

</details>


<hr>

#### insert()

```php
public function insert(array $set = null, bool $escape = null)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Insert
</td></tr>
</table>

<table>
<tr><td>
Compiles an insert string and runs the query
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$set</code></td>
<td><em>array
</em></td>
<td>false</td>
<td>An associative array of insert values</td>
</tr>

<tr>
<td>2.</td>
<td><code>$escape</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td>Whether to escape values and identifiers</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\BaseResult<br>\Query<br>false
</td>
</tr>
</table>


<table>
<tr>
<th style="vertical-align:top;">throw</th>
<td>\DatabaseException
</td>
</tr>
</table>



<details>
<summary><small>Source: 32 lines (2227 - 2258)</small></summary>

```php
public function insert(array $set = null, bool $escape = null)
{
	if ($set !== null)
	{
		$this->set($set, '', $escape);
	}

	if ($this->validateInsert() === false)
	{
		return false;
	}

	$sql = $this->_insert(
			$this->db->protectIdentifiers(
					$this->QBFrom[0], true, $escape, false
			), array_keys($this->QBSet), array_values($this->QBSet)
	);

	if (! $this->testMode)
	{
		$this->resetWrite();

		$result = $this->db->query($sql, $this->binds, false);

		// Clear our binds so we don't eat up memory
		$this->binds = [];

		return $result;
	}

	return false;
}
```

</details>


<hr>

#### validateInsert()

```php
protected function validateInsert() : bool
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Validate Insert
</td></tr>
</table>

<table>
<tr><td>
This method is used by both insert() and getCompiledInsert() to
validate that the there data is actually being set and that table
has been chosen to be inserted into.
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>





<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>bool
</td>
</tr>
</table>


<table>
<tr>
<th style="vertical-align:top;">throw</th>
<td>\DatabaseException
</td>
</tr>
</table>



<details>
<summary><small>Source: 15 lines (2272 - 2286)</small></summary>

```php
protected function validateInsert(): bool
{
	if (empty($this->QBSet))
	{
		if (CI_DEBUG)
		{
			throw new DatabaseException('You must use the "set" method to update an entry.');
		}
		// @codeCoverageIgnoreStart
		return false;
		// @codeCoverageIgnoreEnd
	}

	return true;
}
```

</details>


<hr>

#### _insert()

```php
protected function _insert(string $table, array $keys, array $unescapedKeys) : string
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Insert statement
</td></tr>
</table>

<table>
<tr><td>
Generates a platform-specific insert string from the supplied data
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$table</code></td>
<td><em>string
</em></td>
<td>false</td>
<td>The table name</td>
</tr>

<tr>
<td>2.</td>
<td><code>$keys</code></td>
<td><em>array
</em></td>
<td>false</td>
<td>The insert keys</td>
</tr>

<tr>
<td>3.</td>
<td><code>$unescapedKeys</code></td>
<td><em>array
</em></td>
<td>false</td>
<td>The insert values</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>string
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (2301 - 2304)</small></summary>

```php
protected function _insert(string $table, array $keys, array $unescapedKeys): string
{
	return 'INSERT ' . $this->compileIgnore('insert') . 'INTO ' . $table . ' (' . implode(', ', $keys) . ') VALUES (' . implode(', ', $unescapedKeys) . ')';
}
```

</details>


<hr>

#### replace()

```php
public function replace(array $set = null)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Replace
</td></tr>
</table>

<table>
<tr><td>
Compiles an replace into string and runs the query
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$set</code></td>
<td><em>array
</em></td>
<td>false</td>
<td>An associative array of insert values</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\BaseResult<br>\Query<br>string<br>false
</td>
</tr>
</table>


<table>
<tr>
<th style="vertical-align:top;">throw</th>
<td>\DatabaseException
</td>
</tr>
</table>



<details>
<summary><small>Source: 26 lines (2318 - 2343)</small></summary>

```php
public function replace(array $set = null)
{
	if ($set !== null)
	{
		$this->set($set);
	}

	if (empty($this->QBSet))
	{
		if (CI_DEBUG)
		{
			throw new DatabaseException('You must use the "set" method to update an entry.');
		}
		// @codeCoverageIgnoreStart
		return false;
		// @codeCoverageIgnoreEnd
	}

	$table = $this->QBFrom[0];

	$sql = $this->_replace($table, array_keys($this->QBSet), array_values($this->QBSet));

	$this->resetWrite();

	return $this->testMode ? $sql : $this->db->query($sql, $this->binds, false);
}
```

</details>


<hr>

#### _replace()

```php
protected function _replace(string $table, array $keys, array $values) : string
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Replace statement
</td></tr>
</table>

<table>
<tr><td>
Generates a platform-specific replace string from the supplied data
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$table</code></td>
<td><em>string
</em></td>
<td>false</td>
<td>The table name</td>
</tr>

<tr>
<td>2.</td>
<td><code>$keys</code></td>
<td><em>array
</em></td>
<td>false</td>
<td>The insert keys</td>
</tr>

<tr>
<td>3.</td>
<td><code>$values</code></td>
<td><em>array
</em></td>
<td>false</td>
<td>The insert values</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>string
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (2358 - 2361)</small></summary>

```php
protected function _replace(string $table, array $keys, array $values): string
{
	return 'REPLACE INTO ' . $table . ' (' . implode(', ', $keys) . ') VALUES (' . implode(', ', $values) . ')';
}
```

</details>


<hr>

#### _fromTables()

```php
protected function _fromTables() : string
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
FROM tables
</td></tr>
</table>

<table>
<tr><td>
Groups tables in FROM clauses if needed, so there is no confusion
about operator precedence.

Note: This is only used (and overridden) by MySQL and CUBRID.
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>





<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>string
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (2375 - 2378)</small></summary>

```php
protected function _fromTables(): string
{
	return implode(', ', $this->QBFrom);
}
```

</details>


<hr>

#### getCompiledUpdate()

```php
public function getCompiledUpdate(bool $reset = true) : string
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Get UPDATE query string
</td></tr>
</table>

<table>
<tr><td>
Compiles an update query and returns the sql
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$reset</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td>TRUE: reset QB values; FALSE: leave QB values alone</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>string
</td>
</tr>
</table>





<details>
<summary><small>Source: 16 lines (2391 - 2406)</small></summary>

```php
public function getCompiledUpdate(bool $reset = true): string
{
	if ($this->validateUpdate() === false)
	{
		return false;
	}

	$sql = $this->_update($this->QBFrom[0], $this->QBSet);

	if ($reset === true)
	{
		$this->resetWrite();
	}

	return $this->compileFinalQuery($sql);
}
```

</details>


<hr>

#### update()

```php
public function update(array $set = null, $where = null, int $limit = null) : bool
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
UPDATE
</td></tr>
</table>

<table>
<tr><td>
Compiles an update string and runs the query.
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$set</code></td>
<td><em>array
</em></td>
<td>false</td>
<td>An associative array of update values</td>
</tr>

<tr>
<td>2.</td>
<td><code>$where</code></td>
<td><em>mixed
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>3.</td>
<td><code>$limit</code></td>
<td><em>int
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>bool
</td>
</tr>
</table>


<table>
<tr>
<th style="vertical-align:top;">throw</th>
<td>\DatabaseException
</td>
</tr>
</table>



<details>
<summary><small>Source: 48 lines (2423 - 2470)</small></summary>

```php
public function update(array $set = null, $where = null, int $limit = null): bool
{
	if ($set !== null)
	{
		$this->set($set);
	}

	if ($this->validateUpdate() === false)
	{
		return false;
	}

	if ($where !== null)
	{
		$this->where($where);
	}

	if (! empty($limit))
	{
		if (! $this->canLimitWhereUpdates)
		{
			throw new DatabaseException('This driver does not allow LIMITs on UPDATE queries using WHERE.');
		}

		$this->limit($limit);
	}

	$sql = $this->_update($this->QBFrom[0], $this->QBSet);

	if (! $this->testMode)
	{
		$this->resetWrite();

		$result = $this->db->query($sql, $this->binds, false);

		if ($result->resultID !== false)
		{
			// Clear our binds so we don't eat up memory
			$this->binds = [];

			return true;
		}

		return false;
	}

	return true;
}
```

</details>


<hr>

#### _update()

```php
protected function _update(string $table, array $values) : string
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Update statement
</td></tr>
</table>

<table>
<tr><td>
Generates a platform-specific update string from the supplied data
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$table</code></td>
<td><em>string
</em></td>
<td>false</td>
<td>the Table name</td>
</tr>

<tr>
<td>2.</td>
<td><code>$values</code></td>
<td><em>array
</em></td>
<td>false</td>
<td>the Update data</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>string
</td>
</tr>
</table>





<details>
<summary><small>Source: 14 lines (2484 - 2497)</small></summary>

```php
protected function _update(string $table, array $values): string
{
	$valStr = [];

	foreach ($values as $key => $val)
	{
		$valStr[] = $key . ' = ' . $val;
	}

	return 'UPDATE ' . $this->compileIgnore('update') . $table . ' SET ' . implode(', ', $valStr)
			. $this->compileWhereHaving('QBWhere')
			. $this->compileOrderBy()
			. ($this->QBLimit ? $this->_limit(' ', true) : '');
}
```

</details>


<hr>

#### validateUpdate()

```php
protected function validateUpdate() : bool
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Validate Update
</td></tr>
</table>

<table>
<tr><td>
This method is used by both update() and getCompiledUpdate() to
validate that data is actually being set and that a table has been
chosen to be update.
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>





<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>bool
</td>
</tr>
</table>


<table>
<tr>
<th style="vertical-align:top;">throw</th>
<td>\CodeIgniter\Database\Exceptions\DatabaseException
</td>
</tr>
</table>



<details>
<summary><small>Source: 15 lines (2511 - 2525)</small></summary>

```php
protected function validateUpdate(): bool
{
	if (empty($this->QBSet))
	{
		if (CI_DEBUG)
		{
			throw new DatabaseException('You must use the "set" method to update an entry.');
		}
		// @codeCoverageIgnoreStart
		return false;
		// @codeCoverageIgnoreEnd
	}

	return true;
}
```

</details>


<hr>

#### updateBatch()

```php
public function updateBatch(array $set = null, string $index = null, int $batchSize = 100)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Update_Batch
</td></tr>
</table>

<table>
<tr><td>
Compiles an update string and runs the query
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$set</code></td>
<td><em>array
</em></td>
<td>false</td>
<td>An associative array of update values</td>
</tr>

<tr>
<td>2.</td>
<td><code>$index</code></td>
<td><em>string
</em></td>
<td>false</td>
<td>The where key</td>
</tr>

<tr>
<td>3.</td>
<td><code>$batchSize</code></td>
<td><em>int
</em></td>
<td>false</td>
<td>The size of the batch to run</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>mixed
</td>
</tr>
</table>


<table>
<tr>
<th style="vertical-align:top;">throw</th>
<td>\CodeIgniter\Database\Exceptions\DatabaseException
</td>
</tr>
</table>



<details>
<summary><small>Source: 70 lines (2541 - 2610)</small></summary>

```php
public function updateBatch(array $set = null, string $index = null, int $batchSize = 100)
{
	if ($index === null)
	{
		if (CI_DEBUG)
		{
			throw new DatabaseException('You must specify an index to match on for batch updates.');
		}
		// @codeCoverageIgnoreStart
		return false;
		// @codeCoverageIgnoreEnd
	}

	if ($set === null)
	{
		if (empty($this->QBSet))
		{
			if (CI_DEBUG)
			{
				throw new DatabaseException('You must use the "set" method to update an entry.');
			}
			// @codeCoverageIgnoreStart
			return false;
			// @codeCoverageIgnoreEnd
		}
	}
	else
	{
		if (empty($set))
		{
			if (CI_DEBUG)
			{
				throw new DatabaseException('updateBatch() called with no data');
			}
			// @codeCoverageIgnoreStart
			return false;
			// @codeCoverageIgnoreEnd
		}

		$this->setUpdateBatch($set, $index);
	}

	$table = $this->QBFrom[0];

	// Batch this baby
	$affected_rows = 0;
	$savedSQL      = [];
	$savedQBWhere  = $this->QBWhere;
	for ($i = 0, $total = count($this->QBSet); $i < $total; $i += $batchSize)
	{
		$sql = $this->_updateBatch($table, array_slice($this->QBSet, $i, $batchSize), $this->db->protectIdentifiers($index)
		);

		if ($this->testMode)
		{
			$savedSQL[] = $sql;
		}
		else
		{
			$this->db->query($sql, $this->binds, false);
			$affected_rows += $this->db->affectedRows();
		}

		$this->QBWhere = $savedQBWhere;
	}

	$this->resetWrite();

	return $this->testMode ? $savedSQL : $affected_rows;
}
```

</details>


<hr>

#### _updateBatch()

```php
protected function _updateBatch(string $table, array $values, string $index) : string
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Update_Batch statement
</td></tr>
</table>

<table>
<tr><td>
Generates a platform-specific batch update string from the supplied data
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$table</code></td>
<td><em>string
</em></td>
<td>false</td>
<td>Table name</td>
</tr>

<tr>
<td>2.</td>
<td><code>$values</code></td>
<td><em>array
</em></td>
<td>false</td>
<td>Update data</td>
</tr>

<tr>
<td>3.</td>
<td><code>$index</code></td>
<td><em>string
</em></td>
<td>false</td>
<td>WHERE key</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>string
</td>
</tr>
</table>





<details>
<summary><small>Source: 30 lines (2625 - 2654)</small></summary>

```php
protected function _updateBatch(string $table, array $values, string $index): string
{
	$ids   = [];
	$final = [];

	foreach ($values as $val)
	{
		$ids[] = $val[$index];

		foreach (array_keys($val) as $field)
		{
			if ($field !== $index)
			{
				$final[$field][] = 'WHEN ' . $index . ' = ' . $val[$index] . ' THEN ' . $val[$field];
			}
		}
	}

	$cases = '';
	foreach ($final as $k => $v)
	{
		$cases .= $k . " = CASE \n"
				. implode("\n", $v) . "\n"
				. 'ELSE ' . $k . ' END, ';
	}

	$this->where($index . ' IN(' . implode(',', $ids) . ')', null, false);

	return 'UPDATE ' . $this->compileIgnore('update') . $table . ' SET ' . substr($cases, 0, -2) . $this->compileWhereHaving('QBWhere');
}
```

</details>


<hr>

#### setUpdateBatch()

```php
public function setUpdateBatch($key, string $index = '', bool $escape = null)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
The "setUpdateBatch" function.  Allows key/value pairs to be set for batch updating
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$key</code></td>
<td><em>array<br>object
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$index</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>3.</td>
<td><code>$escape</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\BaseBuilder<br>null
</td>
</tr>
</table>


<table>
<tr>
<th style="vertical-align:top;">throw</th>
<td>\CodeIgniter\Database\Exceptions\DatabaseException
</td>
</tr>
</table>



<details>
<summary><small>Source: 37 lines (2668 - 2704)</small></summary>

```php
public function setUpdateBatch($key, string $index = '', bool $escape = null)
{
	$key = $this->batchObjectToArray($key);

	if (! is_array($key))
	{
		return null;
	}

	is_bool($escape) || $escape = $this->db->protectIdentifiers;

	foreach ($key as $v)
	{
		$index_set = false;
		$clean     = [];
		foreach ($v as $k2 => $v2)
		{
			if ($k2 === $index)
			{
				$index_set = true;
			}

			$bind = $this->setBind($k2, $v2, $escape);

			$clean[$this->db->protectIdentifiers($k2, false, $escape)] = ":$bind:";
		}

		if ($index_set === false)
		{
			throw new DatabaseException('One or more rows submitted for batch updating is missing the specified index.');
		}

		$this->QBSet[] = $clean;
	}

	return $this;
}
```

</details>


<hr>

#### emptyTable()

```php
public function emptyTable()
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Empty Table
</td></tr>
</table>

<table>
<tr><td>
Compiles a delete string and runs "DELETE FROM table"
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>





<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>bool
</td>
</tr>
</table>





<details>
<summary><small>Source: 15 lines (2715 - 2729)</small></summary>

```php
public function emptyTable()
{
	$table = $this->QBFrom[0];

	$sql = $this->_delete($table);

	if ($this->testMode)
	{
		return $sql;
	}

	$this->resetWrite();

	return $this->db->query($sql, null, false);
}
```

</details>


<hr>

#### truncate()

```php
public function truncate()
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Truncate
</td></tr>
</table>

<table>
<tr><td>
Compiles a truncate string and runs the query
If the database does not support the truncate() command
This function maps to "DELETE FROM table"
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>





<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>bool
</td>
</tr>
</table>





<details>
<summary><small>Source: 15 lines (2742 - 2756)</small></summary>

```php
public function truncate()
{
	$table = $this->QBFrom[0];

	$sql = $this->_truncate($table);

	if ($this->testMode)
	{
		return $sql;
	}

	$this->resetWrite();

	return $this->db->query($sql, null, false);
}
```

</details>


<hr>

#### _truncate()

```php
protected function _truncate(string $table) : string
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Truncate statement
</td></tr>
</table>

<table>
<tr><td>
Generates a platform-specific truncate string from the supplied data

If the database does not support the truncate() command,
then this method maps to 'DELETE FROM table'
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$table</code></td>
<td><em>string
</em></td>
<td>false</td>
<td>The table name</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>string
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (2772 - 2775)</small></summary>

```php
protected function _truncate(string $table): string
{
	return 'TRUNCATE ' . $table;
}
```

</details>


<hr>

#### getCompiledDelete()

```php
public function getCompiledDelete(bool $reset = true) : string
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Get DELETE query string
</td></tr>
</table>

<table>
<tr><td>
Compiles a delete query string and returns the sql
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$reset</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td>TRUE: reset QB values; FALSE: leave QB values alone</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>string
</td>
</tr>
</table>





<details>
<summary><small>Source: 8 lines (2788 - 2795)</small></summary>

```php
public function getCompiledDelete(bool $reset = true): string
{
	$table = $this->QBFrom[0];

	$sql = $this->delete($table, null, $reset, true);

	return $this->compileFinalQuery($sql);
}
```

</details>


<hr>

#### delete()

```php
public function delete($where = '', int $limit = null, bool $reset_data = true)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Delete
</td></tr>
</table>

<table>
<tr><td>
Compiles a delete string and runs the query
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$where</code></td>
<td><em>mixed
</em></td>
<td>false</td>
<td>The where clause</td>
</tr>

<tr>
<td>2.</td>
<td><code>$limit</code></td>
<td><em>int
</em></td>
<td>false</td>
<td>The limit clause</td>
</tr>

<tr>
<td>3.</td>
<td><code>$reset_data</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>mixed
</td>
</tr>
</table>


<table>
<tr>
<th style="vertical-align:top;">throw</th>
<td>\CodeIgniter\Database\Exceptions\DatabaseException
</td>
</tr>
</table>



<details>
<summary><small>Source: 44 lines (2811 - 2854)</small></summary>

```php
public function delete($where = '', int $limit = null, bool $reset_data = true)
{
	$table = $this->db->protectIdentifiers($this->QBFrom[0], true, null, false);

	if ($where !== '')
	{
		$this->where($where);
	}

	if (empty($this->QBWhere))
	{
		if (CI_DEBUG)
		{
			throw new DatabaseException('Deletes are not allowed unless they contain a "where" or "like" clause.');
		}
		// @codeCoverageIgnoreStart
		return false;
		// @codeCoverageIgnoreEnd
	}

	$sql = $this->_delete($table);

	if (! empty($limit))
	{
		$this->QBLimit = $limit;
	}

	if (! empty($this->QBLimit))
	{
		if (! $this->canLimitDeletes)
		{
			throw new DatabaseException('SQLite3 does not allow LIMITs on DELETE queries.');
		}

		$sql = $this->_limit($sql, true);
	}

	if ($reset_data)
	{
		$this->resetWrite();
	}

	return $this->testMode ? $sql : $this->db->query($sql, $this->binds, false);
}
```

</details>


<hr>

#### increment()

```php
public function increment(string $column, int $value = 1)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Increments a numeric column by the specified value.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$column</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$value</code></td>
<td><em>int
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>bool
</td>
</tr>
</table>





<details>
<summary><small>Source: 8 lines (2866 - 2873)</small></summary>

```php
public function increment(string $column, int $value = 1)
{
	$column = $this->db->protectIdentifiers($column);

	$sql = $this->_update($this->QBFrom[0], [$column => "{$column} + {$value}"]);

	return $this->db->query($sql, $this->binds, false);
}
```

</details>


<hr>

#### decrement()

```php
public function decrement(string $column, int $value = 1)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Decrements a numeric column by the specified value.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$column</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$value</code></td>
<td><em>int
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>bool
</td>
</tr>
</table>





<details>
<summary><small>Source: 8 lines (2885 - 2892)</small></summary>

```php
public function decrement(string $column, int $value = 1)
{
	$column = $this->db->protectIdentifiers($column);

	$sql = $this->_update($this->QBFrom[0], [$column => "{$column}-{$value}"]);

	return $this->db->query($sql, $this->binds, false);
}
```

</details>


<hr>

#### _delete()

```php
protected function _delete(string $table) : string
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Delete statement
</td></tr>
</table>

<table>
<tr><td>
Generates a platform-specific delete string from the supplied data
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$table</code></td>
<td><em>string
</em></td>
<td>false</td>
<td>The table name</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>string
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (2905 - 2908)</small></summary>

```php
protected function _delete(string $table): string
{
	return 'DELETE ' . $this->compileIgnore('delete') . 'FROM ' . $table . $this->compileWhereHaving('QBWhere');
}
```

</details>


<hr>

#### trackAliases()

```php
protected function trackAliases($table)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Track Aliases
</td></tr>
</table>

<table>
<tr><td>
Used to track SQL statements written with aliased tables.
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$table</code></td>
<td><em>string<br>array
</em></td>
<td>false</td>
<td>The table to inspect</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>string<br>void
</td>
</tr>
</table>





<details>
<summary><small>Source: 31 lines (2921 - 2951)</small></summary>

```php
protected function trackAliases($table)
{
	if (is_array($table))
	{
		foreach ($table as $t)
		{
			$this->trackAliases($t);
		}
		return;
	}

	// Does the string contain a comma?  If so, we need to separate
	// the string into discreet statements
	if (strpos($table, ',') !== false)
	{
		return $this->trackAliases(explode(',', $table));
	}

	// if a table alias is used we can recognize it by a space
	if (strpos($table, ' ') !== false)
	{
		// if the alias is written with the AS keyword, remove it
		$table = preg_replace('/\s+AS\s+/i', ' ', $table);

		// Grab the alias
		$table = trim(strrchr($table, ' '));

		// Store the alias, if it doesn't already exist
		$this->db->addTableAlias($table);
	}
}
```

</details>


<hr>

#### compileSelect()

```php
protected function compileSelect($select_override = false) : string
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Compile the SELECT statement
</td></tr>
</table>

<table>
<tr><td>
Generates a query string based on which functions were used.
Should not be called directly.
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$select_override</code></td>
<td><em>mixed
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>string
</td>
</tr>
</table>





<details>
<summary><small>Source: 54 lines (2965 - 3018)</small></summary>

```php
protected function compileSelect($select_override = false): string
{
	// Write the "select" portion of the query
	if ($select_override !== false)
	{
		$sql = $select_override;
	}
	else
	{
		$sql = ( ! $this->QBDistinct) ? 'SELECT ' : 'SELECT DISTINCT ';

		if (empty($this->QBSelect))
		{
			$sql .= '*';
		}
		else
		{
			// Cycle through the "select" portion of the query and prep each column name.
			// The reason we protect identifiers here rather than in the select() function
			// is because until the user calls the from() function we don't know if there are aliases
			foreach ($this->QBSelect as $key => $val)
			{
				$no_escape            = $this->QBNoEscape[$key] ?? null;
				$this->QBSelect[$key] = $this->db->protectIdentifiers($val, false, $no_escape);
			}

			$sql .= implode(', ', $this->QBSelect);
		}
	}

	// Write the "FROM" portion of the query
	if (! empty($this->QBFrom))
	{
		$sql .= "\nFROM " . $this->_fromTables();
	}

	// Write the "JOIN" portion of the query
	if (! empty($this->QBJoin))
	{
		$sql .= "\n" . implode("\n", $this->QBJoin);
	}

	$sql .= $this->compileWhereHaving('QBWhere')
			. $this->compileGroupBy()
			. $this->compileWhereHaving('QBHaving')
			. $this->compileOrderBy(); // ORDER BY
	// LIMIT
	if ($this->QBLimit)
	{
		return $this->_limit($sql . "\n");
	}

	return $sql;
}
```

</details>


<hr>

#### compileIgnore()

```php
protected function compileIgnore(string $statement)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Compile Ignore Statement
</td></tr>
</table>

<table>
<tr><td>
Checks if the ignore option is supported by
the Database Driver for the specific statement.
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$statement</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>string
</td>
</tr>
</table>





<details>
<summary><small>Source: 13 lines (3032 - 3044)</small></summary>

```php
protected function compileIgnore(string $statement)
{
	$sql = '';

	if ($this->QBIgnore &&
		isset($this->supportedIgnoreStatements[$statement])
	)
	{
		$sql = trim($this->supportedIgnoreStatements[$statement]) . ' ';
	}

	return $sql;
}
```

</details>


<hr>

#### compileWhereHaving()

```php
protected function compileWhereHaving(string $qb_key) : string
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Compile WHERE, HAVING statements
</td></tr>
</table>

<table>
<tr><td>
Escapes identifiers in WHERE and HAVING statements at execution time.

Required so that aliases are tracked properly, regardless of whether
where(), orWhere(), having(), orHaving are called prior to from(),
join() and prefixTable is added only if needed.
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$qb_key</code></td>
<td><em>string
</em></td>
<td>false</td>
<td>'QBWhere' or 'QBHaving'</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>string
</td>
</tr>
</table>





<details>
<summary><small>Source: 68 lines (3061 - 3128)</small></summary>

```php
protected function compileWhereHaving(string $qb_key): string
{
	if (! empty($this->$qb_key))
	{
		foreach ($this->$qb_key as &$qbkey)
		{
			// Is this condition already compiled?
			if (is_string($qbkey))
			{
				continue;
			}
			elseif ($qbkey['escape'] === false)
			{
				$qbkey = $qbkey['condition'];
				continue;
			}

			// Split multiple conditions
			$conditions = preg_split(
					'/((?:^|\s+)AND\s+|(?:^|\s+)OR\s+)/i', $qbkey['condition'], -1, PREG_SPLIT_DELIM_CAPTURE | PREG_SPLIT_NO_EMPTY
			);

			foreach ($conditions as &$condition)
			{
				if (($op = $this->getOperator($condition)) === false
						|| ! preg_match('/^(\(?)(.*)(' . preg_quote($op, '/') . ')\s*(.*(?<!\)))?(\)?)$/i', $condition, $matches)
				)
				{
					continue;
				}
				// $matches = array(
				//	0 => '(test <= foo)',	/* the whole thing */
				//	1 => '(',		/* optional */
				//	2 => 'test',		/* the field name */
				//	3 => ' <= ',		/* $op */
				//	4 => 'foo',		/* optional, if $op is e.g. 'IS NULL' */
				//	5 => ')'		/* optional */
				// );

				if (! empty($matches[4]))
				{
					$protectIdentifiers = false;
					if (strpos($matches[4], '.') !== false)
					{
						$protectIdentifiers = true;
					}

					if (strpos($matches[4], ':') === false)
					{
						$matches[4] = $this->db->protectIdentifiers(trim($matches[4]), false, $protectIdentifiers);
					}

					$matches[4] = ' ' . $matches[4];
				}

				$condition = $matches[1] . $this->db->protectIdentifiers(trim($matches[2]))
						. ' ' . trim($matches[3]) . $matches[4] . $matches[5];
			}

			$qbkey = implode('', $conditions);
		}

		return ($qb_key === 'QBHaving' ? "\nHAVING " : "\nWHERE ")
				. implode("\n", $this->$qb_key);
	}

	return '';
}
```

</details>


<hr>

#### compileGroupBy()

```php
protected function compileGroupBy() : string
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Compile GROUP BY
</td></tr>
</table>

<table>
<tr><td>
Escapes identifiers in GROUP BY statements at execution time.

Required so that aliases are tracked properly, regardless of whether
groupBy() is called prior to from(), join() and prefixTable is added
only if needed.
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>





<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>string
</td>
</tr>
</table>





<details>
<summary><small>Source: 21 lines (3143 - 3163)</small></summary>

```php
protected function compileGroupBy(): string
{
	if (! empty($this->QBGroupBy))
	{
		foreach ($this->QBGroupBy as &$groupBy)
		{
			// Is it already compiled?
			if (is_string($groupBy))
			{
				continue;
			}

			$groupBy = ($groupBy['escape'] === false ||
					$this->isLiteral($groupBy['field'])) ? $groupBy['field'] : $this->db->protectIdentifiers($groupBy['field']);
		}

		return "\nGROUP BY " . implode(', ', $this->QBGroupBy);
	}

	return '';
}
```

</details>


<hr>

#### compileOrderBy()

```php
protected function compileOrderBy() : string
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Compile ORDER BY
</td></tr>
</table>

<table>
<tr><td>
Escapes identifiers in ORDER BY statements at execution time.

Required so that aliases are tracked properly, regardless of whether
orderBy() is called prior to from(), join() and prefixTable is added
only if needed.
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>





<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>string
</td>
</tr>
</table>





<details>
<summary><small>Source: 23 lines (3178 - 3200)</small></summary>

```php
protected function compileOrderBy(): string
{
	if (is_array($this->QBOrderBy) && ! empty($this->QBOrderBy))
	{
		foreach ($this->QBOrderBy as &$orderBy)
		{
			if ($orderBy['escape'] !== false && ! $this->isLiteral($orderBy['field']))
			{
				$orderBy['field'] = $this->db->protectIdentifiers($orderBy['field']);
			}

			$orderBy = $orderBy['field'] . $orderBy['direction'];
		}

		return $this->QBOrderBy = "\nORDER BY " . implode(', ', $this->QBOrderBy);
	}
	elseif (is_string($this->QBOrderBy))
	{
		return $this->QBOrderBy;
	}

	return '';
}
```

</details>


<hr>

#### objectToArray()

```php
protected function objectToArray($object)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Object to Array
</td></tr>
</table>

<table>
<tr><td>
Takes an object as input and converts the class variables to array key/vals
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$object</code></td>
<td><em>mixed
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>mixed
</td>
</tr>
</table>





<details>
<summary><small>Source: 19 lines (3213 - 3231)</small></summary>

```php
protected function objectToArray($object)
{
	if (! is_object($object))
	{
		return $object;
	}

	$array = [];
	foreach (get_object_vars($object) as $key => $val)
	{
		// There are some built in keys we need to ignore for this conversion
		if (! is_object($val) && ! is_array($val) && $key !== '_parent_name')
		{
			$array[$key] = $val;
		}
	}

	return $array;
}
```

</details>


<hr>

#### batchObjectToArray()

```php
protected function batchObjectToArray($object)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Object to Array
</td></tr>
</table>

<table>
<tr><td>
Takes an object as input and converts the class variables to array key/vals
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$object</code></td>
<td><em>mixed
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>mixed
</td>
</tr>
</table>





<details>
<summary><small>Source: 26 lines (3244 - 3269)</small></summary>

```php
protected function batchObjectToArray($object)
{
	if (! is_object($object))
	{
		return $object;
	}

	$array  = [];
	$out    = get_object_vars($object);
	$fields = array_keys($out);

	foreach ($fields as $val)
	{
		// There are some built in keys we need to ignore for this conversion
		if ($val !== '_parent_name')
		{
			$i = 0;
			foreach ($out[$val] as $data)
			{
				$array[$i ++][$val] = $data;
			}
		}
	}

	return $array;
}
```

</details>


<hr>

#### isLiteral()

```php
protected function isLiteral(string $str) : bool
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Is literal
</td></tr>
</table>

<table>
<tr><td>
Determines if a string represents a literal value or a field name
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$str</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>bool
</td>
</tr>
</table>





<details>
<summary><small>Source: 20 lines (3282 - 3301)</small></summary>

```php
protected function isLiteral(string $str): bool
{
	$str = trim($str);

	if (empty($str) || ctype_digit($str) || (string) (float) $str === $str ||
			in_array(strtoupper($str), ['TRUE', 'FALSE'], true)
	)
	{
		return true;
	}

	static $_str;

	if (empty($_str))
	{
		$_str = ($this->db->escapeChar !== '"') ? ['"', "'"] : ["'"];
	}

	return in_array($str[0], $_str, true);
}
```

</details>


<hr>

#### resetQuery()

```php
public function resetQuery()
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Reset Query Builder values.
</td></tr>
</table>

<table>
<tr><td>
Publicly-visible method to reset the QB values.
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>





<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\BaseBuilder
</td>
</tr>
</table>





<details>
<summary><small>Source: 7 lines (3312 - 3318)</small></summary>

```php
public function resetQuery()
{
	$this->resetSelect();
	$this->resetWrite();

	return $this;
}
```

</details>


<hr>

#### resetRun()

```php
protected function resetRun(array $qb_reset_items)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Resets the query builder values.  Called by the get() function
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$qb_reset_items</code></td>
<td><em>array
</em></td>
<td>false</td>
<td>An array of fields to reset</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>void
</td>
</tr>
</table>





<details>
<summary><small>Source: 7 lines (3329 - 3335)</small></summary>

```php
protected function resetRun(array $qb_reset_items)
{
	foreach ($qb_reset_items as $item => $default_value)
	{
		$this->$item = $default_value;
	}
}
```

</details>


<hr>

#### resetSelect()

```php
protected function resetSelect()
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Resets the query builder values.  Called by the get() function
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>










<details>
<summary><small>Source: 26 lines (3342 - 3367)</small></summary>

```php
protected function resetSelect()
{
	$this->resetRun([
		'QBSelect'   => [],
		'QBJoin'     => [],
		'QBWhere'    => [],
		'QBGroupBy'  => [],
		'QBHaving'   => [],
		'QBOrderBy'  => [],
		'QBNoEscape' => [],
		'QBDistinct' => false,
		'QBLimit'    => false,
		'QBOffset'   => false,
	]);

	if (! empty($this->db))
	{
		$this->db->setAliasedTables([]);
	}

	// Reset QBFrom part
	if (! empty($this->QBFrom))
	{
		$this->from(array_shift($this->QBFrom), true);
	}
}
```

</details>


<hr>

#### resetWrite()

```php
protected function resetWrite()
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Resets the query builder "write" values.
</td></tr>
</table>

<table>
<tr><td>
Called by the insert() update() insertBatch() updateBatch() and delete() functions
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>










<details>
<summary><small>Source: 12 lines (3376 - 3387)</small></summary>

```php
protected function resetWrite()
{
	$this->resetRun([
		'QBSet'     => [],
		'QBJoin'    => [],
		'QBWhere'   => [],
		'QBOrderBy' => [],
		'QBKeys'    => [],
		'QBLimit'   => false,
		'QBIgnore'  => false,
	]);
}
```

</details>


<hr>

#### hasOperator()

```php
protected function hasOperator(string $str) : bool
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Tests whether the string has an SQL operator
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$str</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>bool
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (3398 - 3401)</small></summary>

```php
protected function hasOperator(string $str): bool
{
	return (bool) preg_match('/(<|>|!|=|\sIS NULL|\sIS NOT NULL|\sEXISTS|\sBETWEEN|\sLIKE|\sIN\s*\(|\s)/i', trim($str));
}
```

</details>


<hr>

#### getOperator()

```php
protected function getOperator(string $str, bool $list = false)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Returns the SQL string operator
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$str</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$list</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>mixed
</td>
</tr>
</table>





<details>
<summary><small>Source: 25 lines (3413 - 3437)</small></summary>

```php
protected function getOperator(string $str, bool $list = false)
{
	static $_operators;

	if (empty($_operators))
	{
		$_les       = ($this->db->likeEscapeStr !== '') ? '\s+' . preg_quote(trim(sprintf($this->db->likeEscapeStr, $this->db->likeEscapeChar)), '/') : '';
		$_operators = [
			'\s*(?:<|>|!)?=\s*', // =, <=, >=, !=
			'\s*<>?\s*', // <, <>
			'\s*>\s*', // >
			'\s+IS NULL', // IS NULL
			'\s+IS NOT NULL', // IS NOT NULL
			'\s+EXISTS\s*\(.*\)', // EXISTS(sql)
			'\s+NOT EXISTS\s*\(.*\)', // NOT EXISTS(sql)
			'\s+BETWEEN\s+', // BETWEEN value AND value
			'\s+IN\s*\(.*\)', // IN(list)
			'\s+NOT IN\s*\(.*\)', // NOT IN (list)
			'\s+LIKE\s+\S.*(' . $_les . ')?', // LIKE 'expr'[ ESCAPE '%s']
			'\s+NOT LIKE\s+\S.*(' . $_les . ')?', // NOT LIKE 'expr'[ ESCAPE '%s']
		];
	}

	return preg_match_all('/' . implode('|', $_operators) . '/i', $str, $match) ? ($list ? $match[0] : $match[0][0]) : false;
}
```

</details>


<hr>

#### setBind()

```php
protected function setBind(string $key, $value = null, bool $escape = true) : string
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Stores a bind value after ensuring that it's unique.
</td></tr>
</table>

<table>
<tr><td>
While it might be nicer to have named keys for our binds array
with PHP 7+ we get a huge memory/performance gain with indexed
arrays instead, so lets take advantage of that here.
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$key</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$value</code></td>
<td><em>mixed
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>3.</td>
<td><code>$escape</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>string
</td>
</tr>
</table>





<details>
<summary><small>Source: 25 lines (3453 - 3477)</small></summary>

```php
protected function setBind(string $key, $value = null, bool $escape = true): string
{
	if (! array_key_exists($key, $this->binds))
	{
		$this->binds[$key] = [
			$value,
			$escape,
		];

		return $key;
	}

	if (! array_key_exists($key, $this->bindsKeyCount))
	{
		$this->bindsKeyCount[$key] = 0;
	}
	$count = $this->bindsKeyCount[$key]++;

	$this->binds[$key . $count] = [
		$value,
		$escape,
	];

	return $key . $count;
}
```

</details>


<hr>

#### cleanClone()

```php
protected function cleanClone()
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Returns a clone of a Base Builder with reset query builder values.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>





<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\BaseBuilder
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (3486 - 3489)</small></summary>

```php
protected function cleanClone()
{
	return (clone $this)->from([], true)->resetQuery();
}
```

</details>





 


 
  




<hr>

<table>
<tr>
<td style="width:100%"><em>framework/system/Database/BaseBuilder.php</em></td>
<td><a href="../../../../../../api/index.md">index</a></td>
<td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Controller.md">prev</a></td>
<td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/BaseConnection.md">next</a></td>
<td><a href="#">top</a></td></tr>
</table>




<div style="text-align:right;">

<small>_Generated at **2020-08-15 12:03:11**_ *([EnixApp](https://github.com/enix-app) - [ApiDoc](https://github.com/enix-app/apidoc))*</small>
</div>