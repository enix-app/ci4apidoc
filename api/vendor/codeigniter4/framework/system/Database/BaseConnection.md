


 



<table>
<tr>
<td style="width:100%"><em>framework/system/Database/BaseConnection.php</em></td>
<td><a href="../../../../../../api/index.md">index</a></td>
<td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/BaseBuilder.md">prev</a></td>
<td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/BasePreparedQuery.md">next</a></td>
</tr>
</table>







# CodeIgniter\Database 
<table style="text-align:left">
<tr><th>namespace</th><td>CodeIgniter\Database</td></tr>
</table>

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
CodeIgniter
</td></tr>
</table>

<table>
<tr><td>
An open source application development framework for PHP

This content is released under the MIT License (MIT)

Copyright (c) 2014-2019 British Columbia Institute of Technology
Copyright (c) 2019-2020 CodeIgniter Foundation

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
</td></tr>
</table>

</details>



<table style="text-align:left">
<tr style="vertical-align:top;">
<th>package</th>
<td>CodeIgniter
</td>
</tr>
<tr style="vertical-align:top;">
<th>author</th>
<td>CodeIgniter Dev Team
</td>
</tr>
<tr style="vertical-align:top;">
<th>copyright</th>
<td>2019-2020 CodeIgniter Foundation
</td>
</tr>
<tr style="vertical-align:top;">
<th>license</th>
<td><a href="https://opensource.org/licenses/MIT">https://opensource.org/licenses/MIT</a>	MIT License
</td>
</tr>
<tr style="vertical-align:top;">
<th>link</th>
<td><a href="https://codeigniter.com">https://codeigniter.com</a>

</td>
</tr>
<tr style="vertical-align:top;">
<th>filesource</th>
<td>framework/system/Database/BaseConnection.php
</td>
</tr>
</table>

 

<details>
<summary style="margin-bottom:12px;"><strong>Members</strong></summary>
<table>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/BaseBuilder.md">CodeIgniter\Database\BaseBuilder</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/BaseConnection.md">CodeIgniter\Database\BaseConnection</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/BasePreparedQuery.md">CodeIgniter\Database\BasePreparedQuery</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/BaseResult.md">CodeIgniter\Database\BaseResult</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/BaseUtils.md">CodeIgniter\Database\BaseUtils</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/Config.md">CodeIgniter\Database\Config</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/ConnectionInterface.md">CodeIgniter\Database\ConnectionInterface</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/Database.md">CodeIgniter\Database\Database</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/Exceptions/DataException.md">CodeIgniter\Database\Exceptions\DataException</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/Exceptions/DatabaseException.md">CodeIgniter\Database\Exceptions\DatabaseException</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/Exceptions/ExceptionInterface.md">CodeIgniter\Database\Exceptions\ExceptionInterface</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/Forge.md">CodeIgniter\Database\Forge</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/Migration.md">CodeIgniter\Database\Migration</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/MigrationRunner.md">CodeIgniter\Database\MigrationRunner</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/ModelFactory.md">CodeIgniter\Database\ModelFactory</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/MySQLi/Builder.md">CodeIgniter\Database\MySQLi\Builder</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.md">CodeIgniter\Database\MySQLi\Connection</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/MySQLi/Forge.md">CodeIgniter\Database\MySQLi\Forge</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/MySQLi/PreparedQuery.md">CodeIgniter\Database\MySQLi\PreparedQuery</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/MySQLi/Result.md">CodeIgniter\Database\MySQLi\Result</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/MySQLi/Utils.md">CodeIgniter\Database\MySQLi\Utils</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/Postgre/Builder.md">CodeIgniter\Database\Postgre\Builder</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/Postgre/Connection.md">CodeIgniter\Database\Postgre\Connection</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/Postgre/Forge.md">CodeIgniter\Database\Postgre\Forge</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/Postgre/PreparedQuery.md">CodeIgniter\Database\Postgre\PreparedQuery</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/Postgre/Result.md">CodeIgniter\Database\Postgre\Result</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/Postgre/Utils.md">CodeIgniter\Database\Postgre\Utils</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/PreparedQueryInterface.md">CodeIgniter\Database\PreparedQueryInterface</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/Query.md">CodeIgniter\Database\Query</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/QueryInterface.md">CodeIgniter\Database\QueryInterface</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/ResultInterface.md">CodeIgniter\Database\ResultInterface</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/SQLite3/Builder.md">CodeIgniter\Database\SQLite3\Builder</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/SQLite3/Connection.md">CodeIgniter\Database\SQLite3\Connection</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/SQLite3/Forge.md">CodeIgniter\Database\SQLite3\Forge</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/SQLite3/PreparedQuery.md">CodeIgniter\Database\SQLite3\PreparedQuery</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/SQLite3/Result.md">CodeIgniter\Database\SQLite3\Result</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/SQLite3/Table.md">CodeIgniter\Database\SQLite3\Table</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/SQLite3/Utils.md">CodeIgniter\Database\SQLite3\Utils</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/Seeder.md">CodeIgniter\Database\Seeder</a></td></tr>
</table>
</details>



 
 ## Uses

<table style="text-align:left;">
<tr>
<td>
<a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/Exceptions/DatabaseException.md"><strong>CodeIgniter\Database\Exceptions\DatabaseException</strong></a>
</td>
<td>DatabaseException</td>
</tr>
<tr>
<td>
<a href="../../../../../../api/vendor/codeigniter4/framework/system/Events/Events.md"><strong>CodeIgniter\Events\Events</strong></a>
</td>
<td>Events</td>
</tr>
</table>



 
## CodeIgniter\Database\BaseConnection

<table style="text-align:left">
<tr><th>Abstract</th><td>BaseConnection</td></tr>
<tr><th>Fully Qualified Name</th><td>CodeIgniter\Database\BaseConnection</td></tr>
<tr><th>Implements</th>
<td>
<a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/ConnectionInterface.md">CodeIgniter\Database\ConnectionInterface</a><br>
</td>
</tr>
</table>


<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Class BaseConnection
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>



### Summary


<table style="text-align:left;">
<tr>
<th>Name</th>
<th>Element</th>
<th>Modifier</th>
<th>Description</th>
</tr>

<tr>
<th><a href="#DSN"><strong>DSN</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>Data Source Name / Connect string</td>
</tr>
<tr>
<th><a href="#port"><strong>port</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>Database port</td>
</tr>
<tr>
<th><a href="#hostname"><strong>hostname</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>Hostname</td>
</tr>
<tr>
<th><a href="#username"><strong>username</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>Username</td>
</tr>
<tr>
<th><a href="#password"><strong>password</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>Password</td>
</tr>
<tr>
<th><a href="#database"><strong>database</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>Database name</td>
</tr>
<tr>
<th><a href="#DBDriver"><strong>DBDriver</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>Database driver</td>
</tr>
<tr>
<th><a href="#subdriver"><strong>subdriver</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>Sub-driver</td>
</tr>
<tr>
<th><a href="#DBPrefix"><strong>DBPrefix</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>Table prefix</td>
</tr>
<tr>
<th><a href="#pConnect"><strong>pConnect</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>Persistent connection flag</td>
</tr>
<tr>
<th><a href="#DBDebug"><strong>DBDebug</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>Debug flag</td>
</tr>
<tr>
<th><a href="#cacheOn"><strong>cacheOn</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>Should we cache results?</td>
</tr>
<tr>
<th><a href="#cacheDir"><strong>cacheDir</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>Path to store cache files.</td>
</tr>
<tr>
<th><a href="#charset"><strong>charset</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>Character set</td>
</tr>
<tr>
<th><a href="#DBCollat"><strong>DBCollat</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>Collation</td>
</tr>
<tr>
<th><a href="#swapPre"><strong>swapPre</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>Swap Prefix</td>
</tr>
<tr>
<th><a href="#encrypt"><strong>encrypt</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>Encryption flag/data</td>
</tr>
<tr>
<th><a href="#compress"><strong>compress</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>Compression flag</td>
</tr>
<tr>
<th><a href="#strictOn"><strong>strictOn</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>Strict ON flag</td>
</tr>
<tr>
<th><a href="#failover"><strong>failover</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>Settings for a failover connection.</td>
</tr>
<tr>
<th><a href="#lastQuery"><strong>lastQuery</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>The last query object that was executed
on this connection.</td>
</tr>
<tr>
<th><a href="#connID"><strong>connID</strong></a></th>
<td>prop</td>
<td>
public

</td>
<td>Connection ID</td>
</tr>
<tr>
<th><a href="#resultID"><strong>resultID</strong></a></th>
<td>prop</td>
<td>
public

</td>
<td>Result ID</td>
</tr>
<tr>
<th><a href="#protectIdentifiers"><strong>protectIdentifiers</strong></a></th>
<td>prop</td>
<td>
public

</td>
<td>Protect identifiers flag</td>
</tr>
<tr>
<th><a href="#reservedIdentifiers"><strong>reservedIdentifiers</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>List of reserved identifiers</td>
</tr>
<tr>
<th><a href="#escapeChar"><strong>escapeChar</strong></a></th>
<td>prop</td>
<td>
public

</td>
<td>Identifier escape character</td>
</tr>
<tr>
<th><a href="#likeEscapeStr"><strong>likeEscapeStr</strong></a></th>
<td>prop</td>
<td>
public

</td>
<td>ESCAPE statement string</td>
</tr>
<tr>
<th><a href="#likeEscapeChar"><strong>likeEscapeChar</strong></a></th>
<td>prop</td>
<td>
public

</td>
<td>ESCAPE character</td>
</tr>
<tr>
<th><a href="#dataCache"><strong>dataCache</strong></a></th>
<td>prop</td>
<td>
public

</td>
<td>Holds previously looked up data
for performance reasons.</td>
</tr>
<tr>
<th><a href="#connectTime"><strong>connectTime</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>Microtime when connection was made</td>
</tr>
<tr>
<th><a href="#connectDuration"><strong>connectDuration</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>How long it took to establish connection.</td>
</tr>
<tr>
<th><a href="#pretend"><strong>pretend</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>If true, no queries will actually be
ran against the database.</td>
</tr>
<tr>
<th><a href="#transEnabled"><strong>transEnabled</strong></a></th>
<td>prop</td>
<td>
public

</td>
<td>Transaction enabled flag</td>
</tr>
<tr>
<th><a href="#transStrict"><strong>transStrict</strong></a></th>
<td>prop</td>
<td>
public

</td>
<td>Strict transaction mode flag</td>
</tr>
<tr>
<th><a href="#transDepth"><strong>transDepth</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>Transaction depth level</td>
</tr>
<tr>
<th><a href="#transStatus"><strong>transStatus</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>Transaction status flag</td>
</tr>
<tr>
<th><a href="#transFailure"><strong>transFailure</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>Transaction failure flag</td>
</tr>
<tr>
<th><a href="#aliasedTables"><strong>aliasedTables</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>Array of table aliases.</td>
</tr>

<tr>
<th><a href="#__construct"><strong>__construct</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Saves our connection settings.</td>
</tr>
<tr>
<th><a href="#initialize"><strong>initialize</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Initializes the database connection/settings.</td>
</tr>
<tr>
<th><a href="#connect"><strong>connect</strong>()</a></th>
<td>method</td>
<td>
public<br>abstract

</td>
<td>Connect to the database.</td>
</tr>
<tr>
<th><a href="#close"><strong>close</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Close the database connection.</td>
</tr>
<tr>
<th><a href="#_close"><strong>_close</strong>()</a></th>
<td>method</td>
<td>
protected<br>abstract

</td>
<td>Platform dependent way method for closing the connection.</td>
</tr>
<tr>
<th><a href="#persistentConnect"><strong>persistentConnect</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Create a persistent database connection.</td>
</tr>
<tr>
<th><a href="#reconnect"><strong>reconnect</strong>()</a></th>
<td>method</td>
<td>
public<br>abstract

</td>
<td>Keep or establish the connection if no queries have been sent for
a length of time exceeding the server&#039;s idle timeout.</td>
</tr>
<tr>
<th><a href="#getConnection"><strong>getConnection</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Returns the actual connection object. If both a &#039;read&#039; and &#039;write&#039;
connection has been specified, you can pass either term in to
get that connection. If you pass either alias in and only a single
connection is present, it must return the sole connection.</td>
</tr>
<tr>
<th><a href="#setDatabase"><strong>setDatabase</strong>()</a></th>
<td>method</td>
<td>
public<br>abstract

</td>
<td>Select a specific database table to use.</td>
</tr>
<tr>
<th><a href="#getDatabase"><strong>getDatabase</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Returns the name of the current database being used.</td>
</tr>
<tr>
<th><a href="#setPrefix"><strong>setPrefix</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Set DB Prefix</td>
</tr>
<tr>
<th><a href="#getPrefix"><strong>getPrefix</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Returns the database prefix.</td>
</tr>
<tr>
<th><a href="#getPlatform"><strong>getPlatform</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>The name of the platform in use (MySQLi, mssql, etc)</td>
</tr>
<tr>
<th><a href="#getVersion"><strong>getVersion</strong>()</a></th>
<td>method</td>
<td>
public<br>abstract

</td>
<td>Returns a string containing the version of the database being used.</td>
</tr>
<tr>
<th><a href="#setAliasedTables"><strong>setAliasedTables</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Sets the Table Aliases to use. These are typically
collected during use of the Builder, and set here
so queries are built correctly.</td>
</tr>
<tr>
<th><a href="#addTableAlias"><strong>addTableAlias</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Add a table alias to our list.</td>
</tr>
<tr>
<th><a href="#execute"><strong>execute</strong>()</a></th>
<td>method</td>
<td>
protected<br>abstract

</td>
<td>Executes the query against the database.</td>
</tr>
<tr>
<th><a href="#query"><strong>query</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Orchestrates a query against the database. Queries must use
Database\Statement objects to store the query and build it.</td>
</tr>
<tr>
<th><a href="#simpleQuery"><strong>simpleQuery</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Performs a basic query against the database. No binding or caching
is performed, nor are transactions handled. Simply takes a raw
query string and returns the database-specific result id.</td>
</tr>
<tr>
<th><a href="#transOff"><strong>transOff</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Disable Transactions</td>
</tr>
<tr>
<th><a href="#transStrict"><strong>transStrict</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Enable/disable Transaction Strict Mode</td>
</tr>
<tr>
<th><a href="#transStart"><strong>transStart</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Start Transaction</td>
</tr>
<tr>
<th><a href="#transComplete"><strong>transComplete</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Complete Transaction</td>
</tr>
<tr>
<th><a href="#transStatus"><strong>transStatus</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Lets you retrieve the transaction flag to determine if it has failed</td>
</tr>
<tr>
<th><a href="#transBegin"><strong>transBegin</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Begin Transaction</td>
</tr>
<tr>
<th><a href="#transCommit"><strong>transCommit</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Commit Transaction</td>
</tr>
<tr>
<th><a href="#transRollback"><strong>transRollback</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Rollback Transaction</td>
</tr>
<tr>
<th><a href="#_transBegin"><strong>_transBegin</strong>()</a></th>
<td>method</td>
<td>
protected<br>abstract

</td>
<td>Begin Transaction</td>
</tr>
<tr>
<th><a href="#_transCommit"><strong>_transCommit</strong>()</a></th>
<td>method</td>
<td>
protected<br>abstract

</td>
<td>Commit Transaction</td>
</tr>
<tr>
<th><a href="#_transRollback"><strong>_transRollback</strong>()</a></th>
<td>method</td>
<td>
protected<br>abstract

</td>
<td>Rollback Transaction</td>
</tr>
<tr>
<th><a href="#table"><strong>table</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Returns an instance of the query builder for this connection.</td>
</tr>
<tr>
<th><a href="#prepare"><strong>prepare</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Creates a prepared statement with the database that can then
be used to execute multiple statements against. Within the
closure, you would build the query in any normal way, though
the Query Builder is the expected manner.</td>
</tr>
<tr>
<th><a href="#getLastQuery"><strong>getLastQuery</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Returns the last query&#039;s statement object.</td>
</tr>
<tr>
<th><a href="#showLastQuery"><strong>showLastQuery</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Returns a string representation of the last query&#039;s statement object.</td>
</tr>
<tr>
<th><a href="#getConnectStart"><strong>getConnectStart</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Returns the time we started to connect to this database in
seconds with microseconds.</td>
</tr>
<tr>
<th><a href="#getConnectDuration"><strong>getConnectDuration</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Returns the number of seconds with microseconds that it took
to connect to the database.</td>
</tr>
<tr>
<th><a href="#protectIdentifiers"><strong>protectIdentifiers</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Protect Identifiers</td>
</tr>
<tr>
<th><a href="#escapeIdentifiers"><strong>escapeIdentifiers</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Escape the SQL Identifiers</td>
</tr>
<tr>
<th><a href="#prefixTable"><strong>prefixTable</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>DB Prefix</td>
</tr>
<tr>
<th><a href="#affectedRows"><strong>affectedRows</strong>()</a></th>
<td>method</td>
<td>
public<br>abstract

</td>
<td>Returns the total number of rows affected by this query.</td>
</tr>
<tr>
<th><a href="#escape"><strong>escape</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>&quot;Smart&quot; Escape String</td>
</tr>
<tr>
<th><a href="#escapeString"><strong>escapeString</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Escape String</td>
</tr>
<tr>
<th><a href="#escapeLikeString"><strong>escapeLikeString</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Escape LIKE String</td>
</tr>
<tr>
<th><a href="#_escapeString"><strong>_escapeString</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>Platform independent string escape.</td>
</tr>
<tr>
<th><a href="#callFunction"><strong>callFunction</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>This function enables you to call PHP database functions that are not natively included
in CodeIgniter, in a platform independent manner.</td>
</tr>
<tr>
<th><a href="#listTables"><strong>listTables</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Returns an array of table names</td>
</tr>
<tr>
<th><a href="#tableExists"><strong>tableExists</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Determine if a particular table exists</td>
</tr>
<tr>
<th><a href="#getFieldNames"><strong>getFieldNames</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Fetch Field Names</td>
</tr>
<tr>
<th><a href="#fieldExists"><strong>fieldExists</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Determine if a particular field exists</td>
</tr>
<tr>
<th><a href="#getFieldData"><strong>getFieldData</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Returns an object with field data</td>
</tr>
<tr>
<th><a href="#getIndexData"><strong>getIndexData</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Returns an object with key data</td>
</tr>
<tr>
<th><a href="#getForeignKeyData"><strong>getForeignKeyData</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Returns an object with foreign key data</td>
</tr>
<tr>
<th><a href="#disableForeignKeyChecks"><strong>disableForeignKeyChecks</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Disables foreign key checks temporarily.</td>
</tr>
<tr>
<th><a href="#enableForeignKeyChecks"><strong>enableForeignKeyChecks</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Enables foreign key checks temporarily.</td>
</tr>
<tr>
<th><a href="#pretend"><strong>pretend</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Allows the engine to be set into a mode where queries are not
actually executed, but they are still generated, timed, etc.</td>
</tr>
<tr>
<th><a href="#resetDataCache"><strong>resetDataCache</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Empties our data cache. Especially helpful during testing.</td>
</tr>
<tr>
<th><a href="#error"><strong>error</strong>()</a></th>
<td>method</td>
<td>
public<br>abstract

</td>
<td>Returns the last error code and message.</td>
</tr>
<tr>
<th><a href="#insertID"><strong>insertID</strong>()</a></th>
<td>method</td>
<td>
public<br>abstract

</td>
<td>Insert ID</td>
</tr>
<tr>
<th><a href="#_listTables"><strong>_listTables</strong>()</a></th>
<td>method</td>
<td>
protected<br>abstract

</td>
<td>Generates the SQL for listing tables in a platform-dependent manner.</td>
</tr>
<tr>
<th><a href="#_listColumns"><strong>_listColumns</strong>()</a></th>
<td>method</td>
<td>
protected<br>abstract

</td>
<td>Generates a platform-specific query string so that the column names can be fetched.</td>
</tr>
<tr>
<th><a href="#_fieldData"><strong>_fieldData</strong>()</a></th>
<td>method</td>
<td>
protected<br>abstract

</td>
<td>Platform-specific field data information.</td>
</tr>
<tr>
<th><a href="#_indexData"><strong>_indexData</strong>()</a></th>
<td>method</td>
<td>
protected<br>abstract

</td>
<td>Platform-specific index data.</td>
</tr>
<tr>
<th><a href="#_foreignKeyData"><strong>_foreignKeyData</strong>()</a></th>
<td>method</td>
<td>
protected<br>abstract

</td>
<td>Platform-specific foreign keys data.</td>
</tr>
<tr>
<th><a href="#__get"><strong>__get</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Accessor for properties if they exist.</td>
</tr>
<tr>
<th><a href="#__isset"><strong>__isset</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Checker for properties existence.</td>
</tr>

</table>





### Properties


<hr>

#### $DSN

```php
protected $DSN;
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Data Source Name / Connect string
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>string
</td>
</tr>
</table>


<hr>

#### $port

```php
protected $port = '';
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Database port
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>int
</td>
</tr>
</table>


<hr>

#### $hostname

```php
protected $hostname;
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Hostname
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>string
</td>
</tr>
</table>


<hr>

#### $username

```php
protected $username;
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Username
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>string
</td>
</tr>
</table>


<hr>

#### $password

```php
protected $password;
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Password
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>string
</td>
</tr>
</table>


<hr>

#### $database

```php
protected $database;
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Database name
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>string
</td>
</tr>
</table>


<hr>

#### $DBDriver

```php
protected $DBDriver = 'MySQLi';
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Database driver
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>string
</td>
</tr>
</table>


<hr>

#### $subdriver

```php
protected $subdriver;
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Sub-driver
</td></tr>
</table>


</details>



<table style="text-align:left">
<tr style="vertical-align:top;">
<th>used-by</th>
<td>CI_DB_pdo_driver
</td>
</tr>
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>string
</td>
</tr>
</table>


<hr>

#### $DBPrefix

```php
protected $DBPrefix = '';
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Table prefix
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>string
</td>
</tr>
</table>


<hr>

#### $pConnect

```php
protected $pConnect = false;
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Persistent connection flag
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>bool
</td>
</tr>
</table>


<hr>

#### $DBDebug

```php
protected $DBDebug = false;
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Debug flag
</td></tr>
</table>

<table>
<tr><td>
Whether to display error messages.
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>bool
</td>
</tr>
</table>


<hr>

#### $cacheOn

```php
protected $cacheOn = false;
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Should we cache results?
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>bool
</td>
</tr>
</table>


<hr>

#### $cacheDir

```php
protected $cacheDir;
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Path to store cache files.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>string
</td>
</tr>
</table>


<hr>

#### $charset

```php
protected $charset = 'utf8';
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Character set
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>string
</td>
</tr>
</table>


<hr>

#### $DBCollat

```php
protected $DBCollat = 'utf8_general_ci';
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Collation
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>string
</td>
</tr>
</table>


<hr>

#### $swapPre

```php
protected $swapPre = '';
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Swap Prefix
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>string
</td>
</tr>
</table>


<hr>

#### $encrypt

```php
protected $encrypt = false;
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Encryption flag/data
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>mixed
</td>
</tr>
</table>


<hr>

#### $compress

```php
protected $compress = false;
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Compression flag
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>bool
</td>
</tr>
</table>


<hr>

#### $strictOn

```php
protected $strictOn;
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Strict ON flag
</td></tr>
</table>

<table>
<tr><td>
Whether we're running in strict SQL mode.
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>bool
</td>
</tr>
</table>


<hr>

#### $failover

```php
protected $failover = [];
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Settings for a failover connection.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>array
</td>
</tr>
</table>


<hr>

#### $lastQuery

```php
protected $lastQuery;
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
The last query object that was executed
on this connection.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>array
</td>
</tr>
</table>


<hr>

#### $connID

```php
public $connID = false;
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Connection ID
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>object<br>resource
</td>
</tr>
</table>


<hr>

#### $resultID

```php
public $resultID = false;
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Result ID
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>object<br>resource
</td>
</tr>
</table>


<hr>

#### $protectIdentifiers

```php
public $protectIdentifiers = true;
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Protect identifiers flag
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>bool
</td>
</tr>
</table>


<hr>

#### $reservedIdentifiers

```php
protected $reservedIdentifiers = ['*'];
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
List of reserved identifiers
</td></tr>
</table>

<table>
<tr><td>
Identifiers that must NOT be escaped.
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>array
</td>
</tr>
</table>


<hr>

#### $escapeChar

```php
public $escapeChar = '"';
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Identifier escape character
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>string
</td>
</tr>
</table>


<hr>

#### $likeEscapeStr

```php
public $likeEscapeStr = " ESCAPE '%s' ";
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
ESCAPE statement string
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>string
</td>
</tr>
</table>


<hr>

#### $likeEscapeChar

```php
public $likeEscapeChar = '!';
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
ESCAPE character
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>string
</td>
</tr>
</table>


<hr>

#### $dataCache

```php
public $dataCache = [];
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Holds previously looked up data
for performance reasons.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>array
</td>
</tr>
</table>


<hr>

#### $connectTime

```php
protected $connectTime;
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Microtime when connection was made
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>float
</td>
</tr>
</table>


<hr>

#### $connectDuration

```php
protected $connectDuration;
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
How long it took to establish connection.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>float
</td>
</tr>
</table>


<hr>

#### $pretend

```php
protected $pretend = false;
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
If true, no queries will actually be
ran against the database.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>bool
</td>
</tr>
</table>


<hr>

#### $transEnabled

```php
public $transEnabled = true;
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Transaction enabled flag
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>bool
</td>
</tr>
</table>


<hr>

#### $transStrict

```php
public $transStrict = true;
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Strict transaction mode flag
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>bool
</td>
</tr>
</table>


<hr>

#### $transDepth

```php
protected $transDepth = 0;
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Transaction depth level
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>int
</td>
</tr>
</table>


<hr>

#### $transStatus

```php
protected $transStatus = true;
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Transaction status flag
</td></tr>
</table>

<table>
<tr><td>
Used with transactions to determine if a rollback should occur.
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>bool
</td>
</tr>
</table>


<hr>

#### $transFailure

```php
protected $transFailure = false;
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Transaction failure flag
</td></tr>
</table>

<table>
<tr><td>
Used with transactions to determine if a transaction has failed.
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>bool
</td>
</tr>
</table>


<hr>

#### $aliasedTables

```php
protected $aliasedTables = [];
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Array of table aliases.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>array
</td>
</tr>
</table>







### Methods


<hr>

#### __construct()

```php
public function __construct(array $params)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Saves our connection settings.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$params</code></td>
<td><em>array
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>








<details>
<summary><small>Source: 10 lines (340 - 349)</small></summary>

```php
public function __construct(array $params)
{
	foreach ($params as $key => $value)
	{
		if (property_exists($this, $key))
		{
			$this->$key = $value;
		}
	}
}
```

</details>


<hr>

#### initialize()

```php
public function initialize()
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Initializes the database connection/settings.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>





<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>mixed<br>void
</td>
</tr>
</table>


<table>
<tr>
<th style="vertical-align:top;">throw</th>
<td>\CodeIgniter\Database\Exceptions\DatabaseException
</td>
</tr>
</table>



<details>
<summary><small>Source: 72 lines (359 - 430)</small></summary>

```php
public function initialize()
{
	/* If an established connection is available, then there's
	 * no need to connect and select the database.
	 *
	 * Depending on the database driver, conn_id can be either
	 * boolean TRUE, a resource or an object.
	 */
	if ($this->connID)
	{
		return;
	}

	//--------------------------------------------------------------------

	$this->connectTime = microtime(true);

	try
	{
		// Connect to the database and set the connection ID
		$this->connID = $this->connect($this->pConnect);
	}
	catch (\Throwable $e)
	{
		log_message('error', 'Error connecting to the database: ' . $e->getMessage());
	}

	// No connection resource? Check if there is a failover else throw an error
	if (! $this->connID)
	{
		// Check if there is a failover set
		if (! empty($this->failover) && is_array($this->failover))
		{
			// Go over all the failovers
			foreach ($this->failover as $failover)
			{
				// Replace the current settings with those of the failover
				foreach ($failover as $key => $val)
				{
					if (property_exists($this, $key))
					{
						$this->$key = $val;
					}
				}

				try
				{
					// Try to connect
					$this->connID = $this->connect($this->pConnect);
				}
				catch (\Throwable $e)
				{
					log_message('error', 'Error connecting to the database: ' . $e->getMessage());
				}

				// If a connection is made break the foreach loop
				if ($this->connID)
				{
					break;
				}
			}
		}

		// We still don't have a connection?
		if (! $this->connID)
		{
			throw new DatabaseException('Unable to connect to the database.');
		}
	}

	$this->connectDuration = microtime(true) - $this->connectTime;
}
```

</details>


<hr>

#### connect()

```php
public abstract function connect(bool $persistent = false)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Connect to the database.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$persistent</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>mixed
</td>
</tr>
</table>





<details>
<summary><small>Source: line 440</small></summary>

```php
abstract public function connect(bool $persistent = false);
```

</details>


<hr>

#### close()

```php
public function close()
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Close the database connection.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>





<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>void
</td>
</tr>
</table>





<details>
<summary><small>Source: 8 lines (449 - 456)</small></summary>

```php
public function close()
{
	if ($this->connID)
	{
		$this->_close();
		$this->connID = false;
	}
}
```

</details>


<hr>

#### _close()

```php
protected abstract function _close()
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Platform dependent way method for closing the connection.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>





<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>mixed
</td>
</tr>
</table>





<details>
<summary><small>Source: line 465</small></summary>

```php
abstract protected function _close();
```

</details>


<hr>

#### persistentConnect()

```php
public function persistentConnect()
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Create a persistent database connection.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>





<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>mixed
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (474 - 477)</small></summary>

```php
public function persistentConnect()
{
	return $this->connect(true);
}
```

</details>


<hr>

#### reconnect()

```php
public abstract function reconnect()
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Keep or establish the connection if no queries have been sent for
a length of time exceeding the server's idle timeout.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>





<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>mixed
</td>
</tr>
</table>





<details>
<summary><small>Source: line 487</small></summary>

```php
abstract public function reconnect();
```

</details>


<hr>

#### getConnection()

```php
public function getConnection(string $alias = null)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Returns the actual connection object. If both a 'read' and 'write'
connection has been specified, you can pass either term in to
get that connection. If you pass either alias in and only a single
connection is present, it must return the sole connection.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$alias</code></td>
<td><em>string<br>null
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>mixed
</td>
</tr>
</table>





<details>
<summary><small>Source: 5 lines (501 - 505)</small></summary>

```php
public function getConnection(string $alias = null)
{
	//@todo work with read/write connections
	return $this->connID;
}
```

</details>


<hr>

#### setDatabase()

```php
public abstract function setDatabase(string $databaseName)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Select a specific database table to use.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$databaseName</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>mixed
</td>
</tr>
</table>





<details>
<summary><small>Source: line 516</small></summary>

```php
abstract public function setDatabase(string $databaseName);
```

</details>


<hr>

#### getDatabase()

```php
public function getDatabase() : string
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Returns the name of the current database being used.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>





<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>string
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (525 - 528)</small></summary>

```php
public function getDatabase(): string
{
	return empty($this->database) ? '' : $this->database;
}
```

</details>


<hr>

#### setPrefix()

```php
public function setPrefix(string $prefix = '') : string
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Set DB Prefix
</td></tr>
</table>

<table>
<tr><td>
Set's the DB Prefix to something new without needing to reconnect
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$prefix</code></td>
<td><em>string
</em></td>
<td>false</td>
<td>The prefix</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>string
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (541 - 544)</small></summary>

```php
public function setPrefix(string $prefix = ''): string
{
	return $this->DBPrefix = $prefix;
}
```

</details>


<hr>

#### getPrefix()

```php
public function getPrefix() : string
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Returns the database prefix.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>





<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>string
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (553 - 556)</small></summary>

```php
public function getPrefix(): string
{
	return $this->DBPrefix;
}
```

</details>


<hr>

#### getPlatform()

```php
public function getPlatform() : string
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
The name of the platform in use (MySQLi, mssql, etc)
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>





<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>string
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (565 - 568)</small></summary>

```php
public function getPlatform(): string
{
	return $this->DBDriver;
}
```

</details>


<hr>

#### getVersion()

```php
public abstract function getVersion() : string
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Returns a string containing the version of the database being used.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>





<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>string
</td>
</tr>
</table>





<details>
<summary><small>Source: line 577</small></summary>

```php
abstract public function getVersion(): string;
```

</details>


<hr>

#### setAliasedTables()

```php
public function setAliasedTables(array $aliases)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Sets the Table Aliases to use. These are typically
collected during use of the Builder, and set here
so queries are built correctly.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$aliases</code></td>
<td><em>array
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>$this
</td>
</tr>
</table>





<details>
<summary><small>Source: 6 lines (590 - 595)</small></summary>

```php
public function setAliasedTables(array $aliases)
{
	$this->aliasedTables = $aliases;

	return $this;
}
```

</details>


<hr>

#### addTableAlias()

```php
public function addTableAlias(string $table)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Add a table alias to our list.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$table</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>$this
</td>
</tr>
</table>





<details>
<summary><small>Source: 9 lines (606 - 614)</small></summary>

```php
public function addTableAlias(string $table)
{
	if (! in_array($table, $this->aliasedTables))
	{
		$this->aliasedTables[] = $table;
	}

	return $this;
}
```

</details>


<hr>

#### execute()

```php
protected abstract function execute(string $sql)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Executes the query against the database.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$sql</code></td>
<td><em>
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>mixed
</td>
</tr>
</table>





<details>
<summary><small>Source: line 623</small></summary>

```php
abstract protected function execute(string $sql);
```

</details>


<hr>

#### query()

```php
public function query(string $sql, $binds = null, bool $setEscapeFlags = true, string $queryClass = 'CodeIgniter\\Database\\Query')
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Orchestrates a query against the database. Queries must use
Database\Statement objects to store the query and build it.
</td></tr>
</table>

<table>
<tr><td>
This method works with the cache.

Should automatically handle different connections for read/write
queries if needed.
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$sql</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$binds</code></td>
<td><em>mixed
</em></td>
<td>true</td>
<td></td>
</tr>

<tr>
<td>3.</td>
<td><code>$setEscapeFlags</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>4.</td>
<td><code>$queryClass</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\BaseResult<br>\Query<br>false
</td>
</tr>
</table>





<details>
<summary><small>Source: 80 lines (642 - 721)</small></summary>

```php
public function query(string $sql, $binds = null, bool $setEscapeFlags = true, string $queryClass = 'CodeIgniter\\Database\\Query')
{
	if (empty($this->connID))
	{
		$this->initialize();
	}

	$resultClass = str_replace('Connection', 'Result', get_class($this));
	/**
	 * @var Query $query
	 */
	$query = new $queryClass($this);

	$query->setQuery($sql, $binds, $setEscapeFlags);

	if (! empty($this->swapPre) && ! empty($this->DBPrefix))
	{
		$query->swapPrefix($this->DBPrefix, $this->swapPre);
	}

	$startTime = microtime(true);

	// Always save the last query so we can use
	// the getLastQuery() method.
	$this->lastQuery = $query;

	// Run the query for real
	if (! $this->pretend && false === ($this->resultID = $this->simpleQuery($query->getQuery())))
	{
		$query->setDuration($startTime, $startTime);

		// This will trigger a rollback if transactions are being used
		if ($this->transDepth !== 0)
		{
			$this->transStatus = false;
		}

		if ($this->DBDebug)
		{
			// We call this function in order to roll-back queries
			// if transactions are enabled. If we don't call this here
			// the error message will trigger an exit, causing the
			// transactions to remain in limbo.
			while ($this->transDepth !== 0)
			{
				$transDepth = $this->transDepth;
				$this->transComplete();

				if ($transDepth === $this->transDepth)
				{
					log_message('error', 'Database: Failure during an automated transaction commit/rollback!');
					break;
				}
			}

			return false;
		}

		if (! $this->pretend)
		{
			// Let others do something with this query.
			Events::trigger('DBQuery', $query);
		}

		return new $resultClass($this->connID, $this->resultID);
	}

	$query->setDuration($startTime);

	if (! $this->pretend)
	{
		// Let others do something with this query
		Events::trigger('DBQuery', $query);
	}

	// If $pretend is true, then we just want to return
	// the actual query object here. There won't be
	// any results to return.
	return $this->pretend ? $query : new $resultClass($this->connID, $this->resultID);
}
```

</details>


<hr>

#### simpleQuery()

```php
public function simpleQuery(string $sql)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Performs a basic query against the database. No binding or caching
is performed, nor are transactions handled. Simply takes a raw
query string and returns the database-specific result id.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$sql</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>mixed
</td>
</tr>
</table>





<details>
<summary><small>Source: 9 lines (734 - 742)</small></summary>

```php
public function simpleQuery(string $sql)
{
	if (empty($this->connID))
	{
		$this->initialize();
	}

	return $this->execute($sql);
}
```

</details>


<hr>

#### transOff()

```php
public function transOff()
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Disable Transactions
</td></tr>
</table>

<table>
<tr><td>
This permits transactions to be disabled at run-time.
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>





<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>void
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (753 - 756)</small></summary>

```php
public function transOff()
{
	$this->transEnabled = false;
}
```

</details>


<hr>

#### transStrict()

```php
public function transStrict(bool $mode = true)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Enable/disable Transaction Strict Mode
</td></tr>
</table>

<table>
<tr><td>
When strict mode is enabled, if you are running multiple groups of
transactions, if one group fails all subsequent groups will be
rolled back.

If strict mode is disabled, each group is treated autonomously,
meaning a failure of one group will not affect any others
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$mode</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td>= true</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>$this
</td>
</tr>
</table>





<details>
<summary><small>Source: 6 lines (774 - 779)</small></summary>

```php
public function transStrict(bool $mode = true)
{
	$this->transStrict = $mode;

	return $this;
}
```

</details>


<hr>

#### transStart()

```php
public function transStart(bool $test_mode = false) : bool
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Start Transaction
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$test_mode</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td>= FALSE</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>bool
</td>
</tr>
</table>





<details>
<summary><small>Source: 9 lines (789 - 797)</small></summary>

```php
public function transStart(bool $test_mode = false): bool
{
	if (! $this->transEnabled)
	{
		return false;
	}

	return $this->transBegin($test_mode);
}
```

</details>


<hr>

#### transComplete()

```php
public function transComplete() : bool
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Complete Transaction
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>





<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>bool
</td>
</tr>
</table>





<details>
<summary><small>Source: 26 lines (806 - 831)</small></summary>

```php
public function transComplete(): bool
{
	if (! $this->transEnabled)
	{
		return false;
	}

	// The query() function will set this flag to FALSE in the event that a query failed
	if ($this->transStatus === false || $this->transFailure === true)
	{
		$this->transRollback();

		// If we are NOT running in strict mode, we will reset
		// the _trans_status flag so that subsequent groups of
		// transactions will be permitted.
		if ($this->transStrict === false)
		{
			$this->transStatus = true;
		}

		//            log_message('debug', 'DB Transaction Failure');
		return false;
	}

	return $this->transCommit();
}
```

</details>


<hr>

#### transStatus()

```php
public function transStatus() : bool
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Lets you retrieve the transaction flag to determine if it has failed
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>





<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>bool
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (840 - 843)</small></summary>

```php
public function transStatus(): bool
{
	return $this->transStatus;
}
```

</details>


<hr>

#### transBegin()

```php
public function transBegin(bool $test_mode = false) : bool
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Begin Transaction
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$test_mode</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>bool
</td>
</tr>
</table>





<details>
<summary><small>Source: 31 lines (853 - 883)</small></summary>

```php
public function transBegin(bool $test_mode = false): bool
{
	if (! $this->transEnabled)
	{
		return false;
	}
	// When transactions are nested we only begin/commit/rollback the outermost ones
	elseif ($this->transDepth > 0)
	{
		$this->transDepth ++;
		return true;
	}

	if (empty($this->connID))
	{
		$this->initialize();
	}

	// Reset the transaction failure flag.
	// If the $test_mode flag is set to TRUE transactions will be rolled back
	// even if the queries produce a successful result.
	$this->transFailure = ($test_mode === true);

	if ($this->_transBegin())
	{
		$this->transDepth ++;
		return true;
	}

	return false;
}
```

</details>


<hr>

#### transCommit()

```php
public function transCommit() : bool
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Commit Transaction
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>





<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>bool
</td>
</tr>
</table>





<details>
<summary><small>Source: 15 lines (892 - 906)</small></summary>

```php
public function transCommit(): bool
{
	if (! $this->transEnabled || $this->transDepth === 0)
	{
		return false;
	}
	// When transactions are nested we only begin/commit/rollback the outermost ones
	elseif ($this->transDepth > 1 || $this->_transCommit())
	{
		$this->transDepth --;
		return true;
	}

	return false;
}
```

</details>


<hr>

#### transRollback()

```php
public function transRollback() : bool
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Rollback Transaction
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>





<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>bool
</td>
</tr>
</table>





<details>
<summary><small>Source: 15 lines (915 - 929)</small></summary>

```php
public function transRollback(): bool
{
	if (! $this->transEnabled || $this->transDepth === 0)
	{
		return false;
	}
	// When transactions are nested we only begin/commit/rollback the outermost ones
	elseif ($this->transDepth > 1 || $this->_transRollback())
	{
		$this->transDepth --;
		return true;
	}

	return false;
}
```

</details>


<hr>

#### _transBegin()

```php
protected abstract function _transBegin() : bool
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Begin Transaction
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>





<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>bool
</td>
</tr>
</table>





<details>
<summary><small>Source: line 938</small></summary>

```php
abstract protected function _transBegin(): bool;
```

</details>


<hr>

#### _transCommit()

```php
protected abstract function _transCommit() : bool
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Commit Transaction
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>





<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>bool
</td>
</tr>
</table>





<details>
<summary><small>Source: line 947</small></summary>

```php
abstract protected function _transCommit(): bool;
```

</details>


<hr>

#### _transRollback()

```php
protected abstract function _transRollback() : bool
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Rollback Transaction
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>





<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>bool
</td>
</tr>
</table>





<details>
<summary><small>Source: line 956</small></summary>

```php
abstract protected function _transRollback(): bool;
```

</details>


<hr>

#### table()

```php
public function table($tableName)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Returns an instance of the query builder for this connection.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$tableName</code></td>
<td><em>string<br>array
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\BaseBuilder
</td>
</tr>
</table>


<table>
<tr>
<th style="vertical-align:top;">throw</th>
<td>\DatabaseException
</td>
</tr>
</table>



<details>
<summary><small>Source: 11 lines (968 - 978)</small></summary>

```php
public function table($tableName)
{
	if (empty($tableName))
	{
		throw new DatabaseException('You must set the database table to be used with your query.');
	}

	$className = str_replace('Connection', 'Builder', get_class($this));

	return new $className($tableName, $this);
}
```

</details>


<hr>

#### prepare()

```php
public function prepare(\Closure $func, array $options = array())
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Creates a prepared statement with the database that can then
be used to execute multiple statements against. Within the
closure, you would build the query in any normal way, though
the Query Builder is the expected manner.
</td></tr>
</table>

<table>
<tr><td>
Example:
$stmt = $db->prepare(function($db)
       {
         return $db->table('users')
               ->where('id', 1)
                 ->get();
       })
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$func</code></td>
<td><em>\Closure
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$options</code></td>
<td><em>array
</em></td>
<td>false</td>
<td>Passed to the prepare() method</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\BasePreparedQuery<br>null
</td>
</tr>
</table>





<details>
<summary><small>Source: 26 lines (1001 - 1026)</small></summary>

```php
public function prepare(\Closure $func, array $options = [])
{
	if (empty($this->connID))
	{
		$this->initialize();
	}

	$this->pretend();

	$sql = $func($this);

	$this->pretend(false);

	if ($sql instanceof QueryInterface)
	{
		$sql = $sql->getOriginalQuery();
	}

	$class = str_ireplace('Connection', 'PreparedQuery', get_class($this));
	/**
	 * @var BasePreparedQuery $class
	 */
	$class = new $class($this);

	return $class->prepare($sql, $options);
}
```

</details>


<hr>

#### getLastQuery()

```php
public function getLastQuery()
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Returns the last query's statement object.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>





<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>mixed
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (1035 - 1038)</small></summary>

```php
public function getLastQuery()
{
	return $this->lastQuery;
}
```

</details>


<hr>

#### showLastQuery()

```php
public function showLastQuery() : string
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Returns a string representation of the last query's statement object.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>





<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>string
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (1047 - 1050)</small></summary>

```php
public function showLastQuery(): string
{
	return (string) $this->lastQuery;
}
```

</details>


<hr>

#### getConnectStart()

```php
public function getConnectStart() : ?float
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Returns the time we started to connect to this database in
seconds with microseconds.
</td></tr>
</table>

<table>
<tr><td>
Used by the Debug Toolbar's timeline.
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>





<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>float<br>null
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (1062 - 1065)</small></summary>

```php
public function getConnectStart(): ?float
{
	return $this->connectTime;
}
```

</details>


<hr>

#### getConnectDuration()

```php
public function getConnectDuration(int $decimals = 6) : string
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Returns the number of seconds with microseconds that it took
to connect to the database.
</td></tr>
</table>

<table>
<tr><td>
Used by the Debug Toolbar's timeline.
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$decimals</code></td>
<td><em>int
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>string
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (1079 - 1082)</small></summary>

```php
public function getConnectDuration(int $decimals = 6): string
{
	return number_format($this->connectDuration, $decimals);
}
```

</details>


<hr>

#### protectIdentifiers()

```php
public function protectIdentifiers($item, bool $prefixSingle = false, bool $protectIdentifiers = null, bool $fieldExists = true)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Protect Identifiers
</td></tr>
</table>

<table>
<tr><td>
This function is used extensively by the Query Builder class, and by
a couple functions in this class.
It takes a column or table name (optionally with an alias) and inserts
the table prefix onto it. Some logic is necessary in order to deal with
column names that include the path. Consider a query like this:

SELECT hostname.database.table.column AS c FROM hostname.database.table

Or a query with aliasing:

SELECT m.member_id, m.member_name FROM members AS m

Since the column name can include up to four segments (host, DB, table, column)
or also have an alias prefix, we need to do a bit of work to figure this out and
insert the table prefix (if it exists) in the proper position, and escape only
the correct identifiers.
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$item</code></td>
<td><em>string<br>array
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$prefixSingle</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>3.</td>
<td><code>$protectIdentifiers</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>4.</td>
<td><code>$fieldExists</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>string<br>array
</td>
</tr>
</table>





<details>
<summary><small>Source: 161 lines (1113 - 1273)</small></summary>

```php
public function protectIdentifiers($item, bool $prefixSingle = false, bool $protectIdentifiers = null, bool $fieldExists = true)
{
	if (! is_bool($protectIdentifiers))
	{
		$protectIdentifiers = $this->protectIdentifiers;
	}

	if (is_array($item))
	{
		$escaped_array = [];
		foreach ($item as $k => $v)
		{
			$escaped_array[$this->protectIdentifiers($k)] = $this->protectIdentifiers($v, $prefixSingle, $protectIdentifiers, $fieldExists);
		}

		return $escaped_array;
	}

	// This is basically a bug fix for queries that use MAX, MIN, etc.
	// If a parenthesis is found we know that we do not need to
	// escape the data or add a prefix. There's probably a more graceful
	// way to deal with this, but I'm not thinking of it
	//
	// Added exception for single quotes as well, we don't want to alter
	// literal strings.
	if (strcspn($item, "()'") !== strlen($item))
	{
		return $item;
	}

	// Convert tabs or multiple spaces into single spaces
	$item = preg_replace('/\s+/', ' ', trim($item));

	// If the item has an alias declaration we remove it and set it aside.
	// Note: strripos() is used in order to support spaces in table names
	if ($offset = strripos($item, ' AS '))
	{
		$alias = ($protectIdentifiers) ? substr($item, $offset, 4) . $this->escapeIdentifiers(substr($item, $offset + 4)) : substr($item, $offset);
		$item  = substr($item, 0, $offset);
	}
	elseif ($offset = strrpos($item, ' '))
	{
		$alias = ($protectIdentifiers) ? ' ' . $this->escapeIdentifiers(substr($item, $offset + 1)) : substr($item, $offset);
		$item  = substr($item, 0, $offset);
	}
	else
	{
		$alias = '';
	}

	// Break the string apart if it contains periods, then insert the table prefix
	// in the correct location, assuming the period doesn't indicate that we're dealing
	// with an alias. While we're at it, we will escape the components
	if (strpos($item, '.') !== false)
	{
		$parts = explode('.', $item);

		// Does the first segment of the exploded item match
		// one of the aliases previously identified? If so,
		// we have nothing more to do other than escape the item
		//
		// NOTE: The ! empty() condition prevents this method
		//       from breaking when QB isn't enabled.
		if (! empty($this->aliasedTables) && in_array($parts[0], $this->aliasedTables))
		{
			if ($protectIdentifiers === true)
			{
				foreach ($parts as $key => $val)
				{
					if (! in_array($val, $this->reservedIdentifiers))
					{
						$parts[$key] = $this->escapeIdentifiers($val);
					}
				}

				$item = implode('.', $parts);
			}

			return $item . $alias;
		}

		// Is there a table prefix defined in the config file? If not, no need to do anything
		if ($this->DBPrefix !== '')
		{
			// We now add the table prefix based on some logic.
			// Do we have 4 segments (hostname.database.table.column)?
			// If so, we add the table prefix to the column name in the 3rd segment.
			if (isset($parts[3]))
			{
				$i = 2;
			}
			// Do we have 3 segments (database.table.column)?
			// If so, we add the table prefix to the column name in 2nd position
			elseif (isset($parts[2]))
			{
				$i = 1;
			}
			// Do we have 2 segments (table.column)?
			// If so, we add the table prefix to the column name in 1st segment
			else
			{
				$i = 0;
			}

			// This flag is set when the supplied $item does not contain a field name.
			// This can happen when this function is being called from a JOIN.
			if ($fieldExists === false)
			{
				$i++;
			}

			// Verify table prefix and replace if necessary
			if ($this->swapPre !== '' && strpos($parts[$i], $this->swapPre) === 0)
			{
				$parts[$i] = preg_replace('/^' . $this->swapPre . '(\S+?)/', $this->DBPrefix . '\\1', $parts[$i]);
			}
			// We only add the table prefix if it does not already exist
			elseif (strpos($parts[$i], $this->DBPrefix) !== 0)
			{
				$parts[$i] = $this->DBPrefix . $parts[$i];
			}

			// Put the parts back together
			$item = implode('.', $parts);
		}

		if ($protectIdentifiers === true)
		{
			$item = $this->escapeIdentifiers($item);
		}

		return $item . $alias;
	}

	// In some cases, especially 'from', we end up running through
	// protect_identifiers twice. This algorithm won't work when
	// it contains the escapeChar so strip it out.
	$item = trim($item, $this->escapeChar);

	// Is there a table prefix? If not, no need to insert it
	if ($this->DBPrefix !== '')
	{
		// Verify table prefix and replace if necessary
		if ($this->swapPre !== '' && strpos($item, $this->swapPre) === 0)
		{
			$item = preg_replace('/^' . $this->swapPre . '(\S+?)/', $this->DBPrefix . '\\1', $item);
		}
		// Do we prefix an item with no segments?
		elseif ($prefixSingle === true && strpos($item, $this->DBPrefix) !== 0)
		{
			$item = $this->DBPrefix . $item;
		}
	}

	if ($protectIdentifiers === true && ! in_array($item, $this->reservedIdentifiers))
	{
		$item = $this->escapeIdentifiers($item);
	}

	return $item . $alias;
}
```

</details>


<hr>

#### escapeIdentifiers()

```php
public function escapeIdentifiers($item)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Escape the SQL Identifiers
</td></tr>
</table>

<table>
<tr><td>
This function escapes column and table names
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$item</code></td>
<td><em>mixed
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>mixed
</td>
</tr>
</table>





<details>
<summary><small>Source: 53 lines (1286 - 1338)</small></summary>

```php
public function escapeIdentifiers($item)
{
	if ($this->escapeChar === '' || empty($item) || in_array($item, $this->reservedIdentifiers))
	{
		return $item;
	}
	elseif (is_array($item))
	{
		foreach ($item as $key => $value)
		{
			$item[$key] = $this->escapeIdentifiers($value);
		}

		return $item;
	}
	// Avoid breaking functions and literal values inside queries
	elseif (ctype_digit($item) || $item[0] === "'" || ( $this->escapeChar !== '"' && $item[0] === '"') ||
			strpos($item, '(') !== false
	)
	{
		return $item;
	}

	static $preg_ec = [];

	if (empty($preg_ec))
	{
		if (is_array($this->escapeChar))
		{
			$preg_ec = [
				preg_quote($this->escapeChar[0], '/'),
				preg_quote($this->escapeChar[1], '/'),
				$this->escapeChar[0],
				$this->escapeChar[1],
			];
		}
		else
		{
			$preg_ec[0] = $preg_ec[1] = preg_quote($this->escapeChar, '/');
			$preg_ec[2] = $preg_ec[3] = $this->escapeChar;
		}
	}

	foreach ($this->reservedIdentifiers as $id)
	{
		if (strpos($item, '.' . $id) !== false)
		{
			return preg_replace('/' . $preg_ec[0] . '?([^' . $preg_ec[1] . '\.]+)' . $preg_ec[1] . '?\./i', $preg_ec[2] . '$1' . $preg_ec[3] . '.', $item);
		}
	}

	return preg_replace('/' . $preg_ec[0] . '?([^' . $preg_ec[1] . '\.]+)' . $preg_ec[1] . '?(\.)?/i', $preg_ec[2] . '$1' . $preg_ec[3] . '$2', $item);
}
```

</details>


<hr>

#### prefixTable()

```php
public function prefixTable(string $table = '') : string
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
DB Prefix
</td></tr>
</table>

<table>
<tr><td>
Prepends a database prefix if one exists in configuration
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$table</code></td>
<td><em>string
</em></td>
<td>false</td>
<td>the table</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>string
</td>
</tr>
</table>


<table>
<tr>
<th style="vertical-align:top;">throw</th>
<td>\CodeIgniter\Database\Exceptions\DatabaseException
</td>
</tr>
</table>



<details>
<summary><small>Source: 9 lines (1352 - 1360)</small></summary>

```php
public function prefixTable(string $table = ''): string
{
	if ($table === '')
	{
		throw new DatabaseException('A table name is required for that operation.');
	}

	return $this->DBPrefix . $table;
}
```

</details>


<hr>

#### affectedRows()

```php
public abstract function affectedRows() : int
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Returns the total number of rows affected by this query.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>





<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>mixed
</td>
</tr>
</table>





<details>
<summary><small>Source: line 1369</small></summary>

```php
abstract public function affectedRows(): int;
```

</details>


<hr>

#### escape()

```php
public function escape($str)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
"Smart" Escape String
</td></tr>
</table>

<table>
<tr><td>
Escapes data based on type.
Sets boolean and null types
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$str</code></td>
<td><em>mixed
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>mixed
</td>
</tr>
</table>





<details>
<summary><small>Source: 25 lines (1383 - 1407)</small></summary>

```php
public function escape($str)
{
	if (is_array($str))
	{
		return array_map([&$this, 'escape'], $str);
	}
	else if (is_string($str) || ( is_object($str) && method_exists($str, '__toString')))
	{
		return "'" . $this->escapeString($str) . "'";
	}
	else if (is_bool($str))
	{
		return ($str === false) ? 0 : 1;
	}
	else if (is_numeric($str) && $str < 0)
	{
		return "'{$str}'";
	}
	else if ($str === null)
	{
		return 'NULL';
	}

	return $str;
}
```

</details>


<hr>

#### escapeString()

```php
public function escapeString($str, bool $like = false)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Escape String
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$str</code></td>
<td><em>string<br>string[]
</em></td>
<td>false</td>
<td>Input string</td>
</tr>

<tr>
<td>2.</td>
<td><code>$like</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td>Whether or not the string will be used in a LIKE condition</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>string<br>string[]
</td>
</tr>
</table>





<details>
<summary><small>Source: 31 lines (1418 - 1448)</small></summary>

```php
public function escapeString($str, bool $like = false)
{
	if (is_array($str))
	{
		foreach ($str as $key => $val)
		{
			$str[$key] = $this->escapeString($val, $like);
		}

		return $str;
	}

	$str = $this->_escapeString($str);

	// escape LIKE condition wildcards
	if ($like === true)
	{
		return str_replace([
			$this->likeEscapeChar,
			'%',
			'_',
		], [
			$this->likeEscapeChar . $this->likeEscapeChar,
			$this->likeEscapeChar . '%',
			$this->likeEscapeChar . '_',
		], $str
		);
	}

	return $str;
}
```

</details>


<hr>

#### escapeLikeString()

```php
public function escapeLikeString($str)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Escape LIKE String
</td></tr>
</table>

<table>
<tr><td>
Calls the individual driver for platform
specific escaping for LIKE conditions
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$</code></td>
<td><em>string<br>string[]
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>string<br>string[]
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (1461 - 1464)</small></summary>

```php
public function escapeLikeString($str)
{
	return $this->escapeString($str, true);
}
```

</details>


<hr>

#### _escapeString()

```php
protected function _escapeString(string $str) : string
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Platform independent string escape.
</td></tr>
</table>

<table>
<tr><td>
Will likely be overridden in child classes.
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$str</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>string
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (1477 - 1480)</small></summary>

```php
protected function _escapeString(string $str): string
{
	return str_replace("'", "''", remove_invisible_characters($str, false));
}
```

</details>


<hr>

#### callFunction()

```php
public function callFunction(string $functionName, ...$params) : bool
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
This function enables you to call PHP database functions that are not natively included
in CodeIgniter, in a platform independent manner.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$functionName</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$params</code></td>
<td><em>array
</em></td>
<td>true</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>bool
</td>
</tr>
</table>


<table>
<tr>
<th style="vertical-align:top;">throw</th>
<td>\DatabaseException
</td>
</tr>
</table>



<details>
<summary><small>Source: 21 lines (1494 - 1514)</small></summary>

```php
public function callFunction(string $functionName, ...$params): bool
{
	$driver = ($this->DBDriver === 'postgre' ? 'pg' : strtolower($this->DBDriver)) . '_';

	if (false === strpos($driver, $functionName))
	{
		$functionName = $driver . $functionName;
	}

	if (! function_exists($functionName))
	{
		if ($this->DBDebug)
		{
			throw new DatabaseException('This feature is not available for the database you are using.');
		}

		return false;
	}

	return $functionName(...$params);
}
```

</details>


<hr>

#### listTables()

```php
public function listTables(bool $constrainByPrefix = false)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Returns an array of table names
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$constrainByPrefix</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td>= FALSE</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>bool<br>array
</td>
</tr>
</table>


<table>
<tr>
<th style="vertical-align:top;">throw</th>
<td>\CodeIgniter\Database\Exceptions\DatabaseException
</td>
</tr>
</table>



<details>
<summary><small>Source: 52 lines (1528 - 1579)</small></summary>

```php
public function listTables(bool $constrainByPrefix = false)
{
	// Is there a cached result?
	if (isset($this->dataCache['table_names']) && $this->dataCache['table_names'])
	{
		return $constrainByPrefix ?
			preg_grep("/^{$this->DBPrefix}/", $this->dataCache['table_names'])
			: $this->dataCache['table_names'];
	}

	if (false === ($sql = $this->_listTables($constrainByPrefix)))
	{
		if ($this->DBDebug)
		{
			throw new DatabaseException('This feature is not available for the database you are using.');
		}
		return false;
	}

	$this->dataCache['table_names'] = [];
	$query                          = $this->query($sql);

	foreach ($query->getResultArray() as $row)
	{
		// Do we know from which column to get the table name?
		if (! isset($key))
		{
			if (isset($row['table_name']))
			{
				$key = 'table_name';
			}
			elseif (isset($row['TABLE_NAME']))
			{
				$key = 'TABLE_NAME';
			}
			else
			{
				/* We have no other choice but to just get the first element's key.
				 * Due to array_shift() accepting its argument by reference, if
				 * E_STRICT is on, this would trigger a warning. So we'll have to
				 * assign it first.
				 */
				$key = array_keys($row);
				$key = array_shift($key);
			}
		}

		$this->dataCache['table_names'][] = $row[$key];
	}

	return $this->dataCache['table_names'];
}
```

</details>


<hr>

#### tableExists()

```php
public function tableExists(string $tableName) : bool
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Determine if a particular table exists
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$tableName</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>bool
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (1589 - 1592)</small></summary>

```php
public function tableExists(string $tableName): bool
{
	return in_array($this->protectIdentifiers($tableName, true, false, false), $this->listTables());
}
```

</details>


<hr>

#### getFieldNames()

```php
public function getFieldNames(string $table)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Fetch Field Names
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$table</code></td>
<td><em>string
</em></td>
<td>false</td>
<td>Table name</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>array<br>false
</td>
</tr>
</table>


<table>
<tr>
<th style="vertical-align:top;">throw</th>
<td>\DatabaseException
</td>
</tr>
</table>



<details>
<summary><small>Source: 50 lines (1604 - 1653)</small></summary>

```php
public function getFieldNames(string $table)
{
	// Is there a cached result?
	if (isset($this->dataCache['field_names'][$table]))
	{
		return $this->dataCache['field_names'][$table];
	}

	if (empty($this->connID))
	{
		$this->initialize();
	}

	if (false === ($sql = $this->_listColumns($table)))
	{
		if ($this->DBDebug)
		{
			throw new DatabaseException('This feature is not available for the database you are using.');
		}
		return false;
	}

	$query                                  = $this->query($sql);
	$this->dataCache['field_names'][$table] = [];

	foreach ($query->getResultArray() as $row)
	{
		// Do we know from where to get the column's name?
		if (! isset($key))
		{
			if (isset($row['column_name']))
			{
				$key = 'column_name';
			}
			elseif (isset($row['COLUMN_NAME']))
			{
				$key = 'COLUMN_NAME';
			}
			else
			{
				// We have no other choice but to just get the first element's key.
				$key = key($row);
			}
		}

		$this->dataCache['field_names'][$table][] = $row[$key];
	}

	return $this->dataCache['field_names'][$table];
}
```

</details>


<hr>

#### fieldExists()

```php
public function fieldExists(string $fieldName, string $tableName) : bool
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Determine if a particular field exists
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$fieldName</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$tableName</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>bool
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (1664 - 1667)</small></summary>

```php
public function fieldExists(string $fieldName, string $tableName): bool
{
	return in_array($fieldName, $this->getFieldNames($tableName));
}
```

</details>


<hr>

#### getFieldData()

```php
public function getFieldData(string $table)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Returns an object with field data
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$table</code></td>
<td><em>string
</em></td>
<td>false</td>
<td>the table name</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>array<br>false
</td>
</tr>
</table>





<details>
<summary><small>Source: 6 lines (1677 - 1682)</small></summary>

```php
public function getFieldData(string $table)
{
	$fields = $this->_fieldData($this->protectIdentifiers($table, true, false, false));

	return $fields ?? false;
}
```

</details>


<hr>

#### getIndexData()

```php
public function getIndexData(string $table)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Returns an object with key data
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$table</code></td>
<td><em>string
</em></td>
<td>false</td>
<td>the table name</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>array<br>false
</td>
</tr>
</table>





<details>
<summary><small>Source: 6 lines (1692 - 1697)</small></summary>

```php
public function getIndexData(string $table)
{
	$fields = $this->_indexData($this->protectIdentifiers($table, true, false, false));

	return $fields ?? false;
}
```

</details>


<hr>

#### getForeignKeyData()

```php
public function getForeignKeyData(string $table)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Returns an object with foreign key data
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$table</code></td>
<td><em>string
</em></td>
<td>false</td>
<td>the table name</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>array<br>false
</td>
</tr>
</table>





<details>
<summary><small>Source: 6 lines (1707 - 1712)</small></summary>

```php
public function getForeignKeyData(string $table)
{
	$fields = $this->_foreignKeyData($this->protectIdentifiers($table, true, false, false));

	return $fields ?? false;
}
```

</details>


<hr>

#### disableForeignKeyChecks()

```php
public function disableForeignKeyChecks()
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Disables foreign key checks temporarily.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>










<details>
<summary><small>Source: 6 lines (1719 - 1724)</small></summary>

```php
public function disableForeignKeyChecks()
{
	$sql = $this->_disableForeignKeyChecks();

	return $this->query($sql);
}
```

</details>


<hr>

#### enableForeignKeyChecks()

```php
public function enableForeignKeyChecks()
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Enables foreign key checks temporarily.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>










<details>
<summary><small>Source: 6 lines (1731 - 1736)</small></summary>

```php
public function enableForeignKeyChecks()
{
	$sql = $this->_enableForeignKeyChecks();

	return $this->query($sql);
}
```

</details>


<hr>

#### pretend()

```php
public function pretend(bool $pretend = true)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Allows the engine to be set into a mode where queries are not
actually executed, but they are still generated, timed, etc.
</td></tr>
</table>

<table>
<tr><td>
This is primarily used by the prepared query functionality.
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$pretend</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>$this
</td>
</tr>
</table>





<details>
<summary><small>Source: 6 lines (1750 - 1755)</small></summary>

```php
public function pretend(bool $pretend = true)
{
	$this->pretend = $pretend;

	return $this;
}
```

</details>


<hr>

#### resetDataCache()

```php
public function resetDataCache()
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Empties our data cache. Especially helpful during testing.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>





<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>$this
</td>
</tr>
</table>





<details>
<summary><small>Source: 6 lines (1764 - 1769)</small></summary>

```php
public function resetDataCache()
{
	$this->dataCache = [];

	return $this;
}
```

</details>


<hr>

#### error()

```php
public abstract function error() : array
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Returns the last error code and message.
</td></tr>
</table>

<table>
<tr><td>
Must return an array with keys 'code' and 'message':

return ['code' => null, 'message' => null);
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>





<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>array
</td>
</tr>
</table>





<details>
<summary><small>Source: line 1782</small></summary>

```php
abstract public function error(): array;
```

</details>


<hr>

#### insertID()

```php
public abstract function insertID() : int
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Insert ID
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>





<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>int
</td>
</tr>
</table>





<details>
<summary><small>Source: line 1791</small></summary>

```php
abstract public function insertID(): int;
```

</details>


<hr>

#### _listTables()

```php
protected abstract function _listTables(bool $constrainByPrefix = false) : string
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Generates the SQL for listing tables in a platform-dependent manner.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$constrainByPrefix</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>string
</td>
</tr>
</table>





<details>
<summary><small>Source: line 1802</small></summary>

```php
abstract protected function _listTables(bool $constrainByPrefix = false): string;
```

</details>


<hr>

#### _listColumns()

```php
protected abstract function _listColumns(string $table = '') : string
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Generates a platform-specific query string so that the column names can be fetched.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$table</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>string
</td>
</tr>
</table>





<details>
<summary><small>Source: line 1813</small></summary>

```php
abstract protected function _listColumns(string $table = ''): string;
```

</details>


<hr>

#### _fieldData()

```php
protected abstract function _fieldData(string $table) : array
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Platform-specific field data information.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$table</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>array
</td>
</tr>
</table>





<details>
<summary><small>Source: line 1824</small></summary>

```php
abstract protected function _fieldData(string $table): array;
```

</details>


<hr>

#### _indexData()

```php
protected abstract function _indexData(string $table) : array
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Platform-specific index data.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$table</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>array
</td>
</tr>
</table>





<details>
<summary><small>Source: line 1835</small></summary>

```php
abstract protected function _indexData(string $table): array;
```

</details>


<hr>

#### _foreignKeyData()

```php
protected abstract function _foreignKeyData(string $table) : array
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Platform-specific foreign keys data.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$table</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>array
</td>
</tr>
</table>





<details>
<summary><small>Source: line 1846</small></summary>

```php
abstract protected function _foreignKeyData(string $table): array;
```

</details>


<hr>

#### __get()

```php
public function __get(string $key)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Accessor for properties if they exist.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$key</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>mixed
</td>
</tr>
</table>





<details>
<summary><small>Source: 9 lines (1857 - 1865)</small></summary>

```php
public function __get(string $key)
{
	if (property_exists($this, $key))
	{
		return $this->$key;
	}

	return null;
}
```

</details>


<hr>

#### __isset()

```php
public function __isset(string $key) : bool
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Checker for properties existence.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$key</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>bool
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (1876 - 1879)</small></summary>

```php
public function __isset(string $key): bool
{
	return property_exists($this, $key);
}
```

</details>





 


 
  




<hr>

<table>
<tr>
<td style="width:100%"><em>framework/system/Database/BaseConnection.php</em></td>
<td><a href="../../../../../../api/index.md">index</a></td>
<td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/BaseBuilder.md">prev</a></td>
<td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/BasePreparedQuery.md">next</a></td>
<td><a href="#">top</a></td></tr>
</table>




<div style="text-align:right;">

<small>_Generated at **2020-08-15 12:03:11**_ *([EnixApp](https://github.com/enix-app) - [ApiDoc](https://github.com/enix-app/apidoc))*</small>
</div>