


 



<table>
<tr>
<td style="width:100%"><em>framework/system/Database/Forge.php</em></td>
<td><a href="../../../../../../api/index.md">index</a></td>
<td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/Exceptions/ExceptionInterface.md">prev</a></td>
<td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/Migration.md">next</a></td>
</tr>
</table>







# CodeIgniter\Database 
<table style="text-align:left">
<tr><th>namespace</th><td>CodeIgniter\Database</td></tr>
</table>

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
CodeIgniter
</td></tr>
</table>

<table>
<tr><td>
An open source application development framework for PHP

This content is released under the MIT License (MIT)

Copyright (c) 2014-2019 British Columbia Institute of Technology
Copyright (c) 2019-2020 CodeIgniter Foundation

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
</td></tr>
</table>

</details>



<table style="text-align:left">
<tr style="vertical-align:top;">
<th>package</th>
<td>CodeIgniter
</td>
</tr>
<tr style="vertical-align:top;">
<th>author</th>
<td>CodeIgniter Dev Team
</td>
</tr>
<tr style="vertical-align:top;">
<th>copyright</th>
<td>2019-2020 CodeIgniter Foundation
</td>
</tr>
<tr style="vertical-align:top;">
<th>license</th>
<td><a href="https://opensource.org/licenses/MIT">https://opensource.org/licenses/MIT</a>	MIT License
</td>
</tr>
<tr style="vertical-align:top;">
<th>link</th>
<td><a href="https://codeigniter.com">https://codeigniter.com</a>

</td>
</tr>
<tr style="vertical-align:top;">
<th>filesource</th>
<td>framework/system/Database/Forge.php
</td>
</tr>
</table>

 

<details>
<summary style="margin-bottom:12px;"><strong>Members</strong></summary>
<table>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/BaseBuilder.md">CodeIgniter\Database\BaseBuilder</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/BaseConnection.md">CodeIgniter\Database\BaseConnection</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/BasePreparedQuery.md">CodeIgniter\Database\BasePreparedQuery</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/BaseResult.md">CodeIgniter\Database\BaseResult</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/BaseUtils.md">CodeIgniter\Database\BaseUtils</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/Config.md">CodeIgniter\Database\Config</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/ConnectionInterface.md">CodeIgniter\Database\ConnectionInterface</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/Database.md">CodeIgniter\Database\Database</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/Exceptions/DataException.md">CodeIgniter\Database\Exceptions\DataException</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/Exceptions/DatabaseException.md">CodeIgniter\Database\Exceptions\DatabaseException</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/Exceptions/ExceptionInterface.md">CodeIgniter\Database\Exceptions\ExceptionInterface</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/Forge.md">CodeIgniter\Database\Forge</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/Migration.md">CodeIgniter\Database\Migration</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/MigrationRunner.md">CodeIgniter\Database\MigrationRunner</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/ModelFactory.md">CodeIgniter\Database\ModelFactory</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/MySQLi/Builder.md">CodeIgniter\Database\MySQLi\Builder</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/MySQLi/Connection.md">CodeIgniter\Database\MySQLi\Connection</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/MySQLi/Forge.md">CodeIgniter\Database\MySQLi\Forge</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/MySQLi/PreparedQuery.md">CodeIgniter\Database\MySQLi\PreparedQuery</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/MySQLi/Result.md">CodeIgniter\Database\MySQLi\Result</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/MySQLi/Utils.md">CodeIgniter\Database\MySQLi\Utils</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/Postgre/Builder.md">CodeIgniter\Database\Postgre\Builder</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/Postgre/Connection.md">CodeIgniter\Database\Postgre\Connection</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/Postgre/Forge.md">CodeIgniter\Database\Postgre\Forge</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/Postgre/PreparedQuery.md">CodeIgniter\Database\Postgre\PreparedQuery</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/Postgre/Result.md">CodeIgniter\Database\Postgre\Result</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/Postgre/Utils.md">CodeIgniter\Database\Postgre\Utils</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/PreparedQueryInterface.md">CodeIgniter\Database\PreparedQueryInterface</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/Query.md">CodeIgniter\Database\Query</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/QueryInterface.md">CodeIgniter\Database\QueryInterface</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/ResultInterface.md">CodeIgniter\Database\ResultInterface</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/SQLite3/Builder.md">CodeIgniter\Database\SQLite3\Builder</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/SQLite3/Connection.md">CodeIgniter\Database\SQLite3\Connection</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/SQLite3/Forge.md">CodeIgniter\Database\SQLite3\Forge</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/SQLite3/PreparedQuery.md">CodeIgniter\Database\SQLite3\PreparedQuery</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/SQLite3/Result.md">CodeIgniter\Database\SQLite3\Result</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/SQLite3/Table.md">CodeIgniter\Database\SQLite3\Table</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/SQLite3/Utils.md">CodeIgniter\Database\SQLite3\Utils</a></td></tr>
<tr><td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/Seeder.md">CodeIgniter\Database\Seeder</a></td></tr>
</table>
</details>



 
 ## Uses

<table style="text-align:left;">
<tr>
<td>
<a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/Exceptions/DatabaseException.md"><strong>CodeIgniter\Database\Exceptions\DatabaseException</strong></a>
</td>
<td>DatabaseException</td>
</tr>
</table>



 
## CodeIgniter\Database\Forge

<table style="text-align:left">
<tr><th>Class</th><td>Forge</td></tr>
<tr><th>Fully Qualified Name</th><td>CodeIgniter\Database\Forge</td></tr>
</table>


<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Class Forge
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>



### Summary


<table style="text-align:left;">
<tr>
<th>Name</th>
<th>Element</th>
<th>Modifier</th>
<th>Description</th>
</tr>

<tr>
<th><a href="#db"><strong>db</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>The active database connection.</td>
</tr>
<tr>
<th><a href="#fields"><strong>fields</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>List of fields.</td>
</tr>
<tr>
<th><a href="#keys"><strong>keys</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>List of keys.</td>
</tr>
<tr>
<th><a href="#uniqueKeys"><strong>uniqueKeys</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>List of unique keys.</td>
</tr>
<tr>
<th><a href="#primaryKeys"><strong>primaryKeys</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>List of primary keys.</td>
</tr>
<tr>
<th><a href="#foreignKeys"><strong>foreignKeys</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>List of foreign keys.</td>
</tr>
<tr>
<th><a href="#charset"><strong>charset</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>Character set used.</td>
</tr>
<tr>
<th><a href="#createDatabaseStr"><strong>createDatabaseStr</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>CREATE DATABASE statement</td>
</tr>
<tr>
<th><a href="#createDatabaseIfStr"><strong>createDatabaseIfStr</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>CREATE DATABASE IF statement</td>
</tr>
<tr>
<th><a href="#checkDatabaseExistStr"><strong>checkDatabaseExistStr</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>CHECK DATABASE EXIST statement</td>
</tr>
<tr>
<th><a href="#dropDatabaseStr"><strong>dropDatabaseStr</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>DROP DATABASE statement</td>
</tr>
<tr>
<th><a href="#createTableStr"><strong>createTableStr</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>CREATE TABLE statement</td>
</tr>
<tr>
<th><a href="#createTableIfStr"><strong>createTableIfStr</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>CREATE TABLE IF statement</td>
</tr>
<tr>
<th><a href="#createTableKeys"><strong>createTableKeys</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>CREATE TABLE keys flag</td>
</tr>
<tr>
<th><a href="#dropTableIfStr"><strong>dropTableIfStr</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>DROP TABLE IF EXISTS statement</td>
</tr>
<tr>
<th><a href="#renameTableStr"><strong>renameTableStr</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>RENAME TABLE statement</td>
</tr>
<tr>
<th><a href="#unsigned"><strong>unsigned</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>UNSIGNED support</td>
</tr>
<tr>
<th><a href="#null"><strong>null</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>NULL value representation in CREATE/ALTER TABLE statements</td>
</tr>
<tr>
<th><a href="#default"><strong>default</strong></a></th>
<td>prop</td>
<td>
protected

</td>
<td>DEFAULT value representation in CREATE/ALTER TABLE statements</td>
</tr>

<tr>
<th><a href="#__construct"><strong>__construct</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Constructor.</td>
</tr>
<tr>
<th><a href="#getConnection"><strong>getConnection</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Provides access to the forge&#039;s current database connection.</td>
</tr>
<tr>
<th><a href="#createDatabase"><strong>createDatabase</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Create database</td>
</tr>
<tr>
<th><a href="#databaseExists"><strong>databaseExists</strong>()</a></th>
<td>method</td>
<td>
private

</td>
<td>Determine if a database exists</td>
</tr>
<tr>
<th><a href="#dropDatabase"><strong>dropDatabase</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Drop database</td>
</tr>
<tr>
<th><a href="#addKey"><strong>addKey</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Add Key</td>
</tr>
<tr>
<th><a href="#addPrimaryKey"><strong>addPrimaryKey</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Add Primary Key</td>
</tr>
<tr>
<th><a href="#addUniqueKey"><strong>addUniqueKey</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Add Unique Key</td>
</tr>
<tr>
<th><a href="#addField"><strong>addField</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Add Field</td>
</tr>
<tr>
<th><a href="#addForeignKey"><strong>addForeignKey</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Add Foreign Key</td>
</tr>
<tr>
<th><a href="#dropForeignKey"><strong>dropForeignKey</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Foreign Key Drop</td>
</tr>
<tr>
<th><a href="#createTable"><strong>createTable</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Create Table</td>
</tr>
<tr>
<th><a href="#_createTable"><strong>_createTable</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>Create Table</td>
</tr>
<tr>
<th><a href="#_createTableAttributes"><strong>_createTableAttributes</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>CREATE TABLE attributes</td>
</tr>
<tr>
<th><a href="#dropTable"><strong>dropTable</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Drop Table</td>
</tr>
<tr>
<th><a href="#_dropTable"><strong>_dropTable</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>Drop Table</td>
</tr>
<tr>
<th><a href="#renameTable"><strong>renameTable</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Rename Table</td>
</tr>
<tr>
<th><a href="#addColumn"><strong>addColumn</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Column Add</td>
</tr>
<tr>
<th><a href="#dropColumn"><strong>dropColumn</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Column Drop</td>
</tr>
<tr>
<th><a href="#modifyColumn"><strong>modifyColumn</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Column Modify</td>
</tr>
<tr>
<th><a href="#_alterTable"><strong>_alterTable</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>ALTER TABLE</td>
</tr>
<tr>
<th><a href="#_processFields"><strong>_processFields</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>Process fields</td>
</tr>
<tr>
<th><a href="#_processColumn"><strong>_processColumn</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>Process column</td>
</tr>
<tr>
<th><a href="#_attributeType"><strong>_attributeType</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>Field attribute TYPE</td>
</tr>
<tr>
<th><a href="#_attributeUnsigned"><strong>_attributeUnsigned</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>Field attribute UNSIGNED</td>
</tr>
<tr>
<th><a href="#_attributeDefault"><strong>_attributeDefault</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>Field attribute DEFAULT</td>
</tr>
<tr>
<th><a href="#_attributeUnique"><strong>_attributeUnique</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>Field attribute UNIQUE</td>
</tr>
<tr>
<th><a href="#_attributeAutoIncrement"><strong>_attributeAutoIncrement</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>Field attribute AUTO_INCREMENT</td>
</tr>
<tr>
<th><a href="#_processPrimaryKeys"><strong>_processPrimaryKeys</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>Process primary keys</td>
</tr>
<tr>
<th><a href="#_processIndexes"><strong>_processIndexes</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>Process indexes</td>
</tr>
<tr>
<th><a href="#_processForeignKeys"><strong>_processForeignKeys</strong>()</a></th>
<td>method</td>
<td>
protected

</td>
<td>Process foreign keys</td>
</tr>
<tr>
<th><a href="#reset"><strong>reset</strong>()</a></th>
<td>method</td>
<td>
public

</td>
<td>Reset</td>
</tr>

</table>





### Properties


<hr>

#### $db

```php
protected $db;
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
The active database connection.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>\BaseConnection
</td>
</tr>
</table>


<hr>

#### $fields

```php
protected $fields = [];
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
List of fields.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>array
</td>
</tr>
</table>


<hr>

#### $keys

```php
protected $keys = [];
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
List of keys.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>array
</td>
</tr>
</table>


<hr>

#### $uniqueKeys

```php
protected $uniqueKeys = [];
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
List of unique keys.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>array
</td>
</tr>
</table>


<hr>

#### $primaryKeys

```php
protected $primaryKeys = [];
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
List of primary keys.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>array
</td>
</tr>
</table>


<hr>

#### $foreignKeys

```php
protected $foreignKeys = [];
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
List of foreign keys.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>array
</td>
</tr>
</table>


<hr>

#### $charset

```php
protected $charset = '';
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Character set used.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>string
</td>
</tr>
</table>


<hr>

#### $createDatabaseStr

```php
protected $createDatabaseStr = 'CREATE DATABASE %s';
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
CREATE DATABASE statement
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>string
</td>
</tr>
</table>


<hr>

#### $createDatabaseIfStr

```php
protected $createDatabaseIfStr;
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
CREATE DATABASE IF statement
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>string
</td>
</tr>
</table>


<hr>

#### $checkDatabaseExistStr

```php
protected $checkDatabaseExistStr;
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
CHECK DATABASE EXIST statement
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>string
</td>
</tr>
</table>


<hr>

#### $dropDatabaseStr

```php
protected $dropDatabaseStr = 'DROP DATABASE %s';
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
DROP DATABASE statement
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>string
</td>
</tr>
</table>


<hr>

#### $createTableStr

```php
protected $createTableStr = "%s %s (%s\n)";
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
CREATE TABLE statement
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>string
</td>
</tr>
</table>


<hr>

#### $createTableIfStr

```php
protected $createTableIfStr = 'CREATE TABLE IF NOT EXISTS';
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
CREATE TABLE IF statement
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>string
</td>
</tr>
</table>


<hr>

#### $createTableKeys

```php
protected $createTableKeys = false;
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
CREATE TABLE keys flag
</td></tr>
</table>

<table>
<tr><td>
Whether table keys are created from within the
CREATE TABLE statement.
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>bool
</td>
</tr>
</table>


<hr>

#### $dropTableIfStr

```php
protected $dropTableIfStr = 'DROP TABLE IF EXISTS';
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
DROP TABLE IF EXISTS statement
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>string
</td>
</tr>
</table>


<hr>

#### $renameTableStr

```php
protected $renameTableStr = 'ALTER TABLE %s RENAME TO %s;';
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
RENAME TABLE statement
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>string
</td>
</tr>
</table>


<hr>

#### $unsigned

```php
protected $unsigned = true;
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
UNSIGNED support
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>bool<br>array
</td>
</tr>
</table>


<hr>

#### $null

```php
protected $null = '';
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
NULL value representation in CREATE/ALTER TABLE statements
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>string
</td>
</tr>
</table>


<hr>

#### $default

```php
protected $default = ' DEFAULT ';
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
DEFAULT value representation in CREATE/ALTER TABLE statements
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>




<table>
<tr>
<th style="vertical-align:top;">var</th>
<td>string
</td>
</tr>
</table>







### Methods


<hr>

#### __construct()

```php
public function __construct(ConnectionInterface $db)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Constructor.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$db</code></td>
<td><em>\CodeIgniter\Database\ConnectionInterface
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>








<details>
<summary><small>Source: 4 lines (195 - 198)</small></summary>

```php
public function __construct(ConnectionInterface $db)
{
	$this->db = &$db;
}
```

</details>


<hr>

#### getConnection()

```php
public function getConnection()
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Provides access to the forge's current database connection.
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>





<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\ConnectionInterface
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (207 - 210)</small></summary>

```php
public function getConnection()
{
	return $this->db;
}
```

</details>


<hr>

#### createDatabase()

```php
public function createDatabase(string $dbName, bool $ifNotExists = false) : bool
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Create database
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$dbName</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$ifNotExists</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td>Whether to add IF NOT EXISTS condition</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>bool
</td>
</tr>
</table>


<table>
<tr>
<th style="vertical-align:top;">throw</th>
<td>\CodeIgniter\Database\Exceptions\DatabaseException
</td>
</tr>
</table>



<details>
<summary><small>Source: 38 lines (223 - 260)</small></summary>

```php
public function createDatabase(string $dbName, bool $ifNotExists = false): bool
{
	if ($ifNotExists && $this->createDatabaseIfStr === null)
	{
		if ($this->databaseExists($dbName))
		{
			return true;
		}
		$ifNotExists = false;
	}

	if ($this->createDatabaseStr === false)
	{
		if ($this->db->DBDebug)
		{
			throw new DatabaseException('This feature is not available for the database you are using.');
		}

		return false;
	}
	elseif (! $this->db->query(sprintf($ifNotExists ? $this->createDatabaseIfStr : $this->createDatabaseStr, $dbName, $this->db->charset, $this->db->DBCollat))
	)
	{
		if ($this->db->DBDebug)
		{
			throw new DatabaseException('Unable to create the specified database.');
		}

		return false;
	}

	if (! empty($this->db->dataCache['db_names']))
	{
		$this->db->dataCache['db_names'][] = $dbName;
	}

	return true;
}
```

</details>


<hr>

#### databaseExists()

```php
private function databaseExists(string $dbName) : bool
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Determine if a database exists
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$dbName</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>bool
</td>
</tr>
</table>


<table>
<tr>
<th style="vertical-align:top;">throw</th>
<td>\CodeIgniter\Database\Exceptions\DatabaseException
</td>
</tr>
</table>



<details>
<summary><small>Source: 14 lines (272 - 285)</small></summary>

```php
private function databaseExists(string $dbName): bool
{
	if ($this->checkDatabaseExistStr === null)
	{
		if ($this->db->DBDebug)
		{
			throw new DatabaseException('This feature is not available for the database you are using.');
		}

		return false;
	}

	return $this->db->query($this->checkDatabaseExistStr, $dbName)->getRow() !== null;
}
```

</details>


<hr>

#### dropDatabase()

```php
public function dropDatabase(string $dbName) : bool
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Drop database
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$dbName</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>bool
</td>
</tr>
</table>


<table>
<tr>
<th style="vertical-align:top;">throw</th>
<td>\CodeIgniter\Database\Exceptions\DatabaseException
</td>
</tr>
</table>



<details>
<summary><small>Source: 32 lines (297 - 328)</small></summary>

```php
public function dropDatabase(string $dbName): bool
{
	if ($this->dropDatabaseStr === false)
	{
		if ($this->db->DBDebug)
		{
			throw new DatabaseException('This feature is not available for the database you are using.');
		}

		return false;
	}
	elseif (! $this->db->query(sprintf($this->dropDatabaseStr, $dbName)))
	{
		if ($this->db->DBDebug)
		{
			throw new DatabaseException('Unable to drop the specified database.');
		}

		return false;
	}

	if (! empty($this->db->dataCache['db_names']))
	{
		$key = array_search(strtolower($dbName), array_map('strtolower', $this->db->dataCache['db_names']), true);
		if ($key !== false)
		{
			unset($this->db->dataCache['db_names'][$key]);
		}
	}

	return true;
}
```

</details>


<hr>

#### addKey()

```php
public function addKey($key, bool $primary = false, bool $unique = false)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Add Key
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$key</code></td>
<td><em>string<br>array
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$primary</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>3.</td>
<td><code>$unique</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\Forge
</td>
</tr>
</table>





<details>
<summary><small>Source: 20 lines (341 - 360)</small></summary>

```php
public function addKey($key, bool $primary = false, bool $unique = false)
{
	if ($primary === true)
	{
		foreach ((array)$key as $one)
		{
			$this->primaryKeys[] = $one;
		}
	}
	else
	{
		$this->keys[] = $key;
		if ($unique === true)
		{
			$this->uniqueKeys[] = ($c = count($this->keys)) ? $c - 1 : 0;
		}
	}

	return $this;
}
```

</details>


<hr>

#### addPrimaryKey()

```php
public function addPrimaryKey($key)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Add Primary Key
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$key</code></td>
<td><em>string<br>array
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\Forge
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (371 - 374)</small></summary>

```php
public function addPrimaryKey($key)
{
	return $this->addKey($key, true);
}
```

</details>


<hr>

#### addUniqueKey()

```php
public function addUniqueKey($key)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Add Unique Key
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$key</code></td>
<td><em>string<br>array
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\Forge
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (385 - 388)</small></summary>

```php
public function addUniqueKey($key)
{
	return $this->addKey($key, false, true);
}
```

</details>


<hr>

#### addField()

```php
public function addField($field)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Add Field
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$field</code></td>
<td><em>array<br>string
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\Forge
</td>
</tr>
</table>





<details>
<summary><small>Source: 33 lines (399 - 431)</small></summary>

```php
public function addField($field)
{
	if (is_string($field))
	{
		if ($field === 'id')
		{
			$this->addField([
				'id' => [
					'type'           => 'INT',
					'constraint'     => 9,
					'auto_increment' => true,
				],
			]);
			$this->addKey('id', true);
		}
		else
		{
			if (strpos($field, ' ') === false)
			{
				throw new \InvalidArgumentException('Field information is required for that operation.');
			}

			$this->fields[] = $field;
		}
	}

	if (is_array($field))
	{
		$this->fields = array_merge($this->fields, $field);
	}

	return $this;
}
```

</details>


<hr>

#### addForeignKey()

```php
public function addForeignKey(string $fieldName = '', string $tableName = '', string $tableField = '', string $onUpdate = '', string $onDelete = '')
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Add Foreign Key
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$fieldName</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>2.</td>
<td><code>$tableName</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>3.</td>
<td><code>$tableField</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>4.</td>
<td><code>$onUpdate</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>

<tr>
<td>5.</td>
<td><code>$onDelete</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>\CodeIgniter\Database\Forge
</td>
</tr>
</table>


<table>
<tr>
<th style="vertical-align:top;">throw</th>
<td>\CodeIgniter\Database\Exceptions\DatabaseException
</td>
</tr>
</table>



<details>
<summary><small>Source: 16 lines (447 - 462)</small></summary>

```php
public function addForeignKey(string $fieldName = '', string $tableName = '', string $tableField = '', string $onUpdate = '', string $onDelete = '')
{
	if (! isset($this->fields[$fieldName]))
	{
		throw new DatabaseException(lang('Database.fieldNotExists', [$fieldName]));
	}

	$this->foreignKeys[$fieldName] = [
		'table'    => $tableName,
		'field'    => $tableField,
		'onDelete' => strtoupper($onDelete),
		'onUpdate' => strtoupper($onUpdate),
	];

	return $this;
}
```

</details>


<hr>

#### dropForeignKey()

```php
public function dropForeignKey(string $table, string $foreignName)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Foreign Key Drop
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$table</code></td>
<td><em>string
</em></td>
<td>false</td>
<td>Table name</td>
</tr>

<tr>
<td>2.</td>
<td><code>$foreignName</code></td>
<td><em>string
</em></td>
<td>false</td>
<td>Foreign name</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>bool<br>\CodeIgniter\Database\BaseResult<br>\CodeIgniter\Database\Query<br>false<br>mixed
</td>
</tr>
</table>


<table>
<tr>
<th style="vertical-align:top;">throw</th>
<td>\CodeIgniter\Database\Exceptions\DatabaseException
</td>
</tr>
</table>



<details>
<summary><small>Source: 17 lines (475 - 491)</small></summary>

```php
public function dropForeignKey(string $table, string $foreignName)
{
	$sql = sprintf($this->dropConstraintStr, $this->db->escapeIdentifiers($this->db->DBPrefix . $table),
		$this->db->escapeIdentifiers($this->db->DBPrefix . $foreignName));

	if ($sql === false)
	{
		if ($this->db->DBDebug)
		{
			throw new DatabaseException('This feature is not available for the database you are using.');
		}

		return false;
	}

	return $this->db->query($sql);
}
```

</details>


<hr>

#### createTable()

```php
public function createTable(string $table, bool $if_not_exists = false, array $attributes = array())
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Create Table
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$table</code></td>
<td><em>string
</em></td>
<td>false</td>
<td>Table name</td>
</tr>

<tr>
<td>2.</td>
<td><code>$if_not_exists</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td>Whether to add IF NOT EXISTS condition</td>
</tr>

<tr>
<td>3.</td>
<td><code>$attributes</code></td>
<td><em>array
</em></td>
<td>false</td>
<td>Associative array of table attributes</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>mixed
</td>
</tr>
</table>


<table>
<tr>
<th style="vertical-align:top;">throw</th>
<td>\CodeIgniter\Database\Exceptions\DatabaseException
</td>
</tr>
</table>



<details>
<summary><small>Source: 51 lines (505 - 555)</small></summary>

```php
public function createTable(string $table, bool $if_not_exists = false, array $attributes = [])
{
	if ($table === '')
	{
		throw new \InvalidArgumentException('A table name is required for that operation.');
	}

	$table = $this->db->DBPrefix . $table;

	if (count($this->fields) === 0)
	{
		throw new \RuntimeException('Field information is required.');
	}

	$sql = $this->_createTable($table, $if_not_exists, $attributes);

	if (is_bool($sql))
	{
		$this->reset();
		if ($sql === false)
		{
			if ($this->db->DBDebug)
			{
				throw new DatabaseException('This feature is not available for the database you are using.');
			}

			return false;
		}
	}

	if (($result = $this->db->query($sql)) !== false)
	{
		if (! isset($this->db->dataCache['table_names'][$table]))
		{
			$this->db->dataCache['table_names'][] = $table;
		}

		// Most databases don't support creating indexes from within the CREATE TABLE statement
		if (! empty($this->keys))
		{
			for ($i = 0, $sqls = $this->_processIndexes($table), $c = count($sqls); $i < $c; $i++)
			{
				$this->db->query($sqls[$i]);
			}
		}
	}

	$this->reset();

	return $result;
}
```

</details>


<hr>

#### _createTable()

```php
protected function _createTable(string $table, bool $if_not_exists, array $attributes)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Create Table
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$table</code></td>
<td><em>string
</em></td>
<td>false</td>
<td>Table name</td>
</tr>

<tr>
<td>2.</td>
<td><code>$if_not_exists</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td>Whether to add 'IF NOT EXISTS' condition</td>
</tr>

<tr>
<td>3.</td>
<td><code>$attributes</code></td>
<td><em>array
</em></td>
<td>false</td>
<td>Associative array of table attributes</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>mixed
</td>
</tr>
</table>





<details>
<summary><small>Source: 40 lines (568 - 607)</small></summary>

```php
protected function _createTable(string $table, bool $if_not_exists, array $attributes)
{
	// For any platforms that don't support Create If Not Exists...
	if ($if_not_exists === true && $this->createTableIfStr === false)
	{
		if ($this->db->tableExists($table))
		{
			return true;
		}

		$if_not_exists = false;
	}

	$sql = ($if_not_exists) ? sprintf($this->createTableIfStr, $this->db->escapeIdentifiers($table))
		: 'CREATE TABLE';

	$columns = $this->_processFields(true);
	for ($i = 0, $c = count($columns); $i < $c; $i++)
	{
		$columns[$i] = ($columns[$i]['_literal'] !== false) ? "\n\t" . $columns[$i]['_literal']
			: "\n\t" . $this->_processColumn($columns[$i]);
	}

	$columns = implode(',', $columns);

	$columns .= $this->_processPrimaryKeys($table);
	$columns .= $this->_processForeignKeys($table);

	// Are indexes created from within the CREATE TABLE statement? (e.g. in MySQL)
	if ($this->createTableKeys === true)
	{
		$columns .= $this->_processIndexes($table);
	}

	// createTableStr will usually have the following format: "%s %s (%s\n)"
	$sql = sprintf($this->createTableStr . '%s', $sql, $this->db->escapeIdentifiers($table), $columns,
		$this->_createTableAttributes($attributes));

	return $sql;
}
```

</details>


<hr>

#### _createTableAttributes()

```php
protected function _createTableAttributes(array $attributes) : string
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
CREATE TABLE attributes
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$attributes</code></td>
<td><em>array
</em></td>
<td>false</td>
<td>Associative array of table attributes</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>string
</td>
</tr>
</table>





<details>
<summary><small>Source: 14 lines (618 - 631)</small></summary>

```php
protected function _createTableAttributes(array $attributes): string
{
	$sql = '';

	foreach (array_keys($attributes) as $key)
	{
		if (is_string($key))
		{
			$sql .= ' ' . strtoupper($key) . ' ' . $this->db->escape($attributes[$key]);
		}
	}

	return $sql;
}
```

</details>


<hr>

#### dropTable()

```php
public function dropTable(string $tableName, bool $ifExists = false, bool $cascade = false)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Drop Table
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$tableName</code></td>
<td><em>string
</em></td>
<td>false</td>
<td>Table name</td>
</tr>

<tr>
<td>2.</td>
<td><code>$ifExists</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td>Whether to add an IF EXISTS condition</td>
</tr>

<tr>
<td>3.</td>
<td><code>$cascade</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td>Whether to add an CASCADE condition</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>mixed
</td>
</tr>
</table>


<table>
<tr>
<th style="vertical-align:top;">throw</th>
<td>\CodeIgniter\Database\Exceptions\DatabaseException
</td>
</tr>
</table>



<details>
<summary><small>Source: 42 lines (645 - 686)</small></summary>

```php
public function dropTable(string $tableName, bool $ifExists = false, bool $cascade = false)
{
	if ($tableName === '')
	{
		if ($this->db->DBDebug)
		{
			throw new DatabaseException('A table name is required for that operation.');
		}

		return false;
	}

	// If the prefix is already starting the table name, remove it...
	if ($this->db->DBPrefix && strpos($tableName, $this->db->DBPrefix) === 0)
	{
		$tableName = substr($tableName, strlen($this->db->DBPrefix));
	}

	if (($query = $this->_dropTable($this->db->DBPrefix . $tableName, $ifExists, $cascade)) === true)
	{
		return true;
	}

	$this->db->disableForeignKeyChecks();

	$query = $this->db->query($query);

	$this->db->enableForeignKeyChecks();

	// Update table list cache
	if ($query && ! empty($this->db->dataCache['table_names']))
	{
		$key = array_search(strtolower($this->db->DBPrefix . $tableName),
			array_map('strtolower', $this->db->dataCache['table_names']), true);
		if ($key !== false)
		{
			unset($this->db->dataCache['table_names'][$key]);
		}
	}

	return $query;
}
```

</details>


<hr>

#### _dropTable()

```php
protected function _dropTable(string $table, bool $if_exists, bool $cascade) : string
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Drop Table
</td></tr>
</table>

<table>
<tr><td>
Generates a platform-specific DROP TABLE string
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$table</code></td>
<td><em>string
</em></td>
<td>false</td>
<td>Table name</td>
</tr>

<tr>
<td>2.</td>
<td><code>$if_exists</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td>Whether to add an IF EXISTS condition</td>
</tr>

<tr>
<td>3.</td>
<td><code>$cascade</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td>Whether to add an CASCADE condition</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>string
</td>
</tr>
</table>





<details>
<summary><small>Source: 21 lines (701 - 721)</small></summary>

```php
protected function _dropTable(string $table, bool $if_exists, bool $cascade): string
{
	$sql = 'DROP TABLE';

	if ($if_exists)
	{
		if ($this->dropTableIfStr === false)
		{
			if (! $this->db->tableExists($table))
			{
				return true;
			}
		}
		else
		{
			$sql = sprintf($this->dropTableIfStr, $this->db->escapeIdentifiers($table));
		}
	}

	return $sql . ' ' . $this->db->escapeIdentifiers($table);
}
```

</details>


<hr>

#### renameTable()

```php
public function renameTable(string $table_name, string $new_table_name)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Rename Table
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$table_name</code></td>
<td><em>string
</em></td>
<td>false</td>
<td>Old table name</td>
</tr>

<tr>
<td>2.</td>
<td><code>$new_table_name</code></td>
<td><em>string
</em></td>
<td>false</td>
<td>New table name</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>mixed
</td>
</tr>
</table>


<table>
<tr>
<th style="vertical-align:top;">throw</th>
<td>\CodeIgniter\Database\Exceptions\DatabaseException
</td>
</tr>
</table>



<details>
<summary><small>Source: 33 lines (734 - 766)</small></summary>

```php
public function renameTable(string $table_name, string $new_table_name)
{
	if ($table_name === '' || $new_table_name === '')
	{
		throw new \InvalidArgumentException('A table name is required for that operation.');
	}
	elseif ($this->renameTableStr === false)
	{
		if ($this->db->DBDebug)
		{
			throw new DatabaseException('This feature is not available for the database you are using.');
		}

		return false;
	}

	$result = $this->db->query(sprintf($this->renameTableStr,
			$this->db->escapeIdentifiers($this->db->DBPrefix . $table_name),
			$this->db->escapeIdentifiers($this->db->DBPrefix . $new_table_name))
	);

	if ($result && ! empty($this->db->dataCache['table_names']))
	{
		$key = array_search(strtolower($this->db->DBPrefix . $table_name),
			array_map('strtolower', $this->db->dataCache['table_names']), true);
		if ($key !== false)
		{
			$this->db->dataCache['table_names'][$key] = $this->db->DBPrefix . $new_table_name;
		}
	}

	return $result;
}
```

</details>


<hr>

#### addColumn()

```php
public function addColumn(string $table, $field) : bool
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Column Add
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$table</code></td>
<td><em>string
</em></td>
<td>false</td>
<td>Table name</td>
</tr>

<tr>
<td>2.</td>
<td><code>$field</code></td>
<td><em>string<br>array
</em></td>
<td>false</td>
<td>Column definition</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>bool
</td>
</tr>
</table>


<table>
<tr>
<th style="vertical-align:top;">throw</th>
<td>\CodeIgniter\Database\Exceptions\DatabaseException
</td>
</tr>
</table>



<details>
<summary><small>Source: 32 lines (779 - 810)</small></summary>

```php
public function addColumn(string $table, $field): bool
{
	// Work-around for literal column definitions
	is_array($field) || $field = [$field];

	foreach (array_keys($field) as $k)
	{
		$this->addField([$k => $field[$k]]);
	}

	$sqls = $this->_alterTable('ADD', $this->db->DBPrefix . $table, $this->_processFields());
	$this->reset();
	if ($sqls === false)
	{
		if ($this->db->DBDebug)
		{
			throw new DatabaseException('This feature is not available for the database you are using.');
		}

		return false;
	}

	for ($i = 0, $c = count($sqls); $i < $c; $i++)
	{
		if ($this->db->query($sqls[$i]) === false)
		{
			return false;
		}
	}

	return true;
}
```

</details>


<hr>

#### dropColumn()

```php
public function dropColumn(string $table, $column_name)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Column Drop
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$table</code></td>
<td><em>string
</em></td>
<td>false</td>
<td>Table name</td>
</tr>

<tr>
<td>2.</td>
<td><code>$column_name</code></td>
<td><em>string<br>array
</em></td>
<td>false</td>
<td>Column name Array or comma separated</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>mixed
</td>
</tr>
</table>


<table>
<tr>
<th style="vertical-align:top;">throw</th>
<td>\CodeIgniter\Database\Exceptions\DatabaseException
</td>
</tr>
</table>



<details>
<summary><small>Source: 15 lines (823 - 837)</small></summary>

```php
public function dropColumn(string $table, $column_name)
{
	$sql = $this->_alterTable('DROP', $this->db->DBPrefix . $table, $column_name);
	if ($sql === false)
	{
		if ($this->db->DBDebug)
		{
			throw new DatabaseException('This feature is not available for the database you are using.');
		}

		return false;
	}

	return $this->db->query($sql);
}
```

</details>


<hr>

#### modifyColumn()

```php
public function modifyColumn(string $table, $field) : bool
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Column Modify
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$table</code></td>
<td><em>string
</em></td>
<td>false</td>
<td>Table name</td>
</tr>

<tr>
<td>2.</td>
<td><code>$field</code></td>
<td><em>string<br>array
</em></td>
<td>false</td>
<td>Column definition</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>bool
</td>
</tr>
</table>


<table>
<tr>
<th style="vertical-align:top;">throw</th>
<td>\CodeIgniter\Database\Exceptions\DatabaseException
</td>
</tr>
</table>



<details>
<summary><small>Source: 40 lines (850 - 889)</small></summary>

```php
public function modifyColumn(string $table, $field): bool
{
	// Work-around for literal column definitions
	is_array($field) || $field = [$field];

	foreach (array_keys($field) as $k)
	{
		$this->addField([$k => $field[$k]]);
	}

	if (count($this->fields) === 0)
	{
		throw new \RuntimeException('Field information is required');
	}

	$sqls = $this->_alterTable('CHANGE', $this->db->DBPrefix . $table, $this->_processFields());
	$this->reset();
	if ($sqls === false)
	{
		if ($this->db->DBDebug)
		{
			throw new DatabaseException('This feature is not available for the database you are using.');
		}

		return false;
	}

	if ($sqls !== null)
	{
		for ($i = 0, $c = count($sqls); $i < $c; $i++)
		{
			if ($this->db->query($sqls[$i]) === false)
			{
				return false;
			}
		}
	}

	return true;
}
```

</details>


<hr>

#### _alterTable()

```php
protected function _alterTable(string $alter_type, string $table, $fields)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
ALTER TABLE
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$alter_type</code></td>
<td><em>string
</em></td>
<td>false</td>
<td>ALTER type</td>
</tr>

<tr>
<td>2.</td>
<td><code>$table</code></td>
<td><em>string
</em></td>
<td>false</td>
<td>Table name</td>
</tr>

<tr>
<td>3.</td>
<td><code>$fields</code></td>
<td><em>mixed
</em></td>
<td>false</td>
<td>Column definition</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>string<br>string[]
</td>
</tr>
</table>





<details>
<summary><small>Source: 30 lines (902 - 931)</small></summary>

```php
protected function _alterTable(string $alter_type, string $table, $fields)
{
	$sql = 'ALTER TABLE ' . $this->db->escapeIdentifiers($table) . ' ';

	// DROP has everything it needs now.
	if ($alter_type === 'DROP')
	{
		if (is_string($fields))
		{
			$fields = explode(',', $fields);
		}

		$fields = array_map(function ($field) {
			return 'DROP COLUMN ' . $this->db->escapeIdentifiers(trim($field));
		}, $fields);

		return $sql . implode(', ', $fields);
	}

	$sql .= ($alter_type === 'ADD') ? 'ADD ' : $alter_type . ' COLUMN ';

	$sqls = [];
	foreach ($fields as $data)
	{
		$sqls[] = $sql
				  . ($data['_literal'] !== false ? $data['_literal'] : $this->_processColumn($data));
	}

	return $sqls;
}
```

</details>


<hr>

#### _processFields()

```php
protected function _processFields(bool $create_table = false) : array
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Process fields
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$create_table</code></td>
<td><em>bool
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>array
</td>
</tr>
</table>





<details>
<summary><small>Source: 90 lines (942 - 1031)</small></summary>

```php
protected function _processFields(bool $create_table = false): array
{
	$fields = [];

	foreach ($this->fields as $key => $attributes)
	{
		if (is_int($key) && ! is_array($attributes))
		{
			$fields[] = ['_literal' => $attributes];
			continue;
		}

		$attributes = array_change_key_case($attributes, CASE_UPPER);

		if ($create_table === true && empty($attributes['TYPE']))
		{
			continue;
		}

		isset($attributes['TYPE']) && $this->_attributeType($attributes);

		$field = [
			'name'           => $key,
			'new_name'       => isset($attributes['NAME']) ? $attributes['NAME'] : null,
			'type'           => isset($attributes['TYPE']) ? $attributes['TYPE'] : null,
			'length'         => '',
			'unsigned'       => '',
			'null'           => '',
			'unique'         => '',
			'default'        => '',
			'auto_increment' => '',
			'_literal'       => false,
		];

		isset($attributes['TYPE']) && $this->_attributeUnsigned($attributes, $field);

		if ($create_table === false)
		{
			if (isset($attributes['AFTER']))
			{
				$field['after'] = $attributes['AFTER'];
			}
			elseif (isset($attributes['FIRST']))
			{
				$field['first'] = (bool)$attributes['FIRST'];
			}
		}

		$this->_attributeDefault($attributes, $field);

		if (isset($attributes['NULL']))
		{
			if ($attributes['NULL'] === true)
			{
				$field['null'] = empty($this->null) ? '' : ' ' . $this->null;
			}
			else
			{
				$field['null'] = ' NOT NULL';
			}
		}
		elseif ($create_table === true)
		{
			$field['null'] = ' NOT NULL';
		}

		$this->_attributeAutoIncrement($attributes, $field);
		$this->_attributeUnique($attributes, $field);

		if (isset($attributes['COMMENT']))
		{
			$field['comment'] = $this->db->escape($attributes['COMMENT']);
		}

		if (isset($attributes['TYPE']) && ! empty($attributes['CONSTRAINT']))
		{
			if (is_array($attributes['CONSTRAINT']))
			{
				$attributes['CONSTRAINT'] = $this->db->escape($attributes['CONSTRAINT']);
				$attributes['CONSTRAINT'] = implode(',', $attributes['CONSTRAINT']);
			}

			$field['length'] = '(' . $attributes['CONSTRAINT'] . ')';
		}

		$fields[] = $field;
	}

	return $fields;
}
```

</details>


<hr>

#### _processColumn()

```php
protected function _processColumn(array $field) : string
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Process column
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$field</code></td>
<td><em>array
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>string
</td>
</tr>
</table>





<details>
<summary><small>Source: 10 lines (1042 - 1051)</small></summary>

```php
protected function _processColumn(array $field): string
{
	return $this->db->escapeIdentifiers($field['name'])
		   . ' ' . $field['type'] . $field['length']
		   . $field['unsigned']
		   . $field['default']
		   . $field['null']
		   . $field['auto_increment']
		   . $field['unique'];
}
```

</details>


<hr>

#### _attributeType()

```php
protected function _attributeType(array &$attributes)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Field attribute TYPE
</td></tr>
</table>

<table>
<tr><td>
Performs a data type mapping between different databases.
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$</code></td>
<td><em>array
</em></td>
<td>false</td>
<td>&$attributes</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>void
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (1064 - 1067)</small></summary>

```php
protected function _attributeType(array &$attributes)
{
	// Usually overridden by drivers
}
```

</details>


<hr>

#### _attributeUnsigned()

```php
protected function _attributeUnsigned(array &$attributes, array &$field)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Field attribute UNSIGNED
</td></tr>
</table>

<table>
<tr><td>
Depending on the unsigned property value:

- TRUE will always set $field['unsigned'] to 'UNSIGNED'
- FALSE will always set $field['unsigned'] to ''
- array(TYPE) will set $field['unsigned'] to 'UNSIGNED',
    if $attributes['TYPE'] is found in the array
- array(TYPE => UTYPE) will change $field['type'],
    from TYPE to UTYPE in case of a match
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$</code></td>
<td><em>array
</em></td>
<td>false</td>
<td>&$attributes</td>
</tr>

<tr>
<td>2.</td>
<td><code>$</code></td>
<td><em>array
</em></td>
<td>false</td>
<td>&$field</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>null<br>void
</td>
</tr>
</table>





<details>
<summary><small>Source: 33 lines (1088 - 1120)</small></summary>

```php
protected function _attributeUnsigned(array &$attributes, array &$field)
{
	if (empty($attributes['UNSIGNED']) || $attributes['UNSIGNED'] !== true)
	{
		return;
	}

	// Reset the attribute in order to avoid issues if we do type conversion
	$attributes['UNSIGNED'] = false;

	if (is_array($this->unsigned))
	{
		foreach (array_keys($this->unsigned) as $key)
		{
			if (is_int($key) && strcasecmp($attributes['TYPE'], $this->unsigned[$key]) === 0)
			{
				$field['unsigned'] = ' UNSIGNED';

				return;
			}
			elseif (is_string($key) && strcasecmp($attributes['TYPE'], $key) === 0)
			{
				$field['type'] = $key;

				return;
			}
		}

		return;
	}

	$field['unsigned'] = ($this->unsigned === true) ? ' UNSIGNED' : '';
}
```

</details>


<hr>

#### _attributeDefault()

```php
protected function _attributeDefault(array &$attributes, array &$field)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Field attribute DEFAULT
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$</code></td>
<td><em>array
</em></td>
<td>false</td>
<td>&$attributes</td>
</tr>

<tr>
<td>2.</td>
<td><code>$</code></td>
<td><em>array
</em></td>
<td>false</td>
<td>&$field</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>null<br>void
</td>
</tr>
</table>





<details>
<summary><small>Source: 23 lines (1132 - 1154)</small></summary>

```php
protected function _attributeDefault(array &$attributes, array &$field)
{
	if ($this->default === false)
	{
		return;
	}

	if (array_key_exists('DEFAULT', $attributes))
	{
		if ($attributes['DEFAULT'] === null)
		{
			$field['default'] = empty($this->null) ? '' : $this->default . $this->null;

			// Override the NULL attribute if that's our default
			$attributes['NULL'] = true;
			$field['null']      = empty($this->null) ? '' : ' ' . $this->null;
		}
		else
		{
			$field['default'] = $this->default . $this->db->escape($attributes['DEFAULT']);
		}
	}
}
```

</details>


<hr>

#### _attributeUnique()

```php
protected function _attributeUnique(array &$attributes, array &$field)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Field attribute UNIQUE
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$</code></td>
<td><em>array
</em></td>
<td>false</td>
<td>&$attributes</td>
</tr>

<tr>
<td>2.</td>
<td><code>$</code></td>
<td><em>array
</em></td>
<td>false</td>
<td>&$field</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>void
</td>
</tr>
</table>





<details>
<summary><small>Source: 7 lines (1166 - 1172)</small></summary>

```php
protected function _attributeUnique(array &$attributes, array &$field)
{
	if (! empty($attributes['UNIQUE']) && $attributes['UNIQUE'] === true)
	{
		$field['unique'] = ' UNIQUE';
	}
}
```

</details>


<hr>

#### _attributeAutoIncrement()

```php
protected function _attributeAutoIncrement(array &$attributes, array &$field)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Field attribute AUTO_INCREMENT
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$</code></td>
<td><em>array
</em></td>
<td>false</td>
<td>&$attributes</td>
</tr>

<tr>
<td>2.</td>
<td><code>$</code></td>
<td><em>array
</em></td>
<td>false</td>
<td>&$field</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>void
</td>
</tr>
</table>





<details>
<summary><small>Source: 9 lines (1184 - 1192)</small></summary>

```php
protected function _attributeAutoIncrement(array &$attributes, array &$field)
{
	if (! empty($attributes['AUTO_INCREMENT']) && $attributes['AUTO_INCREMENT'] === true
		&& stripos($field['type'], 'int') !== false
	)
	{
		$field['auto_increment'] = ' AUTO_INCREMENT';
	}
}
```

</details>


<hr>

#### _processPrimaryKeys()

```php
protected function _processPrimaryKeys(string $table) : string
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Process primary keys
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$table</code></td>
<td><em>string
</em></td>
<td>false</td>
<td>Table name</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>string
</td>
</tr>
</table>





<details>
<summary><small>Source: 20 lines (1203 - 1222)</small></summary>

```php
protected function _processPrimaryKeys(string $table): string
{
	$sql = '';

	for ($i = 0, $c = count($this->primaryKeys); $i < $c; $i++)
	{
		if (! isset($this->fields[$this->primaryKeys[$i]]))
		{
			unset($this->primaryKeys[$i]);
		}
	}

	if (count($this->primaryKeys) > 0)
	{
		$sql .= ",\n\tCONSTRAINT " . $this->db->escapeIdentifiers('pk_' . $table)
				. ' PRIMARY KEY(' . implode(', ', $this->db->escapeIdentifiers($this->primaryKeys)) . ')';
	}

	return $sql;
}
```

</details>


<hr>

#### _processIndexes()

```php
protected function _processIndexes(string $table)
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Process indexes
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$table</code></td>
<td><em>string
</em></td>
<td>false</td>
<td></td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>array
</td>
</tr>
</table>





<details>
<summary><small>Source: 35 lines (1233 - 1267)</small></summary>

```php
protected function _processIndexes(string $table)
{
	$sqls = [];

	for ($i = 0, $c = count($this->keys); $i < $c; $i++)
	{
		$this->keys[$i] = (array)$this->keys[$i];

		for ($i2 = 0, $c2 = count($this->keys[$i]); $i2 < $c2; $i2++)
		{
			if (! isset($this->fields[$this->keys[$i][$i2]]))
			{
				unset($this->keys[$i][$i2]);
			}
		}
		if (count($this->keys[$i]) <= 0)
		{
			continue;
		}

		if (in_array($i, $this->uniqueKeys))
		{
			$sqls[] = 'ALTER TABLE ' . $this->db->escapeIdentifiers($table)
					  . ' ADD CONSTRAINT ' . $this->db->escapeIdentifiers($table . '_' . implode('_', $this->keys[$i]))
					  . ' UNIQUE (' . implode(', ', $this->db->escapeIdentifiers($this->keys[$i])) . ');';
			continue;
		}

		$sqls[] = 'CREATE INDEX ' . $this->db->escapeIdentifiers($table . '_' . implode('_', $this->keys[$i]))
				  . ' ON ' . $this->db->escapeIdentifiers($table)
				  . ' (' . implode(', ', $this->db->escapeIdentifiers($this->keys[$i])) . ');';
	}

	return $sqls;
}
```

</details>


<hr>

#### _processForeignKeys()

```php
protected function _processForeignKeys(string $table) : string
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Process foreign keys
</td></tr>
</table>


</details>



<table style="text-align:left">
</table>


**Params**

<table>
<thead>
<tr>
<th>#</th>
<th>Variable</th>
<th>Type</th>
<th>Variadic</th>
<th>Description</th>
</tr>
</thead>
<tbody>

<tr>
<td>1.</td>
<td><code>$table</code></td>
<td><em>string
</em></td>
<td>false</td>
<td>Table name</td>
</tr>


</tbody>
</table>



<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>string
</td>
</tr>
</table>





<details>
<summary><small>Source: 35 lines (1278 - 1312)</small></summary>

```php
protected function _processForeignKeys(string $table): string
{
	$sql = '';

	$allowActions = [
		'CASCADE',
		'SET NULL',
		'NO ACTION',
		'RESTRICT',
		'SET DEFAULT',
	];

	if (count($this->foreignKeys) > 0)
	{
		foreach ($this->foreignKeys as $field => $fkey)
		{
			$name_index = $table . '_' . $field . '_foreign';

			$sql .= ",\n\tCONSTRAINT " . $this->db->escapeIdentifiers($name_index)
				. ' FOREIGN KEY(' . $this->db->escapeIdentifiers($field) . ') REFERENCES ' . $this->db->escapeIdentifiers($this->db->DBPrefix . $fkey['table']) . ' (' . $this->db->escapeIdentifiers($fkey['field']) . ')';

			if ($fkey['onDelete'] !== false && in_array($fkey['onDelete'], $allowActions))
			{
				$sql .= ' ON DELETE ' . $fkey['onDelete'];
			}

			if ($fkey['onUpdate'] !== false && in_array($fkey['onUpdate'], $allowActions))
			{
				$sql .= ' ON UPDATE ' . $fkey['onUpdate'];
			}
		}
	}

	return $sql;
}
```

</details>


<hr>

#### reset()

```php
public function reset()
```

<details>
<summary style="margin-bottom:12px;"><strong>Description</strong></summary>

<table>
<tr><td>
Reset
</td></tr>
</table>

<table>
<tr><td>
Resets table creation vars
</td></tr>
</table>

</details>



<table style="text-align:left">
</table>





<table>
<tr>
<th style="vertical-align:top;">return</th>
<td>void
</td>
</tr>
</table>





<details>
<summary><small>Source: 4 lines (1323 - 1326)</small></summary>

```php
public function reset()
{
	$this->fields = $this->keys = $this->uniqueKeys = $this->primaryKeys = $this->foreignKeys = [];
}
```

</details>





 


 
  




<hr>

<table>
<tr>
<td style="width:100%"><em>framework/system/Database/Forge.php</em></td>
<td><a href="../../../../../../api/index.md">index</a></td>
<td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/Exceptions/ExceptionInterface.md">prev</a></td>
<td><a href="../../../../../../api/vendor/codeigniter4/framework/system/Database/Migration.md">next</a></td>
<td><a href="#">top</a></td></tr>
</table>




<div style="text-align:right;">

<small>_Generated at **2020-08-15 12:03:11**_ *([EnixApp](https://github.com/enix-app) - [ApiDoc](https://github.com/enix-app/apidoc))*</small>
</div>